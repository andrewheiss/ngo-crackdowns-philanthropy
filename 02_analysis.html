<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Andrew Heiss and Suparna Chaudhry" />


<title>Results</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/spacelab.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/navigation-1.1/sourceembed.js"></script>
<link href="site_libs/font-awesome-5.0.13/css/fa-svg-with-js.css" rel="stylesheet" />
<script src="site_libs/font-awesome-5.0.13/js/fontawesome-all.min.js"></script>
<script src="site_libs/font-awesome-5.0.13/js/fa-v4-shims.min.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
div.sourceCode {
  overflow-x: visible;
}
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
#rmd-source-code {
  display: none;
}
</style>

<link rel="stylesheet" href="html/fixes.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 52px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 57px;
  margin-top: -57px;
}

.section h2 {
  padding-top: 57px;
  margin-top: -57px;
}
.section h3 {
  padding-top: 57px;
  margin-top: -57px;
}
.section h4 {
  padding-top: 57px;
  margin-top: -57px;
}
.section h5 {
  padding-top: 57px;
  margin-top: -57px;
}
.section h6 {
  padding-top: 57px;
  margin-top: -57px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>
<script>
$(document).ready(function () {
  window.initializeSourceEmbed("02_analysis.Rmd");
  window.initializeCodeFolding("hide" === "show");
});
</script>




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3,h4",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
}

</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">NGO Crackdowns and Philanthropy</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="preregistration.html">
    <span class="fa fa-pencil-square"></span>
     
    Preregistration, design, IRB
  </a>
</li>
<li>
  <a href="experiment.html">
    <span class="fa fa-flask"></span>
     
    Experiment
  </a>
</li>
<li>
  <a href="01_clean-data.html">
    <span class="fa fa-table"></span>
     
    Data cleaning
  </a>
</li>
<li>
  <a href="02_analysis.html">
    <span class="fa fa-bar-chart"></span>
     
    Results
  </a>
</li>
<li>
  <a href="03_additional-analysis.html">
    <span class="fa fa-bar-chart"></span>
     
    Additional analysis
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
<li role="separator" class="divider"></li>
<li><a id="rmd-download-source" href="#">Download Rmd</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Results</h1>
<h4 class="author"><em>Andrew Heiss and Suparna Chaudhry</em></h4>
<h4 class="date"><em>Last run: July 14, 2018</em></h4>

</div>


<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw">library</span>(rstanarm)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="kw">library</span>(broom)</a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="kw">library</span>(coda)</a>
<a class="sourceLine" id="cb1-5" data-line-number="5"><span class="kw">library</span>(ggstance)</a>
<a class="sourceLine" id="cb1-6" data-line-number="6"><span class="kw">library</span>(patchwork)</a>
<a class="sourceLine" id="cb1-7" data-line-number="7"><span class="kw">library</span>(pander)</a>
<a class="sourceLine" id="cb1-8" data-line-number="8"><span class="kw">library</span>(scales)</a>
<a class="sourceLine" id="cb1-9" data-line-number="9"><span class="kw">library</span>(janitor)</a>
<a class="sourceLine" id="cb1-10" data-line-number="10"><span class="kw">library</span>(huxtable)</a>
<a class="sourceLine" id="cb1-11" data-line-number="11"><span class="kw">library</span>(here)</a>
<a class="sourceLine" id="cb1-12" data-line-number="12"></a>
<a class="sourceLine" id="cb1-13" data-line-number="13"><span class="kw">source</span>(<span class="kw">file.path</span>(<span class="kw">here</span>(), <span class="st">&quot;lib&quot;</span>, <span class="st">&quot;graphics.R&quot;</span>))</a>
<a class="sourceLine" id="cb1-14" data-line-number="14"><span class="kw">source</span>(<span class="kw">file.path</span>(<span class="kw">here</span>(), <span class="st">&quot;lib&quot;</span>, <span class="st">&quot;pander_options.R&quot;</span>))</a>
<a class="sourceLine" id="cb1-15" data-line-number="15"><span class="kw">source</span>(<span class="kw">file.path</span>(<span class="kw">here</span>(), <span class="st">&quot;lib&quot;</span>, <span class="st">&quot;modeling.R&quot;</span>))</a>
<a class="sourceLine" id="cb1-16" data-line-number="16"></a>
<a class="sourceLine" id="cb1-17" data-line-number="17"><span class="co"># Load data</span></a>
<a class="sourceLine" id="cb1-18" data-line-number="18">results &lt;-<span class="st"> </span><span class="kw">readRDS</span>(<span class="kw">file.path</span>(<span class="kw">here</span>(), <span class="st">&quot;data&quot;</span>, <span class="st">&quot;results_clean.rds&quot;</span>))</a>
<a class="sourceLine" id="cb1-19" data-line-number="19"></a>
<a class="sourceLine" id="cb1-20" data-line-number="20"></a>
<a class="sourceLine" id="cb1-21" data-line-number="21"><span class="co"># Helpful functions</span></a>
<a class="sourceLine" id="cb1-22" data-line-number="22">safe_mean &lt;-<span class="st"> </span><span class="cf">function</span>(x, ...) <span class="kw">suppressWarnings</span>(<span class="kw">mean</span>(<span class="kw">as.numeric</span>(x), ...))</a>
<a class="sourceLine" id="cb1-23" data-line-number="23">safe_sd &lt;-<span class="st"> </span><span class="cf">function</span>(x, ...) <span class="kw">suppressWarnings</span>(<span class="kw">sd</span>(<span class="kw">as.numeric</span>(x), ...))</a>
<a class="sourceLine" id="cb1-24" data-line-number="24"></a>
<a class="sourceLine" id="cb1-25" data-line-number="25">my_as_numeric &lt;-<span class="st"> </span><span class="cf">function</span>(x) {</a>
<a class="sourceLine" id="cb1-26" data-line-number="26">  is_num &lt;-<span class="st"> </span><span class="kw">suppressWarnings</span>(<span class="op">!</span><span class="kw">any</span>(<span class="kw">is.na</span>(<span class="kw">as.numeric</span>(x))))</a>
<a class="sourceLine" id="cb1-27" data-line-number="27">  </a>
<a class="sourceLine" id="cb1-28" data-line-number="28">  <span class="cf">if</span> (is_num) {</a>
<a class="sourceLine" id="cb1-29" data-line-number="29">    <span class="kw">as.numeric</span>(x)</a>
<a class="sourceLine" id="cb1-30" data-line-number="30">  } <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb1-31" data-line-number="31">    x</a>
<a class="sourceLine" id="cb1-32" data-line-number="32">  }</a>
<a class="sourceLine" id="cb1-33" data-line-number="33">}</a>
<a class="sourceLine" id="cb1-34" data-line-number="34"></a>
<a class="sourceLine" id="cb1-35" data-line-number="35">level_summary &lt;-<span class="st"> </span><span class="cf">function</span>(x, variable, <span class="dt">df =</span> results) {</a>
<a class="sourceLine" id="cb1-36" data-line-number="36">  variable &lt;-<span class="st"> </span><span class="kw">as.character</span>(variable)</a>
<a class="sourceLine" id="cb1-37" data-line-number="37">  <span class="cf">if</span> (<span class="kw">is.factor</span>(df[[variable]])) {</a>
<a class="sourceLine" id="cb1-38" data-line-number="38">    x_levels &lt;-<span class="st"> </span><span class="kw">levels</span>(df[[variable]])</a>
<a class="sourceLine" id="cb1-39" data-line-number="39">  } <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb1-40" data-line-number="40">    x_levels &lt;-<span class="st"> </span><span class="kw">unique</span>(df[[variable]])</a>
<a class="sourceLine" id="cb1-41" data-line-number="41">  }</a>
<a class="sourceLine" id="cb1-42" data-line-number="42">  </a>
<a class="sourceLine" id="cb1-43" data-line-number="43">  factor_summary &lt;-<span class="st"> </span><span class="kw">data_frame</span>(x) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb1-44" data-line-number="44"><span class="st">    </span><span class="kw">count</span>(x) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb1-45" data-line-number="45"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">pct =</span> n <span class="op">/</span><span class="st"> </span><span class="kw">sum</span>(n),</a>
<a class="sourceLine" id="cb1-46" data-line-number="46">           <span class="dt">fancy =</span> <span class="kw">paste0</span>(x, <span class="st">&quot; (&quot;</span>, n, <span class="st">&quot;; &quot;</span>, <span class="kw">percent</span>(pct), <span class="st">&quot;)&quot;</span>),</a>
<a class="sourceLine" id="cb1-47" data-line-number="47">           <span class="dt">x =</span> <span class="kw">factor</span>(x, <span class="dt">levels =</span> x_levels, <span class="dt">ordered =</span> <span class="ot">TRUE</span>)) </a>
<a class="sourceLine" id="cb1-48" data-line-number="48">  </a>
<a class="sourceLine" id="cb1-49" data-line-number="49">  inline_summary &lt;-<span class="st"> </span>factor_summary <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">arrange</span>(x) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb1-50" data-line-number="50"><span class="st">    </span><span class="kw">pull</span>(fancy) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">paste</span>(<span class="dt">collapse =</span> <span class="st">&quot; | &quot;</span>)</a>
<a class="sourceLine" id="cb1-51" data-line-number="51">  </a>
<a class="sourceLine" id="cb1-52" data-line-number="52">  fig_bar &lt;-<span class="st"> </span><span class="kw">ggplot</span>(factor_summary, <span class="kw">aes</span>(<span class="dt">x =</span> x, <span class="dt">y =</span> n)) <span class="op">+</span></a>
<a class="sourceLine" id="cb1-53" data-line-number="53"><span class="st">    </span><span class="kw">geom_bar</span>(<span class="dt">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="dt">fill =</span> <span class="st">&quot;grey50&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb1-54" data-line-number="54"><span class="st">    </span><span class="kw">theme_spark</span>()</a>
<a class="sourceLine" id="cb1-55" data-line-number="55">  </a>
<a class="sourceLine" id="cb1-56" data-line-number="56">  file_name &lt;-<span class="st"> </span><span class="kw">gsub</span>(<span class="st">&quot;</span><span class="ch">\\</span><span class="st">.| &quot;</span>, <span class="st">&quot;_&quot;</span>, <span class="kw">tolower</span>(variable))</a>
<a class="sourceLine" id="cb1-57" data-line-number="57">  md_img &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;![](output/figures/summary-table/&quot;</span>, file_name, <span class="st">&quot;)&quot;</span>)</a>
<a class="sourceLine" id="cb1-58" data-line-number="58"></a>
<a class="sourceLine" id="cb1-59" data-line-number="59">  <span class="kw">ggsave</span>(fig_bar, <span class="dt">filename =</span> <span class="kw">file.path</span>(<span class="kw">here</span>(), <span class="st">&quot;output&quot;</span>, <span class="st">&quot;figures&quot;</span>, <span class="st">&quot;summary-table&quot;</span>,</a>
<a class="sourceLine" id="cb1-60" data-line-number="60">                                       <span class="kw">paste0</span>(file_name, <span class="st">&quot;.pdf&quot;</span>)), </a>
<a class="sourceLine" id="cb1-61" data-line-number="61">         <span class="dt">width =</span> <span class="dv">1</span>, <span class="dt">height =</span> <span class="fl">0.2</span>, <span class="dt">device =</span> cairo_pdf)</a>
<a class="sourceLine" id="cb1-62" data-line-number="62">  <span class="kw">ggsave</span>(fig_bar, <span class="dt">filename =</span> <span class="kw">file.path</span>(<span class="kw">here</span>(), <span class="st">&quot;output&quot;</span>, <span class="st">&quot;figures&quot;</span>, <span class="st">&quot;summary-table&quot;</span>,</a>
<a class="sourceLine" id="cb1-63" data-line-number="63">                                       <span class="kw">paste0</span>(file_name, <span class="st">&quot;.png&quot;</span>)), </a>
<a class="sourceLine" id="cb1-64" data-line-number="64">         <span class="dt">width =</span> <span class="dv">1</span>, <span class="dt">height =</span> <span class="fl">0.2</span>, <span class="dt">type =</span> <span class="st">&quot;cairo&quot;</span>, <span class="dt">bg =</span> <span class="st">&quot;transparent&quot;</span>, <span class="dt">dpi =</span> <span class="dv">300</span>)</a>
<a class="sourceLine" id="cb1-65" data-line-number="65"></a>
<a class="sourceLine" id="cb1-66" data-line-number="66">  output &lt;-<span class="st"> </span><span class="kw">data_frame</span>(<span class="dt">spark =</span> md_img, <span class="dt">summary =</span> inline_summary)</a>
<a class="sourceLine" id="cb1-67" data-line-number="67">  <span class="kw">return</span>(output)</a>
<a class="sourceLine" id="cb1-68" data-line-number="68">}</a>
<a class="sourceLine" id="cb1-69" data-line-number="69"></a>
<a class="sourceLine" id="cb1-70" data-line-number="70">numeric_summary &lt;-<span class="st"> </span><span class="cf">function</span>(x, variable) {</a>
<a class="sourceLine" id="cb1-71" data-line-number="71">  inline_summary &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;Median: &quot;</span>, <span class="kw">round</span>(<span class="kw">median</span>(x, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>), <span class="dv">2</span>),</a>
<a class="sourceLine" id="cb1-72" data-line-number="72">                           <span class="st">&quot; | Mean: &quot;</span>, <span class="kw">round</span>(<span class="kw">mean</span>(x, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>), <span class="dv">2</span>), </a>
<a class="sourceLine" id="cb1-73" data-line-number="73">                           <span class="st">&quot; | Std. Dev.: &quot;</span>, <span class="kw">round</span>(<span class="kw">sd</span>(x, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>), <span class="dv">2</span>))</a>
<a class="sourceLine" id="cb1-74" data-line-number="74">  </a>
<a class="sourceLine" id="cb1-75" data-line-number="75">  fig_hist &lt;-<span class="st"> </span><span class="kw">ggplot</span>(<span class="kw">as.data.frame</span>(x), <span class="kw">aes</span>(<span class="dt">x =</span> x)) <span class="op">+</span></a>
<a class="sourceLine" id="cb1-76" data-line-number="76"><span class="st">    </span><span class="kw">geom_histogram</span>(<span class="dt">fill =</span> <span class="st">&quot;grey50&quot;</span>, <span class="dt">binwidth =</span> <span class="dv">10</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb1-77" data-line-number="77"><span class="st">    </span><span class="kw">theme_spark</span>()</a>
<a class="sourceLine" id="cb1-78" data-line-number="78">  </a>
<a class="sourceLine" id="cb1-79" data-line-number="79">  file_name &lt;-<span class="st"> </span><span class="kw">gsub</span>(<span class="st">&quot;</span><span class="ch">\\</span><span class="st">.| &quot;</span>, <span class="st">&quot;_&quot;</span>, <span class="kw">tolower</span>(variable))</a>
<a class="sourceLine" id="cb1-80" data-line-number="80">  md_img &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;![](output/figures/summary-table/&quot;</span>, file_name, <span class="st">&quot;)&quot;</span>)</a>
<a class="sourceLine" id="cb1-81" data-line-number="81"></a>
<a class="sourceLine" id="cb1-82" data-line-number="82">  <span class="kw">ggsave</span>(fig_hist, <span class="dt">filename =</span> <span class="kw">file.path</span>(<span class="kw">here</span>(), <span class="st">&quot;output&quot;</span>, <span class="st">&quot;figures&quot;</span>, <span class="st">&quot;summary-table&quot;</span>,</a>
<a class="sourceLine" id="cb1-83" data-line-number="83">                                        <span class="kw">paste0</span>(file_name, <span class="st">&quot;.pdf&quot;</span>)), </a>
<a class="sourceLine" id="cb1-84" data-line-number="84">         <span class="dt">width =</span> <span class="dv">1</span>, <span class="dt">height =</span> <span class="fl">0.2</span>, <span class="dt">device =</span> cairo_pdf)</a>
<a class="sourceLine" id="cb1-85" data-line-number="85">  <span class="kw">ggsave</span>(fig_hist, <span class="dt">filename =</span> <span class="kw">file.path</span>(<span class="kw">here</span>(), <span class="st">&quot;output&quot;</span>, <span class="st">&quot;figures&quot;</span>, <span class="st">&quot;summary-table&quot;</span>,</a>
<a class="sourceLine" id="cb1-86" data-line-number="86">                                        <span class="kw">paste0</span>(file_name, <span class="st">&quot;.png&quot;</span>)), </a>
<a class="sourceLine" id="cb1-87" data-line-number="87">         <span class="dt">width =</span> <span class="dv">1</span>, <span class="dt">height =</span> <span class="fl">0.2</span>, <span class="dt">type =</span> <span class="st">&quot;cairo&quot;</span>, <span class="dt">bg =</span> <span class="st">&quot;transparent&quot;</span>, <span class="dt">dpi =</span> <span class="dv">300</span>)</a>
<a class="sourceLine" id="cb1-88" data-line-number="88">  </a>
<a class="sourceLine" id="cb1-89" data-line-number="89">  output &lt;-<span class="st"> </span><span class="kw">data_frame</span>(<span class="dt">spark =</span> md_img, <span class="dt">summary =</span> inline_summary)</a>
<a class="sourceLine" id="cb1-90" data-line-number="90">  <span class="kw">return</span>(output)</a>
<a class="sourceLine" id="cb1-91" data-line-number="91">}</a>
<a class="sourceLine" id="cb1-92" data-line-number="92"></a>
<a class="sourceLine" id="cb1-93" data-line-number="93">my_summary &lt;-<span class="st"> </span><span class="cf">function</span>(x, variable, df) {</a>
<a class="sourceLine" id="cb1-94" data-line-number="94">  x &lt;-<span class="st"> </span><span class="kw">my_as_numeric</span>(x)</a>
<a class="sourceLine" id="cb1-95" data-line-number="95">  </a>
<a class="sourceLine" id="cb1-96" data-line-number="96">  <span class="cf">if</span> (<span class="kw">is.numeric</span>(x)) {</a>
<a class="sourceLine" id="cb1-97" data-line-number="97">    <span class="kw">numeric_summary</span>(x, variable)</a>
<a class="sourceLine" id="cb1-98" data-line-number="98">  } <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb1-99" data-line-number="99">    <span class="kw">level_summary</span>(x, variable, df)</a>
<a class="sourceLine" id="cb1-100" data-line-number="100">  }</a>
<a class="sourceLine" id="cb1-101" data-line-number="101">}</a></code></pre></div>
<div id="overview-of-data" class="section level1">
<h1>Overview of data</h1>
<div id="balance-of-experimental-conditions" class="section level2">
<h2>Balance of experimental conditions</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">results <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(crackdown, issue, funding) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="st">  </span><span class="kw">rename</span>(<span class="dt">Crackdown =</span> crackdown, <span class="dt">Issue =</span> issue, <span class="dt">Funding =</span> funding) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="st">  </span>janitor<span class="op">::</span><span class="kw">adorn_totals</span>(., <span class="dt">where =</span> <span class="st">&quot;row&quot;</span>) <span class="op">%T&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="st">  </span><span class="kw">pandoc.table</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="st">  </span><span class="kw">pandoc.table.return</span>(<span class="dt">caption =</span> <span class="st">&quot;Balance of experimental conditions {#tbl:experimental-conditions}&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="st">  </span><span class="kw">cat</span>(<span class="dt">file =</span> <span class="kw">file.path</span>(<span class="kw">here</span>(), <span class="st">&quot;output&quot;</span>, <span class="st">&quot;tables&quot;</span>, <span class="st">&quot;tbl-experimental-conditions.md&quot;</span>))</a></code></pre></div>
<table style="width:83%;">
<colgroup>
<col width="20%" />
<col width="36%" />
<col width="18%" />
<col width="8%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Crackdown</th>
<th align="left">Issue</th>
<th align="left">Funding</th>
<th align="left">n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">No crackdown</td>
<td align="left">Human rights</td>
<td align="left">Government</td>
<td align="left">68</td>
</tr>
<tr class="even">
<td align="left">No crackdown</td>
<td align="left">Human rights</td>
<td align="left">Private</td>
<td align="left">67</td>
</tr>
<tr class="odd">
<td align="left">No crackdown</td>
<td align="left">Humanitarian assistance</td>
<td align="left">Government</td>
<td align="left">69</td>
</tr>
<tr class="even">
<td align="left">No crackdown</td>
<td align="left">Humanitarian assistance</td>
<td align="left">Private</td>
<td align="left">66</td>
</tr>
<tr class="odd">
<td align="left">Crackdown</td>
<td align="left">Human rights</td>
<td align="left">Government</td>
<td align="left">66</td>
</tr>
<tr class="even">
<td align="left">Crackdown</td>
<td align="left">Human rights</td>
<td align="left">Private</td>
<td align="left">69</td>
</tr>
<tr class="odd">
<td align="left">Crackdown</td>
<td align="left">Humanitarian assistance</td>
<td align="left">Government</td>
<td align="left">70</td>
</tr>
<tr class="even">
<td align="left">Crackdown</td>
<td align="left">Humanitarian assistance</td>
<td align="left">Private</td>
<td align="left">71</td>
</tr>
<tr class="odd">
<td align="left">Total</td>
<td align="left">-</td>
<td align="left">-</td>
<td align="left">546</td>
</tr>
</tbody>
</table>
</div>
<div id="descriptive-statistics-table" class="section level2">
<h2>Descriptive statistics table</h2>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">vars_to_summarize &lt;-<span class="st"> </span><span class="kw">tribble</span>(</a>
<a class="sourceLine" id="cb3-2" data-line-number="2">  <span class="op">~</span>variable, <span class="op">~</span>clean_name,</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">  <span class="st">&quot;donate_likely&quot;</span>, <span class="st">&quot;Likelihood of donation&quot;</span>,</a>
<a class="sourceLine" id="cb3-4" data-line-number="4">  <span class="st">&quot;donate_likely_bin&quot;</span>, <span class="st">&quot;Likelihood of donation (binary)&quot;</span>,</a>
<a class="sourceLine" id="cb3-5" data-line-number="5">  <span class="st">&quot;amount_donate&quot;</span>, <span class="st">&quot;Amount hypothetically donated ($)&quot;</span>,</a>
<a class="sourceLine" id="cb3-6" data-line-number="6">  <span class="st">&quot;gender&quot;</span>, <span class="st">&quot;Gender&quot;</span>,</a>
<a class="sourceLine" id="cb3-7" data-line-number="7">  <span class="st">&quot;age&quot;</span>, <span class="st">&quot;Age&quot;</span>,</a>
<a class="sourceLine" id="cb3-8" data-line-number="8">  <span class="st">&quot;income&quot;</span>, <span class="st">&quot;Income&quot;</span>,</a>
<a class="sourceLine" id="cb3-9" data-line-number="9">  <span class="st">&quot;education&quot;</span>, <span class="st">&quot;Education&quot;</span>,</a>
<a class="sourceLine" id="cb3-10" data-line-number="10">  <span class="st">&quot;religiosity&quot;</span>, <span class="st">&quot;Frequency of attending religious services&quot;</span>,</a>
<a class="sourceLine" id="cb3-11" data-line-number="11">  <span class="st">&quot;ideology&quot;</span>, <span class="st">&quot;Political views&quot;</span>,</a>
<a class="sourceLine" id="cb3-12" data-line-number="12">  <span class="st">&quot;political_knowledge&quot;</span>, <span class="st">&quot;Frequency of following public affairs&quot;</span>,</a>
<a class="sourceLine" id="cb3-13" data-line-number="13">  <span class="st">&quot;give_charity&quot;</span>, <span class="st">&quot;Frequency of charitable donations&quot;</span>,</a>
<a class="sourceLine" id="cb3-14" data-line-number="14">  <span class="st">&quot;volunteer&quot;</span>, <span class="st">&quot;Volunteered in past 12 months&quot;</span>,</a>
<a class="sourceLine" id="cb3-15" data-line-number="15">  <span class="st">&quot;favor_humanitarian&quot;</span>, <span class="st">&quot;Prior favorability towards humanitarian NGOs&quot;</span>,</a>
<a class="sourceLine" id="cb3-16" data-line-number="16">  <span class="st">&quot;favor_humanitarian_bin&quot;</span>, <span class="st">&quot;Prior favorability towards humanitarian NGOs (binary)&quot;</span>,</a>
<a class="sourceLine" id="cb3-17" data-line-number="17">  <span class="st">&quot;favor_human_rights&quot;</span>, <span class="st">&quot;Prior favorability towards human rights NGOs&quot;</span>,</a>
<a class="sourceLine" id="cb3-18" data-line-number="18">  <span class="st">&quot;favor_human_rights_bin&quot;</span>, <span class="st">&quot;Prior favorability towards human rights NGOs (binary)&quot;</span>,</a>
<a class="sourceLine" id="cb3-19" data-line-number="19">  <span class="st">&quot;favor_development&quot;</span>, <span class="st">&quot;Prior favorability towards development NGOs&quot;</span>,</a>
<a class="sourceLine" id="cb3-20" data-line-number="20">  <span class="st">&quot;favor_development_bin&quot;</span>, <span class="st">&quot;Prior favorability towards development NGOs (binary)&quot;</span>,</a>
<a class="sourceLine" id="cb3-21" data-line-number="21">  <span class="st">&quot;check2&quot;</span>, <span class="st">&quot;Attention check 2&quot;</span></a>
<a class="sourceLine" id="cb3-22" data-line-number="22">)</a>
<a class="sourceLine" id="cb3-23" data-line-number="23"></a>
<a class="sourceLine" id="cb3-24" data-line-number="24">results_summary_stats &lt;-<span class="st"> </span>results <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-25" data-line-number="25"><span class="st">  </span><span class="kw">select</span>(<span class="kw">one_of</span>(vars_to_summarize<span class="op">$</span>variable)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-26" data-line-number="26"><span class="st">  </span><span class="kw">gather</span>(variable, value) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-27" data-line-number="27"><span class="st">  </span><span class="kw">group_by</span>(variable) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-28" data-line-number="28"><span class="st">  </span><span class="kw">nest</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-29" data-line-number="29"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">N =</span> data <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">map_int</span>(<span class="op">~</span><span class="st"> </span><span class="kw">nrow</span>(.)),</a>
<a class="sourceLine" id="cb3-30" data-line-number="30">         <span class="dt">summary =</span> <span class="kw">map2</span>(<span class="dt">.x =</span> data, <span class="dt">.y =</span> variable, <span class="op">~</span><span class="st"> </span><span class="kw">my_summary</span>(.x<span class="op">$</span>value, .y, results))) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-31" data-line-number="31"><span class="st">  </span><span class="kw">left_join</span>(vars_to_summarize, <span class="dt">by =</span> <span class="st">&quot;variable&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-32" data-line-number="32"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">variable =</span> <span class="kw">factor</span>(variable, <span class="dt">levels =</span> vars_to_summarize<span class="op">$</span>variable, <span class="dt">ordered =</span> <span class="ot">TRUE</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-33" data-line-number="33"><span class="st">  </span><span class="kw">arrange</span>(variable) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-34" data-line-number="34"><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>data, <span class="op">-</span>variable) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-35" data-line-number="35"><span class="st">  </span><span class="kw">unnest</span>(summary) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-36" data-line-number="36"><span class="st">  </span><span class="kw">select</span>(<span class="dt">Variable =</span> clean_name, N, <span class="st">`</span><span class="dt"> </span><span class="st">`</span> =<span class="st"> </span>spark, <span class="dt">Details =</span> summary)</a>
<a class="sourceLine" id="cb3-37" data-line-number="37"></a>
<a class="sourceLine" id="cb3-38" data-line-number="38">results_summary_stats <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-39" data-line-number="39"><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>N) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-40" data-line-number="40"><span class="st">  </span><span class="kw">pandoc.table.return</span>(<span class="dt">caption =</span> <span class="st">&quot;Descriptive statistics {#tbl:descriptive-stats}&quot;</span>,</a>
<a class="sourceLine" id="cb3-41" data-line-number="41">                      <span class="dt">split.cell =</span> <span class="dv">80</span>, <span class="dt">split.table =</span> <span class="ot">Inf</span>) <span class="op">%T&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-42" data-line-number="42"><span class="st">  </span><span class="kw">cat</span>(<span class="dt">file =</span> <span class="kw">file.path</span>(<span class="kw">here</span>(), <span class="st">&quot;output&quot;</span>, <span class="st">&quot;tables&quot;</span>, <span class="st">&quot;tbl-descriptive-stats.md&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-43" data-line-number="43"><span class="st">  </span><span class="kw">cat</span>()</a></code></pre></div>
<table>
<caption>Descriptive statistics {#tbl:descriptive-stats}</caption>
<colgroup>
<col width="28%" />
<col width="29%" />
<col width="41%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Variable</th>
<th></th>
<th align="left">Details</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Likelihood of donation</td>
<td><img src="output/figures/summary-table/donate_likely.png" /></td>
<td align="left">Extremely unlikely (49; 9.0%) | Somewhat unlikely (114; 20.9%) | Neither likely nor unlikely (141; 25.8%) | Somewhat likely (195; 35.7%) | Extremely likely (47; 8.6%)</td>
</tr>
<tr class="even">
<td align="left">Likelihood of donation (binary)</td>
<td><img src="output/figures/summary-table/donate_likely_bin.png" /></td>
<td align="left">Not likely (304; 55.7%) | Likely (242; 44.3%)</td>
</tr>
<tr class="odd">
<td align="left">Amount hypothetically donated ($)</td>
<td><img src="output/figures/summary-table/amount_donate.png" /></td>
<td align="left">Median: 10 | Mean: 22.15 | Std. Dev.: 25.56</td>
</tr>
<tr class="even">
<td align="left">Gender</td>
<td><img src="output/figures/summary-table/gender.png" /></td>
<td align="left">Female (297; 54.4%) | Male (246; 45.1%) | Other (1; 0.2%) | Prefer not to say (2; 0.4%)</td>
</tr>
<tr class="odd">
<td align="left">Age</td>
<td><img src="output/figures/summary-table/age.png" /></td>
<td align="left">Under 18 (1; 0.2%) | 18 – 24 (47; 8.6%) | 25 – 34 (214; 39.2%) | 35 – 44 (131; 24.0%) | 45 – 54 (92; 16.8%) | 55 – 64 (44; 8.1%) | 65 – 74 (16; 2.9%) | 75 – 84 (1; 0.2%)</td>
</tr>
<tr class="even">
<td align="left">Income</td>
<td><img src="output/figures/summary-table/income.png" /></td>
<td align="left">Less than $10,000 (35; 6.4%) | $10,000 – $19,999 (43; 7.9%) | $20,000 – $29,999 (51; 9.3%) | $30,000 – $39,999 (81; 14.8%) | $40,000 – $49,999 (60; 11.0%) | $50,000 – $59,999 (56; 10.3%) | $60,000 – $69,999 (44; 8.1%) | $70,000 – $79,999 (39; 7.1%) | $80,000 – $89,999 (25; 4.6%) | $90,000 – $99,999 (30; 5.5%) | $100,000 – $149,999 (47; 8.6%) | More than $150,000 (22; 4.0%) | Prefer not to say (13; 2.4%)</td>
</tr>
<tr class="odd">
<td align="left">Education</td>
<td><img src="output/figures/summary-table/education.png" /></td>
<td align="left">Less than high school (2; 0.4%) | High school graduate (48; 8.8%) | Some college (130; 23.8%) | 2 year degree (70; 12.8%) | 4 year degree (221; 40.5%) | Graduate or professional degree (66; 12.1%) | Doctorate (9; 1.6%)</td>
</tr>
<tr class="even">
<td align="left">Frequency of attending religious services</td>
<td><img src="output/figures/summary-table/religiosity.png" /></td>
<td align="left">More than once a week (19; 3.5%) | Once a week (76; 13.9%) | Once or twice a month (50; 9.2%) | A few times a year (72; 13.2%) | Seldom (99; 18.1%) | Never (226; 41.4%) | Don’t know (4; 0.7%)</td>
</tr>
<tr class="odd">
<td align="left">Political views</td>
<td><img src="output/figures/summary-table/ideology.png" /></td>
<td align="left">Strong liberal (80; 14.7%) | Liberal (151; 27.7%) | Independent, leaning liberal (86; 15.8%) | Independent (85; 15.6%) | Independent, leaning conservative (60; 11.0%) | Conservative (62; 11.4%) | Very conservative (22; 4.0%)</td>
</tr>
<tr class="even">
<td align="left">Frequency of following public affairs</td>
<td><img src="output/figures/summary-table/political_knowledge.png" /></td>
<td align="left">Most of the time (222; 40.7%) | Some of the time (217; 39.7%) | Only now and then (87; 15.9%) | Hardly at all (20; 3.7%)</td>
</tr>
<tr class="odd">
<td align="left">Frequency of charitable donations</td>
<td><img src="output/figures/summary-table/give_charity.png" /></td>
<td align="left">Once a week (38; 7.0%) | Once a month (107; 19.6%) | Once every three months (107; 19.6%) | Once every six months (106; 19.4%) | Once a year (92; 16.8%) | Once every few years (57; 10.4%) | Never (39; 7.1%)</td>
</tr>
<tr class="even">
<td align="left">Volunteered in past 12 months</td>
<td><img src="output/figures/summary-table/volunteer.png" /></td>
<td align="left">No (296; 54.21%) | Yes (250; 45.79%)</td>
</tr>
<tr class="odd">
<td align="left">Prior favorability towards humanitarian NGOs</td>
<td><img src="output/figures/summary-table/favor_humanitarian.png" /></td>
<td align="left">Very unfavorable (2; 0.4%) | Unfavorable (6; 1.1%) | Neutral (43; 7.9%) | Favorable (240; 44.0%) | Very favorable (255; 46.7%)</td>
</tr>
<tr class="even">
<td align="left">Prior favorability towards humanitarian NGOs (binary)</td>
<td><img src="output/figures/summary-table/favor_humanitarian_bin.png" /></td>
<td align="left">Not favorable (51; 9.3%) | Favorable (495; 90.7%)</td>
</tr>
<tr class="odd">
<td align="left">Prior favorability towards human rights NGOs</td>
<td><img src="output/figures/summary-table/favor_human_rights.png" /></td>
<td align="left">Very unfavorable (5; 0.9%) | Unfavorable (12; 2.2%) | Neutral (64; 11.7%) | Favorable (233; 42.7%) | Very favorable (232; 42.5%)</td>
</tr>
<tr class="even">
<td align="left">Prior favorability towards human rights NGOs (binary)</td>
<td><img src="output/figures/summary-table/favor_human_rights_bin.png" /></td>
<td align="left">Not favorable (81; 14.8%) | Favorable (465; 85.2%)</td>
</tr>
<tr class="odd">
<td align="left">Prior favorability towards development NGOs</td>
<td><img src="output/figures/summary-table/favor_development.png" /></td>
<td align="left">Very unfavorable (5; 0.9%) | Unfavorable (8; 1.5%) | Neutral (48; 8.8%) | Favorable (241; 44.1%) | Very favorable (244; 44.7%)</td>
</tr>
<tr class="even">
<td align="left">Prior favorability towards development NGOs (binary)</td>
<td><img src="output/figures/summary-table/favor_development_bin.png" /></td>
<td align="left">Not favorable (61; 11.2%) | Favorable (485; 88.8%)</td>
</tr>
<tr class="odd">
<td align="left">Attention check 2</td>
<td><img src="output/figures/summary-table/check2.png" /></td>
<td align="left">Correct (544; 99.6%) | Incorrect (2; 0.4%)</td>
</tr>
</tbody>
</table>
</div>
<div id="average-likelihood-and-amount-donated-across-conditions" class="section level2">
<h2>Average likelihood and amount donated across conditions</h2>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">conditions_summary &lt;-<span class="st"> </span><span class="kw">bind_rows</span>(<span class="kw">group_by</span>(results, crackdown, issue, funding) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">nest</span>(),</a>
<a class="sourceLine" id="cb4-2" data-line-number="2">                                <span class="kw">group_by</span>(results, crackdown, issue) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">nest</span>(),</a>
<a class="sourceLine" id="cb4-3" data-line-number="3">                                <span class="kw">group_by</span>(results, crackdown) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">nest</span>(),</a>
<a class="sourceLine" id="cb4-4" data-line-number="4">                                results <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">nest</span>()) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="st">  </span><span class="kw">arrange</span>(crackdown, issue, funding) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">summary =</span> data <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-7" data-line-number="7"><span class="st">           </span><span class="kw">map</span>(<span class="op">~</span><span class="st"> </span><span class="kw">summarize</span>(., <span class="dt">pct_likely =</span> <span class="kw">table</span>(donate_likely_bin)[[<span class="st">&quot;Likely&quot;</span>]] <span class="op">/</span></a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="st">                             </span><span class="kw">length</span>(donate_likely_bin),</a>
<a class="sourceLine" id="cb4-9" data-line-number="9">                           <span class="dt">mean_donation =</span> <span class="kw">mean</span>(amount_donate, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),</a>
<a class="sourceLine" id="cb4-10" data-line-number="10">                           <span class="dt">sd_donation =</span> <span class="kw">sd</span>(amount_donate, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),</a>
<a class="sourceLine" id="cb4-11" data-line-number="11">                           <span class="dt">N =</span> <span class="kw">nrow</span>(.)))) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb4-12" data-line-number="12"><span class="st">  </span><span class="kw">unnest</span>(summary) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(<span class="op">-</span>data)</a>
<a class="sourceLine" id="cb4-13" data-line-number="13"></a>
<a class="sourceLine" id="cb4-14" data-line-number="14">conditions_summary_clean &lt;-<span class="st"> </span>conditions_summary <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb4-15" data-line-number="15"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">funding =</span> <span class="kw">ifelse</span>(<span class="kw">is.na</span>(funding) <span class="op">&amp;</span><span class="st"> </span><span class="op">!</span><span class="kw">is.na</span>(issue) , <span class="st">&quot;*Total*&quot;</span>, <span class="kw">as.character</span>(funding)),</a>
<a class="sourceLine" id="cb4-16" data-line-number="16">         <span class="dt">issue =</span> <span class="kw">ifelse</span>(<span class="kw">is.na</span>(issue) <span class="op">&amp;</span><span class="st"> </span><span class="op">!</span><span class="kw">is.na</span>(crackdown), <span class="st">&quot;*Total*&quot;</span>, <span class="kw">as.character</span>(issue)),</a>
<a class="sourceLine" id="cb4-17" data-line-number="17">         <span class="dt">crackdown =</span> <span class="kw">ifelse</span>(<span class="kw">is.na</span>(crackdown), <span class="st">&quot;*Total*&quot;</span>, <span class="kw">as.character</span>(crackdown))) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb4-18" data-line-number="18"><span class="st">  </span><span class="kw">group_by</span>(crackdown) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb4-19" data-line-number="19"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">issue =</span> <span class="kw">replace</span>(issue, <span class="kw">duplicated</span>(issue), <span class="ot">NA</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb4-20" data-line-number="20"><span class="st">  </span><span class="kw">ungroup</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb4-21" data-line-number="21"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">crackdown =</span> <span class="kw">replace</span>(crackdown, <span class="kw">duplicated</span>(crackdown), <span class="ot">NA</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb4-22" data-line-number="22"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">pct_likely =</span> <span class="kw">percent</span>(pct_likely)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb4-23" data-line-number="23"><span class="st">  </span><span class="kw">rename</span>(<span class="st">`</span><span class="dt">Crackdown condition</span><span class="st">`</span> =<span class="st"> </span>crackdown, <span class="st">`</span><span class="dt">Issue condition</span><span class="st">`</span> =<span class="st"> </span>issue,</a>
<a class="sourceLine" id="cb4-24" data-line-number="24">         <span class="st">`</span><span class="dt">Funding condition</span><span class="st">`</span> =<span class="st"> </span>funding, <span class="st">`</span><span class="dt">% likely to donate</span><span class="st">`</span> =<span class="st"> </span>pct_likely,</a>
<a class="sourceLine" id="cb4-25" data-line-number="25">         <span class="st">`</span><span class="dt">Amount donated (mean)</span><span class="st">`</span> =<span class="st"> </span>mean_donation, <span class="st">`</span><span class="dt">Amount donated (sd)</span><span class="st">`</span> =<span class="st"> </span>sd_donation)</a>
<a class="sourceLine" id="cb4-26" data-line-number="26"></a>
<a class="sourceLine" id="cb4-27" data-line-number="27">conditions_summary_clean <span class="op">%T&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb4-28" data-line-number="28"><span class="st">  </span><span class="kw">pandoc.table</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb4-29" data-line-number="29"><span class="st">  </span><span class="kw">pandoc.table.return</span>(<span class="dt">caption =</span> <span class="st">&quot;Average likelihood and amount donated across experimental conditions {#tbl:avg-results}&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb4-30" data-line-number="30"><span class="st">  </span><span class="kw">cat</span>(<span class="dt">file =</span> <span class="kw">file.path</span>(<span class="kw">here</span>(), <span class="st">&quot;output&quot;</span>, <span class="st">&quot;tables&quot;</span>, <span class="st">&quot;tbl-avg-results.md&quot;</span>))</a></code></pre></div>
<table>
<colgroup>
<col width="15%" />
<col width="18%" />
<col width="14%" />
<col width="14%" />
<col width="17%" />
<col width="15%" />
<col width="4%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Crackdown condition</th>
<th align="left">Issue condition</th>
<th align="left">Funding condition</th>
<th align="left">% likely to donate</th>
<th align="left">Amount donated (mean)</th>
<th align="left">Amount donated (sd)</th>
<th align="left">N</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">No crackdown</td>
<td align="left">Human rights</td>
<td align="left">Government</td>
<td align="left">47.1%</td>
<td align="left">22.4</td>
<td align="left">24.8</td>
<td align="left">68</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"></td>
<td align="left">Private</td>
<td align="left">38.8%</td>
<td align="left">18.9</td>
<td align="left">22.1</td>
<td align="left">67</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"></td>
<td align="left"><em>Total</em></td>
<td align="left">43.0%</td>
<td align="left">20.6</td>
<td align="left">23.5</td>
<td align="left">135</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">Humanitarian assistance</td>
<td align="left">Government</td>
<td align="left">43.5%</td>
<td align="left">17.8</td>
<td align="left">21.3</td>
<td align="left">69</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"></td>
<td align="left">Private</td>
<td align="left">40.9%</td>
<td align="left">21.8</td>
<td align="left">26.7</td>
<td align="left">66</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"></td>
<td align="left"><em>Total</em></td>
<td align="left">42.2%</td>
<td align="left">19.8</td>
<td align="left">24.1</td>
<td align="left">135</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"><em>Total</em></td>
<td align="left"></td>
<td align="left">42.6%</td>
<td align="left">20.2</td>
<td align="left">23.8</td>
<td align="left">270</td>
</tr>
<tr class="even">
<td align="left">Crackdown</td>
<td align="left">Human rights</td>
<td align="left">Government</td>
<td align="left">28.8%</td>
<td align="left">19.1</td>
<td align="left">25.7</td>
<td align="left">66</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"></td>
<td align="left">Private</td>
<td align="left">58.0%</td>
<td align="left">27.3</td>
<td align="left">26.1</td>
<td align="left">69</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"></td>
<td align="left"><em>Total</em></td>
<td align="left">43.7%</td>
<td align="left">23.3</td>
<td align="left">26.1</td>
<td align="left">135</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">Humanitarian assistance</td>
<td align="left">Government</td>
<td align="left">50.0%</td>
<td align="left">30.5</td>
<td align="left">32.8</td>
<td align="left">70</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"></td>
<td align="left">Private</td>
<td align="left">46.5%</td>
<td align="left">19.1</td>
<td align="left">21.4</td>
<td align="left">71</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"></td>
<td align="left"><em>Total</em></td>
<td align="left">48.2%</td>
<td align="left">24.8</td>
<td align="left">28.1</td>
<td align="left">141</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"><em>Total</em></td>
<td align="left"></td>
<td align="left">46.0%</td>
<td align="left">24</td>
<td align="left">27.1</td>
<td align="left">276</td>
</tr>
<tr class="odd">
<td align="left"><em>Total</em></td>
<td align="left"></td>
<td align="left"></td>
<td align="left">44.3%</td>
<td align="left">22.1</td>
<td align="left">25.6</td>
<td align="left">546</td>
</tr>
</tbody>
</table>
<p><br />
</p>
</div>
</div>
<div id="visualize-important-variables" class="section level1">
<h1>Visualize important variables</h1>
<div id="prior-favorability-towards-ngos" class="section level2">
<h2>Prior favorability towards NGOs</h2>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">favorability_cols &lt;-<span class="st"> </span><span class="kw">data_frame</span>(<span class="dt">value =</span> <span class="kw">c</span>(<span class="st">&quot;Very unfavorable&quot;</span>, <span class="st">&quot;Unfavorable&quot;</span>, <span class="st">&quot;Neutral&quot;</span>,</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">                                          <span class="st">&quot;Favorable&quot;</span>, <span class="st">&quot;Very favorable&quot;</span>),</a>
<a class="sourceLine" id="cb5-3" data-line-number="3">                                <span class="dt">color =</span> <span class="kw">ngo_pal</span>(<span class="st">&quot;ordered&quot;</span>)(<span class="dv">5</span>))</a>
<a class="sourceLine" id="cb5-4" data-line-number="4"></a>
<a class="sourceLine" id="cb5-5" data-line-number="5">ngo_favorability_raw &lt;-<span class="st"> </span>results <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="st">  </span><span class="kw">select</span>(favor_humanitarian, favor_human_rights, favor_development) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb5-7" data-line-number="7"><span class="st">  </span><span class="kw">gather</span>(variable, value) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb5-8" data-line-number="8"><span class="st">  </span><span class="kw">count</span>(variable, value) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb5-9" data-line-number="9"><span class="st">  </span><span class="kw">left_join</span>(vars_to_summarize, <span class="dt">by =</span> <span class="st">&quot;variable&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb5-10" data-line-number="10"><span class="st">  </span><span class="kw">left_join</span>(favorability_cols, <span class="dt">by =</span> <span class="st">&quot;value&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-11" data-line-number="11"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">clean_name =</span> <span class="kw">str_replace</span>(clean_name, <span class="st">&quot;towards&quot;</span>, <span class="st">&quot;towards</span><span class="ch">\n</span><span class="st">&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb5-12" data-line-number="12"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">value =</span> <span class="kw">factor</span>(value, <span class="dt">levels =</span> <span class="kw">levels</span>(results<span class="op">$</span>favor_humanitarian), <span class="dt">ordered =</span> <span class="ot">TRUE</span>),</a>
<a class="sourceLine" id="cb5-13" data-line-number="13">         <span class="dt">clean_name =</span> <span class="kw">fct_inorder</span>(clean_name, <span class="dt">ordered =</span> <span class="ot">TRUE</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-14" data-line-number="14"><span class="st">  </span><span class="kw">arrange</span>(value) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb5-15" data-line-number="15"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">color =</span> <span class="kw">fct_inorder</span>(color, <span class="dt">ordered =</span> <span class="ot">TRUE</span>))</a>
<a class="sourceLine" id="cb5-16" data-line-number="16"></a>
<a class="sourceLine" id="cb5-17" data-line-number="17">ngo_favorability_high &lt;-<span class="st"> </span>ngo_favorability_raw <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb5-18" data-line-number="18"><span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">str_detect</span>(value, <span class="st">&quot;nfav&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb5-19" data-line-number="19"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">n =</span> <span class="kw">ifelse</span>(value <span class="op">==</span><span class="st"> &quot;Neutral&quot;</span>, n <span class="op">/</span><span class="st"> </span><span class="dv">2</span>, n),</a>
<a class="sourceLine" id="cb5-20" data-line-number="20">         <span class="dt">n_plot =</span> n,</a>
<a class="sourceLine" id="cb5-21" data-line-number="21">         <span class="dt">value =</span> <span class="kw">fct_rev</span>(value), <span class="dt">color =</span> <span class="kw">fct_rev</span>(color))</a>
<a class="sourceLine" id="cb5-22" data-line-number="22"></a>
<a class="sourceLine" id="cb5-23" data-line-number="23">ngo_favorability_low &lt;-<span class="st"> </span>ngo_favorability_raw <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb5-24" data-line-number="24"><span class="st">  </span><span class="kw">filter</span>(<span class="kw">str_detect</span>(value, <span class="st">&quot;nfav&quot;</span>) <span class="op">|</span><span class="st"> </span>value <span class="op">==</span><span class="st"> &quot;Neutral&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb5-25" data-line-number="25"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">n =</span> <span class="kw">ifelse</span>(value <span class="op">==</span><span class="st"> &quot;Neutral&quot;</span>, n <span class="op">/</span><span class="st"> </span><span class="dv">2</span>, n),</a>
<a class="sourceLine" id="cb5-26" data-line-number="26">         <span class="dt">n_plot =</span> <span class="op">-</span>n)</a>
<a class="sourceLine" id="cb5-27" data-line-number="27"></a>
<a class="sourceLine" id="cb5-28" data-line-number="28"><span class="kw">ggplot</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> n_plot, <span class="dt">y =</span> clean_name, <span class="dt">fill =</span> color)) <span class="op">+</span></a>
<a class="sourceLine" id="cb5-29" data-line-number="29"><span class="st">  </span><span class="kw">geom_barh</span>(<span class="dt">data =</span> ngo_favorability_high, <span class="dt">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb5-30" data-line-number="30"><span class="st">  </span><span class="kw">geom_barh</span>(<span class="dt">data =</span> ngo_favorability_low, <span class="dt">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb5-31" data-line-number="31"><span class="st">  </span><span class="kw">geom_vline</span>(<span class="dt">xintercept =</span> <span class="dv">0</span>, <span class="dt">color =</span> <span class="st">&quot;black&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb5-32" data-line-number="32"><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">labels =</span> abs) <span class="op">+</span></a>
<a class="sourceLine" id="cb5-33" data-line-number="33"><span class="st">  </span><span class="kw">scale_fill_identity</span>(<span class="dt">labels =</span> <span class="kw">levels</span>(ngo_favorability_raw<span class="op">$</span>value),</a>
<a class="sourceLine" id="cb5-34" data-line-number="34">                      <span class="dt">breaks =</span> <span class="kw">levels</span>(ngo_favorability_raw<span class="op">$</span>color),</a>
<a class="sourceLine" id="cb5-35" data-line-number="35">                      <span class="dt">guide =</span> <span class="st">&quot;legend&quot;</span>, <span class="dt">name =</span> <span class="ot">NULL</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb5-36" data-line-number="36"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="ot">NULL</span>, <span class="dt">y =</span> <span class="ot">NULL</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb5-37" data-line-number="37"><span class="st">  </span><span class="kw">theme_ngos</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb5-38" data-line-number="38"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">panel.grid.minor =</span> <span class="kw">element_blank</span>(),</a>
<a class="sourceLine" id="cb5-39" data-line-number="39">        <span class="dt">panel.grid.major.y =</span> <span class="kw">element_blank</span>())</a></code></pre></div>
<p><img src="02_analysis_files/figure-html/fig-ngo-favorability-1.png" width="672" /></p>
</div>
<div id="likelihood-of-donation" class="section level2">
<h2>Likelihood of donation</h2>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">donate_summary &lt;-<span class="st"> </span>results <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="st">  </span><span class="kw">count</span>(donate_likely) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">perc =</span> n <span class="op">/</span><span class="st"> </span><span class="kw">sum</span>(n)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">highlight =</span> <span class="kw">ifelse</span>(donate_likely <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Extremely likely&quot;</span>, <span class="st">&quot;Somewhat likely&quot;</span>), <span class="ot">TRUE</span>, <span class="ot">FALSE</span>))</a>
<a class="sourceLine" id="cb6-5" data-line-number="5"></a>
<a class="sourceLine" id="cb6-6" data-line-number="6">plot_donate_summary &lt;-<span class="st"> </span><span class="kw">ggplot</span>(donate_summary, <span class="kw">aes</span>(<span class="dt">x =</span> n, <span class="dt">y =</span> donate_likely, </a>
<a class="sourceLine" id="cb6-7" data-line-number="7">                                                  <span class="dt">fill =</span> highlight)) <span class="op">+</span></a>
<a class="sourceLine" id="cb6-8" data-line-number="8"><span class="st">  </span><span class="kw">geom_barh</span>(<span class="dt">stat =</span> <span class="st">&quot;identity&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb6-9" data-line-number="9"><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">sec.axis =</span> <span class="kw">sec_axis</span>(<span class="op">~</span><span class="st"> </span>. <span class="op">/</span><span class="st"> </span><span class="kw">sum</span>(donate_summary<span class="op">$</span>n),</a>
<a class="sourceLine" id="cb6-10" data-line-number="10">                                         <span class="dt">labels =</span> percent)) <span class="op">+</span></a>
<a class="sourceLine" id="cb6-11" data-line-number="11"><span class="st">  </span><span class="kw">scale_fill_manual</span>(<span class="dt">values =</span> <span class="kw">ngo_cols</span>(<span class="st">&quot;green&quot;</span>, <span class="st">&quot;blue&quot;</span>, <span class="dt">name =</span> <span class="ot">FALSE</span>), <span class="dt">guide =</span> <span class="ot">FALSE</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb6-12" data-line-number="12"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="ot">NULL</span>, <span class="dt">y =</span> <span class="ot">NULL</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb6-13" data-line-number="13"><span class="st">  </span><span class="kw">theme_ngos</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb6-14" data-line-number="14"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">panel.grid.major.y =</span> <span class="kw">element_blank</span>())</a>
<a class="sourceLine" id="cb6-15" data-line-number="15"></a>
<a class="sourceLine" id="cb6-16" data-line-number="16">plot_donate_summary</a></code></pre></div>
<p><img src="02_analysis_files/figure-html/fig-likelihood-bars-1.png" width="864" /></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">plot_donate_summary <span class="op">%T&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="st">  </span><span class="kw">print</span>() <span class="op">%T&gt;%</span></a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="st">  </span><span class="kw">ggsave</span>(., <span class="dt">filename =</span> <span class="kw">file.path</span>(<span class="kw">here</span>(), <span class="st">&quot;output&quot;</span>, <span class="st">&quot;figures&quot;</span>, <span class="st">&quot;donate_summary.pdf&quot;</span>),</a>
<a class="sourceLine" id="cb7-4" data-line-number="4">         <span class="dt">width =</span> <span class="dv">9</span>, <span class="dt">height =</span> <span class="dv">4</span>, <span class="dt">units =</span> <span class="st">&quot;in&quot;</span>, <span class="dt">device =</span> cairo_pdf) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb7-5" data-line-number="5"><span class="st">  </span><span class="kw">ggsave</span>(., <span class="dt">filename =</span> <span class="kw">file.path</span>(<span class="kw">here</span>(), <span class="st">&quot;output&quot;</span>, <span class="st">&quot;figures&quot;</span>, <span class="st">&quot;donate_summary.png&quot;</span>),</a>
<a class="sourceLine" id="cb7-6" data-line-number="6">         <span class="dt">width =</span> <span class="dv">9</span>, <span class="dt">height =</span> <span class="dv">4</span>, <span class="dt">units =</span> <span class="st">&quot;in&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;cairo&quot;</span>, <span class="dt">dpi =</span> <span class="dv">300</span>)</a></code></pre></div>
<p><img src="02_analysis_files/figure-html/fig-likelihood-bars-2.png" width="864" /></p>
</div>
<div id="amount-donated" class="section level2">
<h2>Amount donated</h2>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">plot_amount_summary &lt;-<span class="st"> </span><span class="kw">ggplot</span>(results, <span class="kw">aes</span>(<span class="dt">x =</span> amount_donate)) <span class="op">+</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">bins =</span> <span class="dv">20</span>, <span class="dt">fill =</span> <span class="kw">ngo_cols</span>(<span class="st">&quot;blue&quot;</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">labels =</span> dollar) <span class="op">+</span></a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="ot">NULL</span>, <span class="dt">y =</span> <span class="ot">NULL</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb8-5" data-line-number="5"><span class="st">  </span><span class="kw">theme_ngos</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb8-6" data-line-number="6"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">panel.grid.major.x =</span> <span class="kw">element_blank</span>(),</a>
<a class="sourceLine" id="cb8-7" data-line-number="7">        <span class="dt">panel.grid.minor.x =</span> <span class="kw">element_blank</span>())</a>
<a class="sourceLine" id="cb8-8" data-line-number="8"></a>
<a class="sourceLine" id="cb8-9" data-line-number="9">plot_amount_summary <span class="op">%T&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-10" data-line-number="10"><span class="st">  </span><span class="kw">print</span>() <span class="op">%T&gt;%</span></a>
<a class="sourceLine" id="cb8-11" data-line-number="11"><span class="st">  </span><span class="kw">ggsave</span>(., <span class="dt">filename =</span> <span class="kw">file.path</span>(<span class="kw">here</span>(), <span class="st">&quot;output&quot;</span>, <span class="st">&quot;figures&quot;</span>, <span class="st">&quot;amount_summary.pdf&quot;</span>),</a>
<a class="sourceLine" id="cb8-12" data-line-number="12">         <span class="dt">width =</span> <span class="dv">9</span>, <span class="dt">height =</span> <span class="fl">2.75</span>, <span class="dt">units =</span> <span class="st">&quot;in&quot;</span>, <span class="dt">device =</span> cairo_pdf) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-13" data-line-number="13"><span class="st">  </span><span class="kw">ggsave</span>(., <span class="dt">filename =</span> <span class="kw">file.path</span>(<span class="kw">here</span>(), <span class="st">&quot;output&quot;</span>, <span class="st">&quot;figures&quot;</span>, <span class="st">&quot;amount_summary.png&quot;</span>),</a>
<a class="sourceLine" id="cb8-14" data-line-number="14">         <span class="dt">width =</span> <span class="dv">9</span>, <span class="dt">height =</span> <span class="fl">2.75</span>, <span class="dt">units =</span> <span class="st">&quot;in&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;cairo&quot;</span>, <span class="dt">dpi =</span> <span class="dv">300</span>)</a></code></pre></div>
<p><img src="02_analysis_files/figure-html/fig-amount-bars-1.png" width="864" /></p>
<p><br />
</p>
</div>
</div>
<div id="interpreting-interactions-in-models" class="section level1">
<h1>Interpreting interactions in models</h1>
<p>Ordinarily, people use ANOVA to analyze 3-way, 2 × 2 × 2 factorial designs, <a href="https://mypages.valdosta.edu/mwhatley/3600/2x2x2.htm">like this</a>. A more flexible (<a href="https://www.theanalysisfactor.com/why-anova-and-linear-regression-are-the-same-analysis/">yet identical!</a>) way to do this is to use a regular regression model with interaction terms for each of the conditions, like so (here we use three, since we can use simper models to get averages for the larger umbrella groups, like just crackdowns and crackdown + issue):</p>
<ul>
<li><p>Model 1:</p>
<p><span class="math display">\[
  y = \beta_0 + \beta_1 \text{Crackdown}
  \]</span></p></li>
<li><p>Model 2:</p>
<p><span class="math display">\[
  \begin{aligned}
  y =&amp; \beta_0 + \beta_1 \text{Crackdown} + \beta_2 \text{Issue } + \\
  &amp; \beta_3 \text{Crackdown} \times \text{Issue}
  \end{aligned}
  \]</span></p></li>
<li><p>Model 3:</p>
<p><span class="math display">\[
  \begin{aligned}
  y =&amp; \beta_0 + \beta_1 \text{Crackdown} + \beta_2 \text{Issue} + \beta_3 \text{Funding } + \\
  &amp; \beta_4 \text{Crackdown} \times \text{Issue } + \\
  &amp; \beta_5 \text{Crackdown} \times \text{Funding } + \\
  &amp; \beta_6 \text{Issue} \times \text{Funding } + \\
  &amp; \beta_7 \text{Crackdown} \times \text{Issue} \times \text{Funding}
  \end{aligned}
  \]</span></p></li>
</ul>
<p>Adding different combinations of the coefficients provides the average values for each combination of factors, which corresponds to the average likelihood and amount donated table above.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">model1 &lt;-<span class="st"> &quot;1&quot;</span></a>
<a class="sourceLine" id="cb9-2" data-line-number="2">model2 &lt;-<span class="st"> &quot;2&quot;</span></a>
<a class="sourceLine" id="cb9-3" data-line-number="3">model3 &lt;-<span class="st"> &quot;3&quot;</span></a>
<a class="sourceLine" id="cb9-4" data-line-number="4"></a>
<a class="sourceLine" id="cb9-5" data-line-number="5">interpretation &lt;-<span class="st"> </span><span class="kw">tribble</span>(</a>
<a class="sourceLine" id="cb9-6" data-line-number="6">  <span class="op">~</span>Model, <span class="op">~</span><span class="st">`</span><span class="dt">Coefficients to add together</span><span class="st">`</span>,</a>
<a class="sourceLine" id="cb9-7" data-line-number="7">  model3, <span class="st">&quot;Intercept&quot;</span>,</a>
<a class="sourceLine" id="cb9-8" data-line-number="8">  model3, <span class="st">&quot;Intercept + Funding&quot;</span>,</a>
<a class="sourceLine" id="cb9-9" data-line-number="9">  model2, <span class="st">&quot;Intercept&quot;</span>,</a>
<a class="sourceLine" id="cb9-10" data-line-number="10">  model3, <span class="st">&quot;Intercept + Issue&quot;</span>,</a>
<a class="sourceLine" id="cb9-11" data-line-number="11">  model3, <span class="st">&quot;Intercept + Issue + Funding + (Issue × Funding)&quot;</span>,</a>
<a class="sourceLine" id="cb9-12" data-line-number="12">  model2, <span class="st">&quot;Intercept + Issue&quot;</span>,</a>
<a class="sourceLine" id="cb9-13" data-line-number="13">  model1, <span class="st">&quot;Intercept&quot;</span>,</a>
<a class="sourceLine" id="cb9-14" data-line-number="14">  model3, <span class="st">&quot;Intercept + Crackdown&quot;</span>,</a>
<a class="sourceLine" id="cb9-15" data-line-number="15">  model3, <span class="st">&quot;Intercept + Crackdown + Funding + (Crackdown × Funding)&quot;</span>,</a>
<a class="sourceLine" id="cb9-16" data-line-number="16">  model2, <span class="st">&quot;Intercept + Crackdown&quot;</span>,</a>
<a class="sourceLine" id="cb9-17" data-line-number="17">  model3, <span class="st">&quot;Intercept + Crackdown + Issue + (Crackdown × Issue)&quot;</span>,</a>
<a class="sourceLine" id="cb9-18" data-line-number="18">  model3, <span class="st">&quot;Intercept + Crackdown + Issue + Funding + (Crackdown × Issue) + (Crackdown × Funding) + (Issue × Funding) + (Crackdown × Issue × Funding)&quot;</span>,</a>
<a class="sourceLine" id="cb9-19" data-line-number="19">  model2, <span class="st">&quot;Intercept + Crackdown + Issue + (Crackdown × Issue)&quot;</span>,</a>
<a class="sourceLine" id="cb9-20" data-line-number="20">  model1, <span class="st">&quot;Intercept + Crackdown&quot;</span></a>
<a class="sourceLine" id="cb9-21" data-line-number="21">)</a>
<a class="sourceLine" id="cb9-22" data-line-number="22"></a>
<a class="sourceLine" id="cb9-23" data-line-number="23">conditions_summary_clean <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb9-24" data-line-number="24"><span class="st">  </span><span class="kw">select</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb9-25" data-line-number="25"><span class="st">  </span><span class="kw">slice</span>(<span class="op">-</span><span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb9-26" data-line-number="26"><span class="st">  </span><span class="kw">bind_cols</span>(interpretation) <span class="op">%T&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb9-27" data-line-number="27"><span class="st">  </span><span class="kw">pandoc.table</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb9-28" data-line-number="28"><span class="st">  </span><span class="kw">pandoc.table.return</span>(<span class="dt">caption =</span> <span class="st">&quot;Combinations of coefficients to add to determine means across experimental conditions {#tbl:coefficients-to-add}&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb9-29" data-line-number="29"><span class="st">  </span><span class="kw">cat</span>(<span class="dt">file =</span> <span class="kw">file.path</span>(<span class="kw">here</span>(), <span class="st">&quot;output&quot;</span>, <span class="st">&quot;tables&quot;</span>, <span class="st">&quot;tbl-coefficients-to-add.md&quot;</span>))</a></code></pre></div>
<table>
<colgroup>
<col width="10%" />
<col width="12%" />
<col width="9%" />
<col width="3%" />
<col width="64%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Crackdown condition</th>
<th align="left">Issue condition</th>
<th align="left">Funding condition</th>
<th align="left">Model</th>
<th align="left">Coefficients to add together</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">No crackdown</td>
<td align="left">Human rights</td>
<td align="left">Government</td>
<td align="left">3</td>
<td align="left">Intercept</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"></td>
<td align="left">Private</td>
<td align="left">3</td>
<td align="left">Intercept + Funding</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"></td>
<td align="left"><em>Total</em></td>
<td align="left">2</td>
<td align="left">Intercept</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">Humanitarian assistance</td>
<td align="left">Government</td>
<td align="left">3</td>
<td align="left">Intercept + Issue</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"></td>
<td align="left">Private</td>
<td align="left">3</td>
<td align="left">Intercept + Issue + Funding + (Issue × Funding)</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"></td>
<td align="left"><em>Total</em></td>
<td align="left">2</td>
<td align="left">Intercept + Issue</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"><em>Total</em></td>
<td align="left"></td>
<td align="left">1</td>
<td align="left">Intercept</td>
</tr>
<tr class="even">
<td align="left">Crackdown</td>
<td align="left">Human rights</td>
<td align="left">Government</td>
<td align="left">3</td>
<td align="left">Intercept + Crackdown</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"></td>
<td align="left">Private</td>
<td align="left">3</td>
<td align="left">Intercept + Crackdown + Funding + (Crackdown × Funding)</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"></td>
<td align="left"><em>Total</em></td>
<td align="left">2</td>
<td align="left">Intercept + Crackdown</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">Humanitarian assistance</td>
<td align="left">Government</td>
<td align="left">3</td>
<td align="left">Intercept + Crackdown + Issue + (Crackdown × Issue)</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"></td>
<td align="left">Private</td>
<td align="left">3</td>
<td align="left">Intercept + Crackdown + Issue + Funding + (Crackdown × Issue) + (Crackdown × Funding) + (Issue × Funding) + (Crackdown × Issue × Funding)</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"></td>
<td align="left"><em>Total</em></td>
<td align="left">2</td>
<td align="left">Intercept + Crackdown + Issue + (Crackdown × Issue)</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"><em>Total</em></td>
<td align="left"></td>
<td align="left">1</td>
<td align="left">Intercept + Crackdown</td>
</tr>
</tbody>
</table>
<p><br />
</p>
</div>
<div id="amount-donated-1" class="section level1">
<h1>Amount donated</h1>
<div id="models" class="section level2">
<h2>Models</h2>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="co"># Basic interaction models</span></a>
<a class="sourceLine" id="cb10-2" data-line-number="2">m_amount_c &lt;-<span class="st"> </span><span class="kw">stan_glm</span>(amount_donate <span class="op">~</span><span class="st"> </span>crackdown,</a>
<a class="sourceLine" id="cb10-3" data-line-number="3">                       <span class="dt">data =</span> results, <span class="dt">family =</span> <span class="kw">gaussian</span>(),</a>
<a class="sourceLine" id="cb10-4" data-line-number="4">                       <span class="dt">prior =</span> <span class="kw">cauchy</span>(<span class="dt">location =</span> <span class="dv">0</span>, <span class="dt">scale =</span> <span class="fl">2.5</span>),</a>
<a class="sourceLine" id="cb10-5" data-line-number="5">                       <span class="dt">prior_intercept =</span> <span class="kw">cauchy</span>(<span class="dt">location =</span> <span class="dv">0</span>, <span class="dt">scale =</span> <span class="dv">10</span>),</a>
<a class="sourceLine" id="cb10-6" data-line-number="6">                       <span class="dt">chains =</span> CHAINS, <span class="dt">iter =</span> ITER, <span class="dt">warmup =</span> WARMUP, <span class="dt">seed =</span> BAYES_SEED)</a>
<a class="sourceLine" id="cb10-7" data-line-number="7"></a>
<a class="sourceLine" id="cb10-8" data-line-number="8">m_amount_ci &lt;-<span class="st"> </span><span class="kw">update</span>(m_amount_c, . <span class="op">~</span><span class="st"> </span>. <span class="op">+</span><span class="st"> </span>issue <span class="op">+</span><span class="st"> </span>crackdown <span class="op">*</span><span class="st"> </span>issue)</a>
<a class="sourceLine" id="cb10-9" data-line-number="9"></a>
<a class="sourceLine" id="cb10-10" data-line-number="10">m_amount_cif &lt;-<span class="st"> </span><span class="kw">update</span>(m_amount_c, . <span class="op">~</span><span class="st"> </span>. <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb10-11" data-line-number="11"><span class="st">                         </span>issue <span class="op">+</span><span class="st"> </span>funding <span class="op">+</span><span class="st"> </span>crackdown <span class="op">*</span><span class="st"> </span>issue <span class="op">+</span><span class="st"> </span>crackdown <span class="op">*</span><span class="st"> </span>funding <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb10-12" data-line-number="12"><span class="st">                         </span>issue <span class="op">*</span><span class="st"> </span>funding <span class="op">+</span><span class="st"> </span>crackdown <span class="op">*</span><span class="st"> </span>issue <span class="op">*</span><span class="st"> </span>funding)</a>
<a class="sourceLine" id="cb10-13" data-line-number="13"></a>
<a class="sourceLine" id="cb10-14" data-line-number="14"><span class="co"># Models with just issue and just funding</span></a>
<a class="sourceLine" id="cb10-15" data-line-number="15">m_amount_i &lt;-<span class="st"> </span><span class="kw">update</span>(m_amount_c, . <span class="op">~</span><span class="st"> </span>issue)</a>
<a class="sourceLine" id="cb10-16" data-line-number="16">m_amount_f &lt;-<span class="st"> </span><span class="kw">update</span>(m_amount_c, . <span class="op">~</span><span class="st"> </span>funding)</a></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="co"># Get subset of coefficients</span></a>
<a class="sourceLine" id="cb11-2" data-line-number="2">coefs_to_include &lt;-<span class="st"> </span><span class="kw">list</span>(m_amount_c, m_amount_ci, m_amount_cif) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-3" data-line-number="3"><span class="st">  </span><span class="kw">map</span>(<span class="op">~</span><span class="st"> </span><span class="kw">tidy</span>(.)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">bind_rows</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">distinct</span>(term) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">pull</span>(term)</a>
<a class="sourceLine" id="cb11-4" data-line-number="4"></a>
<a class="sourceLine" id="cb11-5" data-line-number="5"><span class="kw">huxreg</span>(m_amount_c, m_amount_ci, m_amount_cif, </a>
<a class="sourceLine" id="cb11-6" data-line-number="6">       <span class="dt">coefs =</span> clean_coefs_named[clean_coefs_named <span class="op">%in%</span><span class="st"> </span>coefs_to_include],</a>
<a class="sourceLine" id="cb11-7" data-line-number="7">       <span class="dt">statistics =</span> model_stats_bayes,</a>
<a class="sourceLine" id="cb11-8" data-line-number="8">       <span class="dt">stars =</span> <span class="ot">NULL</span>) <span class="op">%T&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-9" data-line-number="9"><span class="st">  </span><span class="kw">print_hux</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-10" data-line-number="10"><span class="st">  </span><span class="kw">to_md</span>(<span class="dt">max_width =</span> <span class="dv">100</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-11" data-line-number="11"><span class="st">  </span><span class="kw">cat</span>(<span class="dt">file =</span> <span class="kw">file.path</span>(<span class="kw">here</span>(), <span class="st">&quot;output&quot;</span>, <span class="st">&quot;tables&quot;</span>, <span class="st">&quot;tbl-models-amount.md&quot;</span>))</a></code></pre></div>
<table class="huxtable" style="border-collapse: collapse; margin-bottom: 2em; margin-top: 2em; width: 50%; margin-left: auto; margin-right: auto;">
<col style="width: NA;">
<col style="width: NA;">
<col style="width: NA;">
<col style="width: NA;">
<tr>
<td style="vertical-align: top; text-align: center; white-space: nowrap; border-width:0.8pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
</td>
<td style="vertical-align: top; text-align: center; white-space: nowrap; border-width:0.8pt 0pt 0.4pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
(1)
</td>
<td style="vertical-align: top; text-align: center; white-space: nowrap; border-width:0.8pt 0pt 0.4pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
(2)
</td>
<td style="vertical-align: top; text-align: center; white-space: nowrap; border-width:0.8pt 0pt 0.4pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
(3)
</td>
</tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
Intercept
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
20.207 
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
20.641 
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
22.033 
</td>
</tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
(1.597)
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
(2.239)
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
(3.049)
</td>
</tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
Crackdown (yes)
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
3.797 
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
2.636 
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
-2.692 
</td>
</tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
(2.254)
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
(3.055)
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
(4.337)
</td>
</tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
Issue (humanitarian)
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
-0.993 
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
-4.030 
</td>
</tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
(3.094)
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
(4.312)
</td>
</tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
Funding (private)
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
-2.867 
</td>
</tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
(4.444)
</td>
</tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
Crackdown × Issue
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
2.418 
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
15.090 
</td>
</tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
(4.366)
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
(5.969)
</td>
</tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
Crackdown × Funding
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
10.831 
</td>
</tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
(6.274)
</td>
</tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
Issue × Funding
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
6.595 
</td>
</tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
(6.013)
</td>
</tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
Crackdown × Issue × Funding
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
-25.544 
</td>
</tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0.4pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0.4pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0.4pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
(8.628)
</td>
</tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
Observations
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
546     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
546     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
546     
</td>
</tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
Posterior sample size
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
4000.000 
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
4000.000 
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
4000.000 
</td>
</tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: nowrap; border-width:0pt 0pt 0.8pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
Sigma
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0.8pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
25.517 
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0.8pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
25.569 
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0.8pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
25.386 
</td>
</tr>
<tr>
<td colspan="4" style="vertical-align: top; text-align: left; white-space: normal; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
.
</td>
</tr>
</table>
</div>
<div id="predicted-medians" class="section level2">
<h2>Predicted medians</h2>
<p>The Stan people really really don’t like <code>posterior_linepred()</code>, since it throws away a lot of the uncertainty that comes from actually getting a posterior distribution (like, <a href="https://github.com/stan-dev/rstanarm/issues/85">they didn’t even want to invent it, and then when they did they wanted to hide it</a>, and it has a big warning in the documentation). But this approach here mirrors using <code>predict()</code> to combine all the coefficients and intercept terms in a regular frequentist linear model and it’s probably appropriate for this situation because all the coefficients are actually linked together behind the scenes and create group mean estimates. If I use the full force of <code>posterior_predict()</code>, I add more uncertainty with each added coefficient (so in a 2×2×2 version, the 8th condition is actually the sum of all 8 coefficients, which means it gets 8 levels of uncertainity, which is probably excessive). But we do it both ways too, just to be on the safe side.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1">newdata_conditions_c &lt;-<span class="st"> </span>results <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">expand</span>(<span class="kw">nesting</span>(crackdown))</a>
<a class="sourceLine" id="cb12-2" data-line-number="2"></a>
<a class="sourceLine" id="cb12-3" data-line-number="3">chains_fitted_c &lt;-<span class="st"> </span><span class="kw">posterior_linpred</span>(m_amount_c, </a>
<a class="sourceLine" id="cb12-4" data-line-number="4">                                     <span class="dt">newdata =</span> newdata_conditions_c)</a>
<a class="sourceLine" id="cb12-5" data-line-number="5"></a>
<a class="sourceLine" id="cb12-6" data-line-number="6"><span class="co"># posterior_fit &lt;- posterior_predict(m_amount_c, </span></a>
<a class="sourceLine" id="cb12-7" data-line-number="7"><span class="co">#                                    newdata = newdata_conditions_c,</span></a>
<a class="sourceLine" id="cb12-8" data-line-number="8"><span class="co">#                                    draws = 50, seed = BAYES_SEED)</span></a>
<a class="sourceLine" id="cb12-9" data-line-number="9"></a>
<a class="sourceLine" id="cb12-10" data-line-number="10">coef_summary_c &lt;-<span class="st"> </span>newdata_conditions_c <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb12-11" data-line-number="11"><span class="st">  </span><span class="kw">bind_cols</span>(<span class="kw">tidyMCMC</span>(<span class="kw">as.mcmc</span>(chains_fitted_c), <span class="dt">estimate.method =</span> <span class="st">&quot;median&quot;</span>,</a>
<a class="sourceLine" id="cb12-12" data-line-number="12">                     <span class="dt">conf.int =</span> <span class="ot">TRUE</span>, <span class="dt">conf.level =</span> <span class="fl">0.9</span>, <span class="dt">conf.method =</span> <span class="st">&quot;HPDinterval&quot;</span>))</a>
<a class="sourceLine" id="cb12-13" data-line-number="13"></a>
<a class="sourceLine" id="cb12-14" data-line-number="14"><span class="co"># newdata &lt;- newdata_conditions %&gt;% </span></a>
<a class="sourceLine" id="cb12-15" data-line-number="15"><span class="co">#   bind_cols(tidyMCMC(as.mcmc(posterior_fit), estimate.method = &quot;median&quot;,</span></a>
<a class="sourceLine" id="cb12-16" data-line-number="16"><span class="co">#                      conf.int = TRUE, conf.level = 0.9, conf.method = &quot;HPDinterval&quot;))</span></a>
<a class="sourceLine" id="cb12-17" data-line-number="17"></a>
<a class="sourceLine" id="cb12-18" data-line-number="18">plot_amount_c &lt;-<span class="st"> </span><span class="kw">ggplot</span>(coef_summary_c, <span class="kw">aes</span>(<span class="dt">y =</span> estimate, <span class="dt">x =</span> crackdown)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb12-19" data-line-number="19"><span class="st">  </span><span class="co"># geom_point(data = results, aes(y = amount_donate, x = crackdown),</span></a>
<a class="sourceLine" id="cb12-20" data-line-number="20"><span class="st">  </span><span class="co">#            color = &quot;grey50&quot;, size = 0.5, alpha = 0.25) +</span></a>
<a class="sourceLine" id="cb12-21" data-line-number="21"><span class="st">  </span><span class="kw">geom_pointrange</span>(<span class="kw">aes</span>(<span class="dt">ymin =</span> conf.low, <span class="dt">ymax =</span> conf.high), <span class="dt">color =</span> <span class="kw">ngo_cols</span>(<span class="st">&quot;green&quot;</span>)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb12-22" data-line-number="22"><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">labels =</span> dollar) <span class="op">+</span></a>
<a class="sourceLine" id="cb12-23" data-line-number="23"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="ot">NULL</span>, <span class="dt">y =</span> <span class="st">&quot;Median amount donated&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb12-24" data-line-number="24"><span class="st">  </span><span class="co"># coord_cartesian(ylim = c(0, 100)) +</span></a>
<a class="sourceLine" id="cb12-25" data-line-number="25"><span class="st">  </span><span class="kw">theme_ngos</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb12-26" data-line-number="26"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">panel.grid.major.x =</span> <span class="kw">element_blank</span>())</a></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">newdata_conditions_i &lt;-<span class="st"> </span>results <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">expand</span>(<span class="kw">nesting</span>(issue))</a>
<a class="sourceLine" id="cb13-2" data-line-number="2"></a>
<a class="sourceLine" id="cb13-3" data-line-number="3">chains_fitted_i &lt;-<span class="st"> </span><span class="kw">posterior_linpred</span>(m_amount_i, </a>
<a class="sourceLine" id="cb13-4" data-line-number="4">                                     <span class="dt">newdata =</span> newdata_conditions_i)</a>
<a class="sourceLine" id="cb13-5" data-line-number="5"></a>
<a class="sourceLine" id="cb13-6" data-line-number="6">coef_summary_i &lt;-<span class="st"> </span>newdata_conditions_i <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb13-7" data-line-number="7"><span class="st">  </span><span class="kw">bind_cols</span>(<span class="kw">tidyMCMC</span>(<span class="kw">as.mcmc</span>(chains_fitted_i), <span class="dt">estimate.method =</span> <span class="st">&quot;median&quot;</span>,</a>
<a class="sourceLine" id="cb13-8" data-line-number="8">                     <span class="dt">conf.int =</span> <span class="ot">TRUE</span>, <span class="dt">conf.level =</span> <span class="fl">0.9</span>, <span class="dt">conf.method =</span> <span class="st">&quot;HPDinterval&quot;</span>))</a></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">newdata_conditions_f &lt;-<span class="st"> </span>results <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">expand</span>(<span class="kw">nesting</span>(funding))</a>
<a class="sourceLine" id="cb14-2" data-line-number="2"></a>
<a class="sourceLine" id="cb14-3" data-line-number="3">chains_fitted_f &lt;-<span class="st"> </span><span class="kw">posterior_linpred</span>(m_amount_f, </a>
<a class="sourceLine" id="cb14-4" data-line-number="4">                                     <span class="dt">newdata =</span> newdata_conditions_f)</a>
<a class="sourceLine" id="cb14-5" data-line-number="5"></a>
<a class="sourceLine" id="cb14-6" data-line-number="6">coef_summary_f &lt;-<span class="st"> </span>newdata_conditions_f <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb14-7" data-line-number="7"><span class="st">  </span><span class="kw">bind_cols</span>(<span class="kw">tidyMCMC</span>(<span class="kw">as.mcmc</span>(chains_fitted_f), <span class="dt">estimate.method =</span> <span class="st">&quot;median&quot;</span>,</a>
<a class="sourceLine" id="cb14-8" data-line-number="8">                     <span class="dt">conf.int =</span> <span class="ot">TRUE</span>, <span class="dt">conf.level =</span> <span class="fl">0.9</span>, <span class="dt">conf.method =</span> <span class="st">&quot;HPDinterval&quot;</span>))</a></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1">newdata_conditions_ci &lt;-<span class="st"> </span>results <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">expand</span>(<span class="kw">nesting</span>(crackdown, issue))</a>
<a class="sourceLine" id="cb15-2" data-line-number="2"></a>
<a class="sourceLine" id="cb15-3" data-line-number="3">chains_fitted_ci &lt;-<span class="st"> </span><span class="kw">posterior_linpred</span>(m_amount_ci, </a>
<a class="sourceLine" id="cb15-4" data-line-number="4">                                      <span class="dt">newdata =</span> newdata_conditions_ci)</a>
<a class="sourceLine" id="cb15-5" data-line-number="5"></a>
<a class="sourceLine" id="cb15-6" data-line-number="6">coef_summary_ci &lt;-<span class="st"> </span>newdata_conditions_ci <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb15-7" data-line-number="7"><span class="st">  </span><span class="kw">bind_cols</span>(<span class="kw">tidyMCMC</span>(<span class="kw">as.mcmc</span>(chains_fitted_ci), <span class="dt">estimate.method =</span> <span class="st">&quot;median&quot;</span>,</a>
<a class="sourceLine" id="cb15-8" data-line-number="8">                     <span class="dt">conf.int =</span> <span class="ot">TRUE</span>, <span class="dt">conf.level =</span> <span class="fl">0.9</span>, <span class="dt">conf.method =</span> <span class="st">&quot;HPDinterval&quot;</span>))</a>
<a class="sourceLine" id="cb15-9" data-line-number="9"></a>
<a class="sourceLine" id="cb15-10" data-line-number="10">plot_amount_ci &lt;-<span class="st"> </span><span class="kw">ggplot</span>(coef_summary_ci, <span class="kw">aes</span>(<span class="dt">y =</span> estimate, <span class="dt">x =</span> crackdown)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb15-11" data-line-number="11"><span class="st">  </span><span class="co"># geom_point(data = results, aes(y = amount_donate, x = crackdown),</span></a>
<a class="sourceLine" id="cb15-12" data-line-number="12"><span class="st">  </span><span class="co">#            color = &quot;grey50&quot;, size = 0.5, alpha = 0.25) +</span></a>
<a class="sourceLine" id="cb15-13" data-line-number="13"><span class="st">  </span><span class="kw">geom_pointrange</span>(<span class="kw">aes</span>(<span class="dt">ymin =</span> conf.low, <span class="dt">ymax =</span> conf.high), <span class="dt">color =</span> <span class="kw">ngo_cols</span>(<span class="st">&quot;blue&quot;</span>)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb15-14" data-line-number="14"><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">labels =</span> dollar) <span class="op">+</span></a>
<a class="sourceLine" id="cb15-15" data-line-number="15"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="ot">NULL</span>, <span class="dt">y =</span> <span class="st">&quot;Median amount donated&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb15-16" data-line-number="16"><span class="st">  </span><span class="co"># coord_cartesian(ylim = c(0, 100)) +</span></a>
<a class="sourceLine" id="cb15-17" data-line-number="17"><span class="st">  </span><span class="kw">theme_ngos</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb15-18" data-line-number="18"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">panel.grid.major.x =</span> <span class="kw">element_blank</span>(),</a>
<a class="sourceLine" id="cb15-19" data-line-number="19">        <span class="dt">strip.text =</span> <span class="kw">element_text</span>(<span class="dt">margin =</span> <span class="kw">margin</span>(<span class="dv">5</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">0</span>, <span class="st">&quot;pt&quot;</span>))) <span class="op">+</span></a>
<a class="sourceLine" id="cb15-20" data-line-number="20"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>issue)</a></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1">newdata_conditions_cif &lt;-<span class="st"> </span>results <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">expand</span>(<span class="kw">nesting</span>(crackdown, issue, funding))</a>
<a class="sourceLine" id="cb16-2" data-line-number="2"></a>
<a class="sourceLine" id="cb16-3" data-line-number="3">chains_fitted_cif &lt;-<span class="st"> </span><span class="kw">posterior_linpred</span>(m_amount_cif, </a>
<a class="sourceLine" id="cb16-4" data-line-number="4">                                       <span class="dt">newdata =</span> newdata_conditions_cif)</a>
<a class="sourceLine" id="cb16-5" data-line-number="5"></a>
<a class="sourceLine" id="cb16-6" data-line-number="6">coef_summary_cif &lt;-<span class="st"> </span>newdata_conditions_cif <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb16-7" data-line-number="7"><span class="st">  </span><span class="kw">bind_cols</span>(<span class="kw">tidyMCMC</span>(<span class="kw">as.mcmc</span>(chains_fitted_cif), <span class="dt">estimate.method =</span> <span class="st">&quot;median&quot;</span>,</a>
<a class="sourceLine" id="cb16-8" data-line-number="8">                     <span class="dt">conf.int =</span> <span class="ot">TRUE</span>, <span class="dt">conf.level =</span> <span class="fl">0.9</span>, <span class="dt">conf.method =</span> <span class="st">&quot;HPDinterval&quot;</span>))</a>
<a class="sourceLine" id="cb16-9" data-line-number="9"></a>
<a class="sourceLine" id="cb16-10" data-line-number="10">plot_amount_cif &lt;-<span class="st"> </span><span class="kw">ggplot</span>(coef_summary_cif, <span class="kw">aes</span>(<span class="dt">y =</span> estimate, <span class="dt">x =</span> crackdown)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb16-11" data-line-number="11"><span class="st">  </span><span class="co"># geom_point(data = results, aes(y = amount_donate, x = crackdown),</span></a>
<a class="sourceLine" id="cb16-12" data-line-number="12"><span class="st">  </span><span class="co">#            color = &quot;grey50&quot;, size = 0.5, alpha = 0.5) +</span></a>
<a class="sourceLine" id="cb16-13" data-line-number="13"><span class="st">  </span><span class="kw">geom_pointrange</span>(<span class="kw">aes</span>(<span class="dt">ymin =</span> conf.low, <span class="dt">ymax =</span> conf.high), <span class="dt">color =</span> <span class="kw">ngo_cols</span>(<span class="st">&quot;red&quot;</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb16-14" data-line-number="14"><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">labels =</span> dollar) <span class="op">+</span></a>
<a class="sourceLine" id="cb16-15" data-line-number="15"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="ot">NULL</span>, <span class="dt">y =</span> <span class="st">&quot;Median amount donated&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb16-16" data-line-number="16"><span class="st">  </span><span class="kw">theme_ngos</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb16-17" data-line-number="17"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">panel.grid.major.x =</span> <span class="kw">element_blank</span>(),</a>
<a class="sourceLine" id="cb16-18" data-line-number="18">        <span class="dt">strip.text =</span> <span class="kw">element_text</span>(<span class="dt">margin =</span> <span class="kw">margin</span>(<span class="dv">5</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">0</span>, <span class="st">&quot;pt&quot;</span>))) <span class="op">+</span></a>
<a class="sourceLine" id="cb16-19" data-line-number="19"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>issue <span class="op">+</span><span class="st"> </span>funding)</a></code></pre></div>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1">coef_summary_singles &lt;-<span class="st"> </span><span class="kw">bind_rows</span>(coef_summary_c, coef_summary_i, coef_summary_f) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb17-2" data-line-number="2"><span class="st">  </span><span class="kw">gather</span>(condition, value, crackdown, issue, funding) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb17-3" data-line-number="3"><span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(value)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb17-4" data-line-number="4"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">value =</span> <span class="kw">fct_inorder</span>(value, <span class="dt">ordered =</span> <span class="ot">TRUE</span>),</a>
<a class="sourceLine" id="cb17-5" data-line-number="5">         <span class="dt">condition =</span> <span class="kw">fct_inorder</span>(<span class="kw">str_to_title</span>(condition), <span class="dt">ordered =</span> <span class="ot">TRUE</span>))</a>
<a class="sourceLine" id="cb17-6" data-line-number="6"></a>
<a class="sourceLine" id="cb17-7" data-line-number="7">plot_amount_singles &lt;-<span class="st"> </span><span class="kw">ggplot</span>(coef_summary_singles, <span class="kw">aes</span>(<span class="dt">y =</span> estimate, <span class="dt">x =</span> value)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb17-8" data-line-number="8"><span class="st">  </span><span class="kw">geom_pointrange</span>(<span class="kw">aes</span>(<span class="dt">ymin =</span> conf.low, <span class="dt">ymax =</span> conf.high, <span class="dt">color =</span> condition)) <span class="op">+</span></a>
<a class="sourceLine" id="cb17-9" data-line-number="9"><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">labels =</span> dollar) <span class="op">+</span></a>
<a class="sourceLine" id="cb17-10" data-line-number="10"><span class="st">  </span><span class="kw">scale_color_manual</span>(<span class="dt">values =</span> <span class="kw">ngo_cols</span>(<span class="st">&quot;green&quot;</span>, <span class="st">&quot;blue&quot;</span>, <span class="st">&quot;red&quot;</span>, <span class="dt">name =</span> <span class="ot">FALSE</span>), <span class="dt">guide =</span> <span class="ot">FALSE</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb17-11" data-line-number="11"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="ot">NULL</span>, <span class="dt">y =</span> <span class="st">&quot;Median amount donated&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb17-12" data-line-number="12"><span class="st">  </span><span class="kw">theme_ngos</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb17-13" data-line-number="13"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">panel.grid.major.x =</span> <span class="kw">element_blank</span>(),</a>
<a class="sourceLine" id="cb17-14" data-line-number="14">        <span class="dt">strip.text =</span> <span class="kw">element_text</span>(<span class="dt">margin =</span> <span class="kw">margin</span>(<span class="dv">5</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">0</span>, <span class="st">&quot;pt&quot;</span>))) <span class="op">+</span></a>
<a class="sourceLine" id="cb17-15" data-line-number="15"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>condition, <span class="dt">scales =</span> <span class="st">&quot;free_x&quot;</span>)</a>
<a class="sourceLine" id="cb17-16" data-line-number="16"></a>
<a class="sourceLine" id="cb17-17" data-line-number="17">plot_amount_singles <span class="op">%T&gt;%</span></a>
<a class="sourceLine" id="cb17-18" data-line-number="18"><span class="st">  </span><span class="kw">print</span>() <span class="op">%T&gt;%</span></a>
<a class="sourceLine" id="cb17-19" data-line-number="19"><span class="st">  </span><span class="kw">ggsave</span>(., <span class="dt">filename =</span> <span class="kw">file.path</span>(<span class="kw">here</span>(), <span class="st">&quot;output&quot;</span>, <span class="st">&quot;figures&quot;</span>, <span class="st">&quot;amount_single_summary.pdf&quot;</span>),</a>
<a class="sourceLine" id="cb17-20" data-line-number="20">         <span class="dt">width =</span> <span class="dv">7</span>, <span class="dt">height =</span> <span class="fl">2.5</span>, <span class="dt">units =</span> <span class="st">&quot;in&quot;</span>, <span class="dt">device =</span> cairo_pdf) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb17-21" data-line-number="21"><span class="st">  </span><span class="kw">ggsave</span>(., <span class="dt">filename =</span> <span class="kw">file.path</span>(<span class="kw">here</span>(), <span class="st">&quot;output&quot;</span>, <span class="st">&quot;figures&quot;</span>, <span class="st">&quot;amount_single_summary.png&quot;</span>),</a>
<a class="sourceLine" id="cb17-22" data-line-number="22">         <span class="dt">width =</span> <span class="dv">7</span>, <span class="dt">height =</span> <span class="fl">2.5</span>, <span class="dt">units =</span> <span class="st">&quot;in&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;cairo&quot;</span>, <span class="dt">dpi =</span> <span class="dv">300</span>)</a></code></pre></div>
<p><img src="02_analysis_files/figure-html/plot-single-amount-medians-1.png" width="672" /></p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1">plot_amount_all &lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb18-2" data-line-number="2"><span class="st">  </span>(plot_amount_c <span class="op">/</span><span class="st"> </span>plot_amount_ci) <span class="op">|</span><span class="st"> </span></a>
<a class="sourceLine" id="cb18-3" data-line-number="3"><span class="st">  </span>plot_amount_cif</a>
<a class="sourceLine" id="cb18-4" data-line-number="4"></a>
<a class="sourceLine" id="cb18-5" data-line-number="5">plot_amount_all <span class="op">+</span></a>
<a class="sourceLine" id="cb18-6" data-line-number="6"><span class="st">  </span><span class="kw">plot_annotation</span>(<span class="dt">title =</span> <span class="st">&quot;Median donation in control and crackdown groups,</span><span class="ch">\n</span><span class="st">conditioned by other experimental groups&quot;</span>,</a>
<a class="sourceLine" id="cb18-7" data-line-number="7">                  <span class="dt">subtitle =</span> <span class="st">&quot;90% credible intervals shown around each point&quot;</span>,</a>
<a class="sourceLine" id="cb18-8" data-line-number="8">                  <span class="dt">tag_levels =</span> <span class="st">&quot;A&quot;</span>, <span class="dt">theme =</span> <span class="kw">theme_ngos</span>())</a></code></pre></div>
<p><img src="02_analysis_files/figure-html/plot-all-amount-medians-1.png" width="768" /></p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1">(plot_amount_all <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb19-2" data-line-number="2"><span class="st">    </span><span class="kw">plot_annotation</span>(<span class="dt">caption =</span> <span class="st">&quot;90% credible intervals shown around each point&quot;</span>,</a>
<a class="sourceLine" id="cb19-3" data-line-number="3">                    <span class="dt">tag_levels =</span> <span class="st">&quot;A&quot;</span>, <span class="dt">theme =</span> <span class="kw">theme_ngos</span>())) <span class="op">%T&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb19-4" data-line-number="4"><span class="st">  </span><span class="kw">ggsave</span>(., <span class="dt">filename =</span> <span class="kw">file.path</span>(<span class="kw">here</span>(), <span class="st">&quot;output&quot;</span>, <span class="st">&quot;figures&quot;</span>, <span class="st">&quot;amount-medians.pdf&quot;</span>),</a>
<a class="sourceLine" id="cb19-5" data-line-number="5">         <span class="dt">width =</span> <span class="dv">8</span>, <span class="dt">height =</span> <span class="fl">4.25</span>, <span class="dt">units =</span> <span class="st">&quot;in&quot;</span>, <span class="dt">device =</span> cairo_pdf) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb19-6" data-line-number="6"><span class="st">  </span><span class="kw">ggsave</span>(., <span class="dt">filename =</span> <span class="kw">file.path</span>(<span class="kw">here</span>(), <span class="st">&quot;output&quot;</span>, <span class="st">&quot;figures&quot;</span>, <span class="st">&quot;amount-medians.png&quot;</span>),</a>
<a class="sourceLine" id="cb19-7" data-line-number="7">         <span class="dt">width =</span> <span class="dv">8</span>, <span class="dt">height =</span> <span class="fl">4.25</span>, <span class="dt">units =</span> <span class="st">&quot;in&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;cairo&quot;</span>, <span class="dt">dpi =</span> <span class="dv">300</span>)</a></code></pre></div>
</div>
<div id="differences-in-medians" class="section level2">
<h2>Differences in medians</h2>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1">diffs_coef_pairs_c &lt;-<span class="st"> </span>chains_fitted_c <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb20-2" data-line-number="2"><span class="st">  </span><span class="kw">as_data_frame</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb20-3" data-line-number="3"><span class="st">  </span>magrittr<span class="op">::</span><span class="kw">set_colnames</span>(<span class="kw">levels</span>(newdata_conditions_c<span class="op">$</span>crackdown)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb20-4" data-line-number="4"><span class="st">  </span><span class="kw">mcmc_pairwise_diffs</span>()</a>
<a class="sourceLine" id="cb20-5" data-line-number="5"></a>
<a class="sourceLine" id="cb20-6" data-line-number="6">diffs_coef_pairs_detail_c &lt;-<span class="st"> </span><span class="kw">tidy_diffs</span>(diffs_coef_pairs_c)</a>
<a class="sourceLine" id="cb20-7" data-line-number="7"></a>
<a class="sourceLine" id="cb20-8" data-line-number="8">pairs_plot_data_c &lt;-<span class="st"> </span>diffs_coef_pairs_c <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb20-9" data-line-number="9"><span class="st">  </span><span class="kw">gather</span>(pair, value) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb20-10" data-line-number="10"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">pair1 =</span> pair) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb20-11" data-line-number="11"><span class="st">  </span><span class="kw">separate</span>(pair1, <span class="dt">into =</span> <span class="kw">c</span>(<span class="st">&quot;group1&quot;</span>, <span class="st">&quot;group2&quot;</span>), <span class="dt">sep =</span> <span class="st">&quot; − &quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb20-12" data-line-number="12"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">pair =</span> <span class="kw">ifelse</span>(<span class="kw">nchar</span>(pair) <span class="op">&gt;</span><span class="st"> </span><span class="dv">25</span>,</a>
<a class="sourceLine" id="cb20-13" data-line-number="13">                       <span class="kw">str_replace</span>(pair, <span class="st">&quot;−&quot;</span>, <span class="st">&quot;−</span><span class="ch">\n</span><span class="st">&quot;</span>),</a>
<a class="sourceLine" id="cb20-14" data-line-number="14">                       pair))</a>
<a class="sourceLine" id="cb20-15" data-line-number="15">  </a>
<a class="sourceLine" id="cb20-16" data-line-number="16">plot_diffs_c &lt;-<span class="st"> </span><span class="kw">ggplot</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb20-17" data-line-number="17"><span class="st">  </span><span class="kw">geom_density</span>(<span class="dt">data =</span> pairs_plot_data_c, <span class="kw">aes</span>(<span class="dt">x =</span> value),</a>
<a class="sourceLine" id="cb20-18" data-line-number="18">               <span class="dt">fill =</span> <span class="kw">ngo_cols</span>(<span class="st">&quot;green&quot;</span>), <span class="dt">colour =</span> <span class="ot">NA</span>, <span class="dt">alpha =</span> <span class="fl">0.4</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb20-19" data-line-number="19"><span class="st">  </span><span class="kw">geom_segment</span>(<span class="dt">data =</span> diffs_coef_pairs_detail_c, </a>
<a class="sourceLine" id="cb20-20" data-line-number="20">               <span class="kw">aes</span>(<span class="dt">x =</span> q5, <span class="dt">xend =</span> q95, <span class="dt">y =</span> <span class="dv">0</span>, <span class="dt">yend =</span> <span class="dv">0</span>),</a>
<a class="sourceLine" id="cb20-21" data-line-number="21">               <span class="dt">size =</span> <span class="dv">3</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb20-22" data-line-number="22"><span class="st">  </span><span class="kw">geom_vline</span>(<span class="dt">data =</span> diffs_coef_pairs_detail_c, <span class="kw">aes</span>(<span class="dt">xintercept =</span> median), <span class="dt">size =</span> <span class="fl">0.25</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb20-23" data-line-number="23"><span class="st">  </span><span class="kw">geom_vline</span>(<span class="dt">xintercept =</span> <span class="dv">0</span>, <span class="dt">linetype =</span> <span class="st">&quot;dotted&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb20-24" data-line-number="24"><span class="st">  </span><span class="kw">guides</span>(<span class="dt">fill =</span> <span class="ot">FALSE</span>, <span class="dt">color =</span> <span class="ot">FALSE</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb20-25" data-line-number="25"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Difference in medians&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb20-26" data-line-number="26"><span class="st">  </span><span class="kw">theme_ngos</span>(<span class="dt">density =</span> <span class="ot">TRUE</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb20-27" data-line-number="27"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>pair)</a></code></pre></div>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1">diffs_coef_pairs_i &lt;-<span class="st"> </span>chains_fitted_i <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb21-2" data-line-number="2"><span class="st">  </span><span class="kw">as_data_frame</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb21-3" data-line-number="3"><span class="st">  </span>magrittr<span class="op">::</span><span class="kw">set_colnames</span>(<span class="kw">levels</span>(newdata_conditions_i<span class="op">$</span>issue)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb21-4" data-line-number="4"><span class="st">  </span><span class="kw">mcmc_pairwise_diffs</span>()</a>
<a class="sourceLine" id="cb21-5" data-line-number="5"></a>
<a class="sourceLine" id="cb21-6" data-line-number="6">diffs_coef_pairs_detail_i &lt;-<span class="st"> </span><span class="kw">tidy_diffs</span>(diffs_coef_pairs_i)</a>
<a class="sourceLine" id="cb21-7" data-line-number="7"></a>
<a class="sourceLine" id="cb21-8" data-line-number="8">pairs_plot_data_i &lt;-<span class="st"> </span>diffs_coef_pairs_i <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb21-9" data-line-number="9"><span class="st">  </span><span class="kw">gather</span>(pair, value) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb21-10" data-line-number="10"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">pair1 =</span> pair) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb21-11" data-line-number="11"><span class="st">  </span><span class="kw">separate</span>(pair1, <span class="dt">into =</span> <span class="kw">c</span>(<span class="st">&quot;group1&quot;</span>, <span class="st">&quot;group2&quot;</span>), <span class="dt">sep =</span> <span class="st">&quot; − &quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb21-12" data-line-number="12"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">pair =</span> <span class="kw">ifelse</span>(<span class="kw">nchar</span>(pair) <span class="op">&gt;</span><span class="st"> </span><span class="dv">25</span>,</a>
<a class="sourceLine" id="cb21-13" data-line-number="13">                       <span class="kw">str_replace</span>(pair, <span class="st">&quot;−&quot;</span>, <span class="st">&quot;−</span><span class="ch">\n</span><span class="st">&quot;</span>),</a>
<a class="sourceLine" id="cb21-14" data-line-number="14">                       pair))</a></code></pre></div>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1">diffs_coef_pairs_f &lt;-<span class="st"> </span>chains_fitted_f <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb22-2" data-line-number="2"><span class="st">  </span><span class="kw">as_data_frame</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb22-3" data-line-number="3"><span class="st">  </span>magrittr<span class="op">::</span><span class="kw">set_colnames</span>(<span class="kw">levels</span>(newdata_conditions_f<span class="op">$</span>funding)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb22-4" data-line-number="4"><span class="st">  </span><span class="kw">mcmc_pairwise_diffs</span>()</a>
<a class="sourceLine" id="cb22-5" data-line-number="5"></a>
<a class="sourceLine" id="cb22-6" data-line-number="6">diffs_coef_pairs_detail_f &lt;-<span class="st"> </span><span class="kw">tidy_diffs</span>(diffs_coef_pairs_f)</a>
<a class="sourceLine" id="cb22-7" data-line-number="7"></a>
<a class="sourceLine" id="cb22-8" data-line-number="8">pairs_plot_data_f &lt;-<span class="st"> </span>diffs_coef_pairs_f <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb22-9" data-line-number="9"><span class="st">  </span><span class="kw">gather</span>(pair, value) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb22-10" data-line-number="10"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">pair1 =</span> pair) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb22-11" data-line-number="11"><span class="st">  </span><span class="kw">separate</span>(pair1, <span class="dt">into =</span> <span class="kw">c</span>(<span class="st">&quot;group1&quot;</span>, <span class="st">&quot;group2&quot;</span>), <span class="dt">sep =</span> <span class="st">&quot; − &quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb22-12" data-line-number="12"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">pair =</span> <span class="kw">ifelse</span>(<span class="kw">nchar</span>(pair) <span class="op">&gt;</span><span class="st"> </span><span class="dv">25</span>,</a>
<a class="sourceLine" id="cb22-13" data-line-number="13">                       <span class="kw">str_replace</span>(pair, <span class="st">&quot;−&quot;</span>, <span class="st">&quot;−</span><span class="ch">\n</span><span class="st">&quot;</span>),</a>
<a class="sourceLine" id="cb22-14" data-line-number="14">                       pair))</a></code></pre></div>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1"><span class="co"># Nest each fitted chain into a single row that corresponds to each newdata_condition</span></a>
<a class="sourceLine" id="cb23-2" data-line-number="2">chains_nested_ci &lt;-<span class="st"> </span>chains_fitted_ci <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb23-3" data-line-number="3"><span class="st">  </span><span class="kw">as_data_frame</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb23-4" data-line-number="4"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">id =</span> <span class="dv">1</span><span class="op">:</span><span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb23-5" data-line-number="5"><span class="st">  </span><span class="kw">gather</span>(condition, value, <span class="op">-</span>id) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb23-6" data-line-number="6"><span class="st">  </span><span class="kw">group_by</span>(condition) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb23-7" data-line-number="7"><span class="st">  </span><span class="kw">nest</span>()</a>
<a class="sourceLine" id="cb23-8" data-line-number="8"></a>
<a class="sourceLine" id="cb23-9" data-line-number="9"><span class="co"># Add the fitted chains to the conditions, spread the main crackdown condition</span></a>
<a class="sourceLine" id="cb23-10" data-line-number="10"><span class="co"># into two columns, then nest everything by issue</span></a>
<a class="sourceLine" id="cb23-11" data-line-number="11">all_chains_ci &lt;-<span class="st"> </span><span class="kw">bind_cols</span>(newdata_conditions_ci, chains_nested_ci) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb23-12" data-line-number="12"><span class="st">  </span><span class="kw">unnest</span>(data) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb23-13" data-line-number="13"><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>condition) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb23-14" data-line-number="14"><span class="st">  </span><span class="kw">group_by</span>(issue) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb23-15" data-line-number="15"><span class="st">  </span><span class="kw">spread</span>(crackdown, value) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb23-16" data-line-number="16"><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>id) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb23-17" data-line-number="17"><span class="st">  </span><span class="kw">nest</span>()</a>
<a class="sourceLine" id="cb23-18" data-line-number="18"></a>
<a class="sourceLine" id="cb23-19" data-line-number="19"><span class="co"># All the pairwise differences in a single data frame, grouped by issue</span></a>
<a class="sourceLine" id="cb23-20" data-line-number="20">pairs_conditions_ci &lt;-<span class="st"> </span>all_chains_ci <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb23-21" data-line-number="21"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">diffs_coef_pairs =</span> data <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">map</span>(<span class="op">~</span><span class="st"> </span><span class="kw">mcmc_pairwise_diffs</span>(.)),</a>
<a class="sourceLine" id="cb23-22" data-line-number="22">         <span class="dt">diffs_coef_pairs_detail =</span> diffs_coef_pairs <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">map</span>(<span class="op">~</span><span class="st"> </span><span class="kw">tidy_diffs</span>(.)))</a>
<a class="sourceLine" id="cb23-23" data-line-number="23"></a>
<a class="sourceLine" id="cb23-24" data-line-number="24"><span class="co"># Extract coefficient details and plot data</span></a>
<a class="sourceLine" id="cb23-25" data-line-number="25">diffs_coef_pairs_detail_ci &lt;-<span class="st"> </span>pairs_conditions_ci <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb23-26" data-line-number="26"><span class="st">  </span><span class="kw">unnest</span>(diffs_coef_pairs_detail) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb23-27" data-line-number="27"><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>data, <span class="op">-</span>diffs_coef_pairs)</a>
<a class="sourceLine" id="cb23-28" data-line-number="28"></a>
<a class="sourceLine" id="cb23-29" data-line-number="29">pairs_plot_data_ci &lt;-<span class="st"> </span>pairs_conditions_ci <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb23-30" data-line-number="30"><span class="st">  </span><span class="kw">select</span>(issue, diffs_coef_pairs) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb23-31" data-line-number="31"><span class="st">  </span><span class="kw">unnest</span>(diffs_coef_pairs) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb23-32" data-line-number="32"><span class="st">  </span><span class="kw">gather</span>(pair, value, <span class="op">-</span>issue) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb23-33" data-line-number="33"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">pair1 =</span> pair) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb23-34" data-line-number="34"><span class="st">  </span><span class="kw">separate</span>(pair1, <span class="dt">into =</span> <span class="kw">c</span>(<span class="st">&quot;group1&quot;</span>, <span class="st">&quot;group2&quot;</span>), <span class="dt">sep =</span> <span class="st">&quot; − &quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb23-35" data-line-number="35"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">pair =</span> <span class="kw">ifelse</span>(<span class="kw">nchar</span>(pair) <span class="op">&gt;</span><span class="st"> </span><span class="dv">25</span>,</a>
<a class="sourceLine" id="cb23-36" data-line-number="36">                       <span class="kw">str_replace</span>(pair, <span class="st">&quot;−&quot;</span>, <span class="st">&quot;−</span><span class="ch">\n</span><span class="st">&quot;</span>),</a>
<a class="sourceLine" id="cb23-37" data-line-number="37">                       pair))</a>
<a class="sourceLine" id="cb23-38" data-line-number="38"></a>
<a class="sourceLine" id="cb23-39" data-line-number="39">plot_diffs_ci &lt;-<span class="st"> </span><span class="kw">ggplot</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb23-40" data-line-number="40"><span class="st">  </span><span class="kw">geom_density</span>(<span class="dt">data =</span> pairs_plot_data_ci, <span class="kw">aes</span>(<span class="dt">x =</span> value),</a>
<a class="sourceLine" id="cb23-41" data-line-number="41">               <span class="dt">fill =</span> <span class="kw">ngo_cols</span>(<span class="st">&quot;blue&quot;</span>), <span class="dt">colour =</span> <span class="ot">NA</span>, <span class="dt">alpha =</span> <span class="fl">0.4</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb23-42" data-line-number="42"><span class="st">  </span><span class="kw">geom_segment</span>(<span class="dt">data =</span> diffs_coef_pairs_detail_ci, </a>
<a class="sourceLine" id="cb23-43" data-line-number="43">               <span class="kw">aes</span>(<span class="dt">x =</span> q5, <span class="dt">xend =</span> q95, <span class="dt">y =</span> <span class="dv">0</span>, <span class="dt">yend =</span> <span class="dv">0</span>),</a>
<a class="sourceLine" id="cb23-44" data-line-number="44">               <span class="dt">size =</span> <span class="dv">3</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb23-45" data-line-number="45"><span class="st">  </span><span class="kw">geom_vline</span>(<span class="dt">data =</span> diffs_coef_pairs_detail_ci, <span class="kw">aes</span>(<span class="dt">xintercept =</span> median), <span class="dt">size =</span> <span class="fl">0.25</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb23-46" data-line-number="46"><span class="st">  </span><span class="kw">geom_vline</span>(<span class="dt">xintercept =</span> <span class="dv">0</span>, <span class="dt">linetype =</span> <span class="st">&quot;dotted&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb23-47" data-line-number="47"><span class="st">  </span><span class="kw">guides</span>(<span class="dt">fill =</span> <span class="ot">FALSE</span>, <span class="dt">color =</span> <span class="ot">FALSE</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb23-48" data-line-number="48"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Difference in medians&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb23-49" data-line-number="49"><span class="st">  </span><span class="kw">theme_ngos</span>(<span class="dt">density =</span> <span class="ot">TRUE</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb23-50" data-line-number="50"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>issue <span class="op">+</span><span class="st"> </span>pair)</a></code></pre></div>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" data-line-number="1"><span class="co"># Nest each fitted chain into a single row that corresponds to each newdata_condition</span></a>
<a class="sourceLine" id="cb24-2" data-line-number="2">chains_nested_cif &lt;-<span class="st"> </span>chains_fitted_cif <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb24-3" data-line-number="3"><span class="st">  </span><span class="kw">as_data_frame</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb24-4" data-line-number="4"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">id =</span> <span class="dv">1</span><span class="op">:</span><span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb24-5" data-line-number="5"><span class="st">  </span><span class="kw">gather</span>(condition, value, <span class="op">-</span>id) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb24-6" data-line-number="6"><span class="st">  </span><span class="kw">group_by</span>(condition) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb24-7" data-line-number="7"><span class="st">  </span><span class="kw">nest</span>()</a>
<a class="sourceLine" id="cb24-8" data-line-number="8"></a>
<a class="sourceLine" id="cb24-9" data-line-number="9"><span class="co"># Add the fitted chains to the conditions, spread the main crackdown condition</span></a>
<a class="sourceLine" id="cb24-10" data-line-number="10"><span class="co"># into two columns, then nest everything by issue</span></a>
<a class="sourceLine" id="cb24-11" data-line-number="11">all_chains_cif &lt;-<span class="st"> </span><span class="kw">bind_cols</span>(newdata_conditions_cif, chains_nested_cif) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb24-12" data-line-number="12"><span class="st">  </span><span class="kw">unnest</span>(data) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb24-13" data-line-number="13"><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>condition) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb24-14" data-line-number="14"><span class="st">  </span><span class="kw">group_by</span>(issue, funding) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb24-15" data-line-number="15"><span class="st">  </span><span class="kw">spread</span>(crackdown, value) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb24-16" data-line-number="16"><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>id) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb24-17" data-line-number="17"><span class="st">  </span><span class="kw">nest</span>()</a>
<a class="sourceLine" id="cb24-18" data-line-number="18"></a>
<a class="sourceLine" id="cb24-19" data-line-number="19"><span class="co"># All the pairwise differences in a single data frame, grouped by issue</span></a>
<a class="sourceLine" id="cb24-20" data-line-number="20">pairs_conditions_cif &lt;-<span class="st"> </span>all_chains_cif <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb24-21" data-line-number="21"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">diffs_coef_pairs =</span> data <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">map</span>(<span class="op">~</span><span class="st"> </span><span class="kw">mcmc_pairwise_diffs</span>(.)),</a>
<a class="sourceLine" id="cb24-22" data-line-number="22">         <span class="dt">diffs_coef_pairs_detail =</span> diffs_coef_pairs <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">map</span>(<span class="op">~</span><span class="st"> </span><span class="kw">tidy_diffs</span>(.)))</a>
<a class="sourceLine" id="cb24-23" data-line-number="23"></a>
<a class="sourceLine" id="cb24-24" data-line-number="24"><span class="co"># Extract coefficient details and plot data</span></a>
<a class="sourceLine" id="cb24-25" data-line-number="25">diffs_coef_pairs_detail_cif &lt;-<span class="st"> </span>pairs_conditions_cif <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb24-26" data-line-number="26"><span class="st">  </span><span class="kw">unnest</span>(diffs_coef_pairs_detail) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb24-27" data-line-number="27"><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>data, <span class="op">-</span>diffs_coef_pairs)</a>
<a class="sourceLine" id="cb24-28" data-line-number="28"></a>
<a class="sourceLine" id="cb24-29" data-line-number="29">pairs_plot_data_cif &lt;-<span class="st"> </span>pairs_conditions_cif <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb24-30" data-line-number="30"><span class="st">  </span><span class="kw">select</span>(issue, funding, diffs_coef_pairs) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb24-31" data-line-number="31"><span class="st">  </span><span class="kw">unnest</span>(diffs_coef_pairs) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb24-32" data-line-number="32"><span class="st">  </span><span class="kw">gather</span>(pair, value, <span class="op">-</span>issue, <span class="op">-</span>funding) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb24-33" data-line-number="33"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">pair1 =</span> pair) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb24-34" data-line-number="34"><span class="st">  </span><span class="kw">separate</span>(pair1, <span class="dt">into =</span> <span class="kw">c</span>(<span class="st">&quot;group1&quot;</span>, <span class="st">&quot;group2&quot;</span>), <span class="dt">sep =</span> <span class="st">&quot; − &quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb24-35" data-line-number="35"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">pair =</span> <span class="kw">ifelse</span>(<span class="kw">nchar</span>(pair) <span class="op">&gt;</span><span class="st"> </span><span class="dv">25</span>,</a>
<a class="sourceLine" id="cb24-36" data-line-number="36">                       <span class="kw">str_replace</span>(pair, <span class="st">&quot;−&quot;</span>, <span class="st">&quot;−</span><span class="ch">\n</span><span class="st">&quot;</span>),</a>
<a class="sourceLine" id="cb24-37" data-line-number="37">                       pair))</a>
<a class="sourceLine" id="cb24-38" data-line-number="38"></a>
<a class="sourceLine" id="cb24-39" data-line-number="39">plot_diffs_cif &lt;-<span class="st"> </span><span class="kw">ggplot</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb24-40" data-line-number="40"><span class="st">  </span><span class="kw">geom_density</span>(<span class="dt">data =</span> pairs_plot_data_cif, <span class="kw">aes</span>(<span class="dt">x =</span> value),</a>
<a class="sourceLine" id="cb24-41" data-line-number="41">               <span class="dt">fill =</span> <span class="kw">ngo_cols</span>(<span class="st">&quot;red&quot;</span>), <span class="dt">colour =</span> <span class="ot">NA</span>, <span class="dt">alpha =</span> <span class="fl">0.4</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb24-42" data-line-number="42"><span class="st">  </span><span class="kw">geom_segment</span>(<span class="dt">data =</span> diffs_coef_pairs_detail_cif, </a>
<a class="sourceLine" id="cb24-43" data-line-number="43">               <span class="kw">aes</span>(<span class="dt">x =</span> q5, <span class="dt">xend =</span> q95, <span class="dt">y =</span> <span class="dv">0</span>, <span class="dt">yend =</span> <span class="dv">0</span>),</a>
<a class="sourceLine" id="cb24-44" data-line-number="44">               <span class="dt">size =</span> <span class="dv">3</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb24-45" data-line-number="45"><span class="st">  </span><span class="kw">geom_vline</span>(<span class="dt">data =</span> diffs_coef_pairs_detail_cif, <span class="kw">aes</span>(<span class="dt">xintercept =</span> median), <span class="dt">size =</span> <span class="fl">0.25</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb24-46" data-line-number="46"><span class="st">  </span><span class="kw">geom_vline</span>(<span class="dt">xintercept =</span> <span class="dv">0</span>, <span class="dt">linetype =</span> <span class="st">&quot;dotted&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb24-47" data-line-number="47"><span class="st">  </span><span class="kw">guides</span>(<span class="dt">fill =</span> <span class="ot">FALSE</span>, <span class="dt">color =</span> <span class="ot">FALSE</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb24-48" data-line-number="48"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Difference in medians&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb24-49" data-line-number="49"><span class="st">  </span><span class="kw">theme_ngos</span>(<span class="dt">density =</span> <span class="ot">TRUE</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb24-50" data-line-number="50"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>issue <span class="op">+</span><span class="st"> </span>funding <span class="op">+</span><span class="st"> </span>pair)</a></code></pre></div>
<p><strong>Compare only individual conditions:</strong></p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1">diffs_plot_data_singles &lt;-<span class="st"> </span><span class="kw">bind_rows</span>(pairs_plot_data_c,</a>
<a class="sourceLine" id="cb25-2" data-line-number="2">                                     pairs_plot_data_i,</a>
<a class="sourceLine" id="cb25-3" data-line-number="3">                                     pairs_plot_data_f) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb25-4" data-line-number="4"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">pair =</span> <span class="kw">fct_inorder</span>(pair, <span class="dt">ordered =</span> <span class="ot">TRUE</span>))</a>
<a class="sourceLine" id="cb25-5" data-line-number="5"></a>
<a class="sourceLine" id="cb25-6" data-line-number="6">diffs_coef_pairs_detail_singles &lt;-<span class="st"> </span><span class="kw">bind_rows</span>(diffs_coef_pairs_detail_c,</a>
<a class="sourceLine" id="cb25-7" data-line-number="7">                                             diffs_coef_pairs_detail_i,</a>
<a class="sourceLine" id="cb25-8" data-line-number="8">                                             diffs_coef_pairs_detail_f) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb25-9" data-line-number="9"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">pair =</span> <span class="kw">ifelse</span>(<span class="kw">nchar</span>(pair) <span class="op">&gt;</span><span class="st"> </span><span class="dv">25</span>,</a>
<a class="sourceLine" id="cb25-10" data-line-number="10">                       <span class="kw">str_replace</span>(pair, <span class="st">&quot;−&quot;</span>, <span class="st">&quot;−</span><span class="ch">\n</span><span class="st">&quot;</span>),</a>
<a class="sourceLine" id="cb25-11" data-line-number="11">                       pair),</a>
<a class="sourceLine" id="cb25-12" data-line-number="12">         <span class="dt">pair =</span> <span class="kw">fct_inorder</span>(pair, <span class="dt">ordered =</span> <span class="ot">TRUE</span>))</a>
<a class="sourceLine" id="cb25-13" data-line-number="13"></a>
<a class="sourceLine" id="cb25-14" data-line-number="14">plot_diffs_singles &lt;-<span class="st"> </span><span class="kw">ggplot</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb25-15" data-line-number="15"><span class="st">  </span><span class="kw">geom_density</span>(<span class="dt">data =</span> diffs_plot_data_singles, </a>
<a class="sourceLine" id="cb25-16" data-line-number="16">               <span class="kw">aes</span>(<span class="dt">x =</span> value, <span class="dt">fill =</span> pair),</a>
<a class="sourceLine" id="cb25-17" data-line-number="17">               <span class="dt">colour =</span> <span class="ot">NA</span>, <span class="dt">alpha =</span> <span class="fl">0.4</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb25-18" data-line-number="18"><span class="st">  </span><span class="kw">geom_segment</span>(<span class="dt">data =</span> diffs_coef_pairs_detail_singles, </a>
<a class="sourceLine" id="cb25-19" data-line-number="19">               <span class="kw">aes</span>(<span class="dt">x =</span> q5, <span class="dt">xend =</span> q95, <span class="dt">y =</span> <span class="dv">0</span>, <span class="dt">yend =</span> <span class="dv">0</span>, <span class="dt">group =</span> pair),</a>
<a class="sourceLine" id="cb25-20" data-line-number="20">               <span class="dt">size =</span> <span class="dv">3</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb25-21" data-line-number="21"><span class="st">  </span><span class="kw">geom_vline</span>(<span class="dt">data =</span> diffs_coef_pairs_detail_singles, </a>
<a class="sourceLine" id="cb25-22" data-line-number="22">             <span class="kw">aes</span>(<span class="dt">xintercept =</span> median), <span class="dt">size =</span> <span class="fl">0.25</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb25-23" data-line-number="23"><span class="st">  </span><span class="kw">geom_vline</span>(<span class="dt">xintercept =</span> <span class="dv">0</span>, <span class="dt">linetype =</span> <span class="st">&quot;dotted&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb25-24" data-line-number="24"><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">labels =</span> dollar) <span class="op">+</span></a>
<a class="sourceLine" id="cb25-25" data-line-number="25"><span class="st">  </span><span class="kw">scale_fill_manual</span>(<span class="dt">values =</span> <span class="kw">ngo_cols</span>(<span class="st">&quot;green&quot;</span>, <span class="st">&quot;blue&quot;</span>, <span class="st">&quot;red&quot;</span>, <span class="dt">name =</span> <span class="ot">FALSE</span>), <span class="dt">guide =</span> <span class="ot">FALSE</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb25-26" data-line-number="26"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Difference in medians&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb25-27" data-line-number="27"><span class="st">  </span><span class="kw">theme_ngos</span>(<span class="dt">density =</span> <span class="ot">TRUE</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb25-28" data-line-number="28"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>pair)</a>
<a class="sourceLine" id="cb25-29" data-line-number="29"></a>
<a class="sourceLine" id="cb25-30" data-line-number="30">plot_diffs_singles <span class="op">%T&gt;%</span></a>
<a class="sourceLine" id="cb25-31" data-line-number="31"><span class="st">  </span><span class="kw">print</span>() <span class="op">%T&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb25-32" data-line-number="32"><span class="st">  </span><span class="kw">ggsave</span>(., <span class="dt">filename =</span> <span class="kw">file.path</span>(<span class="kw">here</span>(), <span class="st">&quot;output&quot;</span>, <span class="st">&quot;figures&quot;</span>, <span class="st">&quot;amount-singles-diffs.pdf&quot;</span>),</a>
<a class="sourceLine" id="cb25-33" data-line-number="33">         <span class="dt">width =</span> <span class="dv">7</span>, <span class="dt">height =</span> <span class="fl">2.5</span>, <span class="dt">units =</span> <span class="st">&quot;in&quot;</span>, <span class="dt">device =</span> cairo_pdf) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb25-34" data-line-number="34"><span class="st">  </span><span class="kw">ggsave</span>(., <span class="dt">filename =</span> <span class="kw">file.path</span>(<span class="kw">here</span>(), <span class="st">&quot;output&quot;</span>, <span class="st">&quot;figures&quot;</span>, <span class="st">&quot;amount-singles-diffs.png&quot;</span>),</a>
<a class="sourceLine" id="cb25-35" data-line-number="35">         <span class="dt">width =</span> <span class="dv">7</span>, <span class="dt">height =</span> <span class="fl">2.5</span>, <span class="dt">units =</span> <span class="st">&quot;in&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;cairo&quot;</span>, <span class="dt">dpi =</span> <span class="dv">300</span>)</a></code></pre></div>
<p><img src="02_analysis_files/figure-html/plot-single-amount-diffs-1.png" width="672" /></p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" data-line-number="1"><span class="kw">bind_rows</span>(diffs_coef_pairs_detail_c,</a>
<a class="sourceLine" id="cb26-2" data-line-number="2">          diffs_coef_pairs_detail_i,</a>
<a class="sourceLine" id="cb26-3" data-line-number="3">          diffs_coef_pairs_detail_f) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb26-4" data-line-number="4"><span class="st">  </span><span class="kw">select</span>(<span class="st">`</span><span class="dt">Frame</span><span class="st">`</span> =<span class="st"> </span>pair, <span class="st">`</span><span class="dt">∆~median~</span><span class="st">`</span> =<span class="st"> </span>median, </a>
<a class="sourceLine" id="cb26-5" data-line-number="5">         <span class="st">`</span><span class="dt">p(∆ &gt; 0)</span><span class="st">`</span> =<span class="st"> </span>p.greater0, <span class="st">`</span><span class="dt">p(∆ &lt; 0)</span><span class="st">`</span> =<span class="st"> </span>p.less0, <span class="st">`</span><span class="dt">p(∆ ≠ 0)</span><span class="st">`</span> =<span class="st"> </span>p.diff.not0) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb26-6" data-line-number="6"><span class="st">  </span><span class="kw">pandoc.table.return</span>(<span class="dt">missing =</span> <span class="st">&quot;—&quot;</span>, </a>
<a class="sourceLine" id="cb26-7" data-line-number="7">                      <span class="dt">caption =</span> <span class="st">&quot;Median difference between likelihood to donate across single conditions&quot;</span>) <span class="op">%T&gt;%</span></a>
<a class="sourceLine" id="cb26-8" data-line-number="8"><span class="st">  </span><span class="kw">cat</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb26-9" data-line-number="9"><span class="st">  </span><span class="kw">cat</span>(<span class="dt">file =</span> <span class="kw">file.path</span>(<span class="kw">here</span>(), <span class="st">&quot;output&quot;</span>, <span class="st">&quot;tables&quot;</span>, <span class="st">&quot;tbl-amount-single-diffs.md&quot;</span>))</a></code></pre></div>
<table>
<caption>Median difference between likelihood to donate across single conditions</caption>
<colgroup>
<col width="47%" />
<col width="13%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Frame</th>
<th align="left">∆<sub>median</sub></th>
<th align="left">p(∆ &gt; 0)</th>
<th align="left">p(∆ &lt; 0)</th>
<th align="left">p(∆ ≠ 0)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">No crackdown − Crackdown</td>
<td align="left">-3.8</td>
<td align="left">0.042</td>
<td align="left">0.958</td>
<td align="left">0.958</td>
</tr>
<tr class="even">
<td align="left">Human rights − Humanitarian assistance</td>
<td align="left">-0.387</td>
<td align="left">0.441</td>
<td align="left">0.559</td>
<td align="left">0.559</td>
</tr>
<tr class="odd">
<td align="left">Government − Private</td>
<td align="left">0.709</td>
<td align="left">0.632</td>
<td align="left">0.368</td>
<td align="left">0.632</td>
</tr>
</tbody>
</table>
<p><br />
</p>
<p><strong>Compare nested conditions (what we’re really most concerned about):</strong></p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" data-line-number="1">plot_diffs_all &lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb27-2" data-line-number="2"><span class="st">  </span>(plot_diffs_c <span class="op">/</span><span class="st"> </span>plot_diffs_ci) <span class="op">|</span><span class="st"> </span></a>
<a class="sourceLine" id="cb27-3" data-line-number="3"><span class="st">  </span>plot_diffs_cif</a>
<a class="sourceLine" id="cb27-4" data-line-number="4"></a>
<a class="sourceLine" id="cb27-5" data-line-number="5">plot_diffs_all <span class="op">+</span></a>
<a class="sourceLine" id="cb27-6" data-line-number="6"><span class="st">  </span><span class="kw">plot_annotation</span>(<span class="dt">title =</span> <span class="st">&quot;Differences in median amount donated in control and crackdown groups,</span><span class="ch">\n</span><span class="st">conditioned by other experimental groups&quot;</span>,</a>
<a class="sourceLine" id="cb27-7" data-line-number="7">                  <span class="dt">subtitle =</span> <span class="st">&quot;90% credible intervals shown in black. Solid vertical line = median; dotted vertical line = 0&quot;</span>,</a>
<a class="sourceLine" id="cb27-8" data-line-number="8">                  <span class="dt">tag_levels =</span> <span class="st">&quot;A&quot;</span>, <span class="dt">theme =</span> <span class="kw">theme_ngos</span>())</a></code></pre></div>
<p><img src="02_analysis_files/figure-html/plot-all-amount-diffs-1.png" width="768" /></p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1">(plot_diffs_all <span class="op">+</span></a>
<a class="sourceLine" id="cb28-2" data-line-number="2"><span class="st">  </span><span class="kw">plot_annotation</span>(<span class="dt">caption =</span> <span class="st">&quot;90% credible intervals shown in black. Solid vertical line = median; dotted vertical line = 0&quot;</span>,</a>
<a class="sourceLine" id="cb28-3" data-line-number="3">                  <span class="dt">tag_levels =</span> <span class="st">&quot;A&quot;</span>, <span class="dt">theme =</span> <span class="kw">theme_ngos</span>())) <span class="op">%T&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb28-4" data-line-number="4"><span class="st">  </span><span class="kw">ggsave</span>(., <span class="dt">filename =</span> <span class="kw">file.path</span>(<span class="kw">here</span>(), <span class="st">&quot;output&quot;</span>, <span class="st">&quot;figures&quot;</span>, <span class="st">&quot;amount-diffs.pdf&quot;</span>),</a>
<a class="sourceLine" id="cb28-5" data-line-number="5">         <span class="dt">width =</span> <span class="dv">8</span>, <span class="dt">height =</span> <span class="dv">5</span>, <span class="dt">units =</span> <span class="st">&quot;in&quot;</span>, <span class="dt">device =</span> cairo_pdf) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb28-6" data-line-number="6"><span class="st">  </span><span class="kw">ggsave</span>(., <span class="dt">filename =</span> <span class="kw">file.path</span>(<span class="kw">here</span>(), <span class="st">&quot;output&quot;</span>, <span class="st">&quot;figures&quot;</span>, <span class="st">&quot;amount-diffs.png&quot;</span>),</a>
<a class="sourceLine" id="cb28-7" data-line-number="7">         <span class="dt">width =</span> <span class="dv">8</span>, <span class="dt">height =</span> <span class="dv">5</span>, <span class="dt">units =</span> <span class="st">&quot;in&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;cairo&quot;</span>, <span class="dt">dpi =</span> <span class="dv">300</span>)</a></code></pre></div>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" data-line-number="1"><span class="kw">bind_rows</span>(diffs_coef_pairs_detail_c,</a>
<a class="sourceLine" id="cb29-2" data-line-number="2">          diffs_coef_pairs_detail_ci,</a>
<a class="sourceLine" id="cb29-3" data-line-number="3">          diffs_coef_pairs_detail_cif) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb29-4" data-line-number="4"><span class="st">  </span><span class="kw">select</span>(<span class="dt">Issue =</span> issue, <span class="dt">Funding =</span> funding, </a>
<a class="sourceLine" id="cb29-5" data-line-number="5">         <span class="st">`</span><span class="dt">No crackdown − crackdown~median~</span><span class="st">`</span> =<span class="st"> </span>median, </a>
<a class="sourceLine" id="cb29-6" data-line-number="6">         <span class="st">`</span><span class="dt">p(∆ &gt; 0)</span><span class="st">`</span> =<span class="st"> </span>p.greater0, <span class="st">`</span><span class="dt">p(∆ &lt; 0)</span><span class="st">`</span> =<span class="st"> </span>p.less0, <span class="st">`</span><span class="dt">p(∆ ≠ 0)</span><span class="st">`</span> =<span class="st"> </span>p.diff.not0) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb29-7" data-line-number="7"><span class="st">  </span><span class="kw">pandoc.table.return</span>(<span class="dt">missing =</span> <span class="st">&quot;—&quot;</span>, </a>
<a class="sourceLine" id="cb29-8" data-line-number="8">                      <span class="dt">caption =</span> <span class="st">&#39;Median difference between amounts donated in &quot;no crackdown&quot; (control) and &quot;crackdown&quot; conditions&#39;</span>) <span class="op">%T&gt;%</span></a>
<a class="sourceLine" id="cb29-9" data-line-number="9"><span class="st">  </span><span class="kw">cat</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb29-10" data-line-number="10"><span class="st">  </span><span class="kw">cat</span>(<span class="dt">file =</span> <span class="kw">file.path</span>(<span class="kw">here</span>(), <span class="st">&quot;output&quot;</span>, <span class="st">&quot;tables&quot;</span>, <span class="st">&quot;tbl-amount-diffs.md&quot;</span>))</a></code></pre></div>
<table>
<caption>Median difference between amounts donated in “no crackdown” (control) and “crackdown” conditions</caption>
<colgroup>
<col width="24%" />
<col width="12%" />
<col width="32%" />
<col width="10%" />
<col width="10%" />
<col width="10%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Issue</th>
<th align="left">Funding</th>
<th align="left">No crackdown − crackdown<sub>median</sub></th>
<th align="left">p(∆ &gt; 0)</th>
<th align="left">p(∆ &lt; 0)</th>
<th align="left">p(∆ ≠ 0)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">—</td>
<td align="left">—</td>
<td align="left">-3.8</td>
<td align="left">0.042</td>
<td align="left">0.958</td>
<td align="left">0.958</td>
</tr>
<tr class="even">
<td align="left">Human rights</td>
<td align="left">—</td>
<td align="left">-2.64</td>
<td align="left">0.198</td>
<td align="left">0.802</td>
<td align="left">0.802</td>
</tr>
<tr class="odd">
<td align="left">Humanitarian assistance</td>
<td align="left">—</td>
<td align="left">-5</td>
<td align="left">0.055</td>
<td align="left">0.945</td>
<td align="left">0.945</td>
</tr>
<tr class="even">
<td align="left">Human rights</td>
<td align="left">Government</td>
<td align="left">2.69</td>
<td align="left">0.739</td>
<td align="left">0.261</td>
<td align="left">0.739</td>
</tr>
<tr class="odd">
<td align="left">Human rights</td>
<td align="left">Private</td>
<td align="left">-8.2</td>
<td align="left">0.025</td>
<td align="left">0.975</td>
<td align="left">0.975</td>
</tr>
<tr class="even">
<td align="left">Humanitarian assistance</td>
<td align="left">Government</td>
<td align="left">-12.2</td>
<td align="left">0.002</td>
<td align="left">0.998</td>
<td align="left">0.998</td>
</tr>
<tr class="odd">
<td align="left">Humanitarian assistance</td>
<td align="left">Private</td>
<td align="left">2.33</td>
<td align="left">0.709</td>
<td align="left">0.291</td>
<td align="left">0.709</td>
</tr>
</tbody>
</table>
<p><br />
</p>
</div>
</div>
<div id="likelihood-of-donation-1" class="section level1">
<h1>Likelihood of donation</h1>
<div id="models-1" class="section level2">
<h2>Models</h2>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" data-line-number="1"><span class="co"># Basic interaction models</span></a>
<a class="sourceLine" id="cb30-2" data-line-number="2"><span class="co"># Weakly informative student t priors, since these coefficients are log-odds</span></a>
<a class="sourceLine" id="cb30-3" data-line-number="3"><span class="co"># See https://github.com/stan-dev/stan/wiki/Prior-Choice-Recommendations#prior-for-the-regression-coefficients-in-logistic-regression-non-sparse-case and https://arxiv.org/abs/1507.07170</span></a>
<a class="sourceLine" id="cb30-4" data-line-number="4">m_likely_c &lt;-<span class="st"> </span><span class="kw">stan_glm</span>(donate_likely_bin <span class="op">~</span><span class="st"> </span>crackdown,</a>
<a class="sourceLine" id="cb30-5" data-line-number="5">                       <span class="dt">data =</span> results, <span class="dt">family =</span> <span class="kw">binomial</span>(<span class="dt">link =</span> <span class="st">&quot;logit&quot;</span>),</a>
<a class="sourceLine" id="cb30-6" data-line-number="6">                       <span class="dt">prior =</span> <span class="kw">student_t</span>(<span class="dv">3</span>, <span class="dv">0</span>, <span class="fl">2.5</span>),</a>
<a class="sourceLine" id="cb30-7" data-line-number="7">                       <span class="dt">prior_intercept =</span> <span class="kw">student_t</span>(<span class="dv">3</span>, <span class="dv">0</span>, <span class="dv">10</span>),</a>
<a class="sourceLine" id="cb30-8" data-line-number="8">                       <span class="dt">chains =</span> CHAINS, <span class="dt">iter =</span> ITER, <span class="dt">warmup =</span> WARMUP, <span class="dt">seed =</span> BAYES_SEED)</a>
<a class="sourceLine" id="cb30-9" data-line-number="9"></a>
<a class="sourceLine" id="cb30-10" data-line-number="10">m_likely_ci &lt;-<span class="st"> </span><span class="kw">update</span>(m_likely_c, . <span class="op">~</span><span class="st"> </span>. <span class="op">+</span><span class="st"> </span>issue <span class="op">+</span><span class="st"> </span>crackdown <span class="op">*</span><span class="st"> </span>issue)</a>
<a class="sourceLine" id="cb30-11" data-line-number="11"></a>
<a class="sourceLine" id="cb30-12" data-line-number="12">m_likely_cif &lt;-<span class="st"> </span><span class="kw">update</span>(m_likely_c, . <span class="op">~</span><span class="st"> </span>. <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb30-13" data-line-number="13"><span class="st">                         </span>issue <span class="op">+</span><span class="st"> </span>funding <span class="op">+</span><span class="st"> </span>crackdown <span class="op">*</span><span class="st"> </span>issue <span class="op">+</span><span class="st"> </span>crackdown <span class="op">*</span><span class="st"> </span>funding <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb30-14" data-line-number="14"><span class="st">                         </span>issue <span class="op">*</span><span class="st"> </span>funding <span class="op">+</span><span class="st"> </span>crackdown <span class="op">*</span><span class="st"> </span>issue <span class="op">*</span><span class="st"> </span>funding)</a>
<a class="sourceLine" id="cb30-15" data-line-number="15"></a>
<a class="sourceLine" id="cb30-16" data-line-number="16"><span class="co"># Models with just issue and just funding</span></a>
<a class="sourceLine" id="cb30-17" data-line-number="17">m_likely_i &lt;-<span class="st"> </span><span class="kw">update</span>(m_likely_c, . <span class="op">~</span><span class="st"> </span>issue)</a>
<a class="sourceLine" id="cb30-18" data-line-number="18">m_likely_f &lt;-<span class="st"> </span><span class="kw">update</span>(m_likely_c, . <span class="op">~</span><span class="st"> </span>funding)</a></code></pre></div>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" data-line-number="1"><span class="co"># Get subset of coefficients</span></a>
<a class="sourceLine" id="cb31-2" data-line-number="2">coefs_to_include &lt;-<span class="st"> </span><span class="kw">list</span>(m_likely_c, m_likely_ci, m_likely_cif) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb31-3" data-line-number="3"><span class="st">  </span><span class="kw">map</span>(<span class="op">~</span><span class="st"> </span><span class="kw">tidy</span>(.)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">bind_rows</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">distinct</span>(term) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">pull</span>(term)</a>
<a class="sourceLine" id="cb31-4" data-line-number="4"></a>
<a class="sourceLine" id="cb31-5" data-line-number="5"><span class="kw">huxreg</span>(m_likely_c, m_likely_ci, m_likely_cif, </a>
<a class="sourceLine" id="cb31-6" data-line-number="6">       <span class="dt">coefs =</span> clean_coefs_named[clean_coefs_named <span class="op">%in%</span><span class="st"> </span>coefs_to_include],</a>
<a class="sourceLine" id="cb31-7" data-line-number="7">       <span class="dt">statistics =</span> model_stats_bayes,</a>
<a class="sourceLine" id="cb31-8" data-line-number="8">       <span class="dt">stars =</span> <span class="ot">NULL</span>) <span class="op">%T&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb31-9" data-line-number="9"><span class="st">  </span><span class="kw">print_hux</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb31-10" data-line-number="10"><span class="st">  </span><span class="kw">to_md</span>(<span class="dt">max_width =</span> <span class="dv">100</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb31-11" data-line-number="11"><span class="st">  </span><span class="kw">cat</span>(<span class="dt">file =</span> <span class="kw">file.path</span>(<span class="kw">here</span>(), <span class="st">&quot;output&quot;</span>, <span class="st">&quot;tables&quot;</span>, <span class="st">&quot;tbl-models-likelihood.md&quot;</span>))</a></code></pre></div>
<table class="huxtable" style="border-collapse: collapse; margin-bottom: 2em; margin-top: 2em; width: 50%; margin-left: auto; margin-right: auto;">
<col style="width: NA;">
<col style="width: NA;">
<col style="width: NA;">
<col style="width: NA;">
<tr>
<td style="vertical-align: top; text-align: center; white-space: nowrap; border-width:0.8pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
</td>
<td style="vertical-align: top; text-align: center; white-space: nowrap; border-width:0.8pt 0pt 0.4pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
(1)
</td>
<td style="vertical-align: top; text-align: center; white-space: nowrap; border-width:0.8pt 0pt 0.4pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
(2)
</td>
<td style="vertical-align: top; text-align: center; white-space: nowrap; border-width:0.8pt 0pt 0.4pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
(3)
</td>
</tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
Intercept
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
-0.299 
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
-0.283 
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
-0.170 
</td>
</tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
(0.120)
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
(0.171)
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
(0.234)
</td>
</tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
Crackdown (yes)
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
0.140 
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
0.020 
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
-0.681 
</td>
</tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
(0.166)
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
(0.239)
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
(0.340)
</td>
</tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
Issue (humanitarian)
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
-0.034 
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
-0.061 
</td>
</tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
(0.236)
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
(0.312)
</td>
</tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
Funding (private)
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
-0.241 
</td>
</tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
(0.337)
</td>
</tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
Crackdown × Issue
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
0.227 
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
0.898 
</td>
</tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
(0.335)
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
(0.452)
</td>
</tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
Crackdown × Funding
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
1.399 
</td>
</tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
(0.464)
</td>
</tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
Issue × Funding
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
0.086 
</td>
</tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
(0.462)
</td>
</tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
Crackdown × Issue × Funding
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
-1.343 
</td>
</tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0.4pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0.4pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0.4pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
(0.641)
</td>
</tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
Observations
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
546     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
546     
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
546     
</td>
</tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
Posterior sample size
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
4000.000 
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
4000.000 
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
4000.000 
</td>
</tr>
<tr>
<td style="vertical-align: top; text-align: left; white-space: nowrap; border-width:0pt 0pt 0.8pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
Sigma
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0.8pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
1.000 
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0.8pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
1.000 
</td>
<td style="vertical-align: top; text-align: right; white-space: nowrap; border-width:0pt 0pt 0.8pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
1.000 
</td>
</tr>
<tr>
<td colspan="4" style="vertical-align: top; text-align: left; white-space: normal; border-width:0pt 0pt 0pt 0pt; border-style: solid; padding: 4pt 4pt 4pt 4pt; ">
.
</td>
</tr>
</table>
</div>
<div id="predicted-medians-1" class="section level2">
<h2>Predicted medians</h2>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" data-line-number="1">newdata_conditions_c &lt;-<span class="st"> </span>results <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">expand</span>(<span class="kw">nesting</span>(crackdown))</a>
<a class="sourceLine" id="cb32-2" data-line-number="2"></a>
<a class="sourceLine" id="cb32-3" data-line-number="3"><span class="co"># transform = TRUE does the same thing as plogis(as.matrix(m_likely_c))</span></a>
<a class="sourceLine" id="cb32-4" data-line-number="4">chains_fitted_likely_c &lt;-<span class="st"> </span><span class="kw">posterior_linpred</span>(m_likely_c, </a>
<a class="sourceLine" id="cb32-5" data-line-number="5">                                            <span class="dt">newdata =</span> newdata_conditions_c, </a>
<a class="sourceLine" id="cb32-6" data-line-number="6">                                            <span class="dt">transform =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb32-7" data-line-number="7"></a>
<a class="sourceLine" id="cb32-8" data-line-number="8">coef_summary_likely_c &lt;-<span class="st"> </span>newdata_conditions_c <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb32-9" data-line-number="9"><span class="st">  </span><span class="kw">bind_cols</span>(<span class="kw">tidyMCMC</span>(<span class="kw">as.mcmc</span>(chains_fitted_likely_c), <span class="dt">estimate.method =</span> <span class="st">&quot;median&quot;</span>,</a>
<a class="sourceLine" id="cb32-10" data-line-number="10">                     <span class="dt">conf.int =</span> <span class="ot">TRUE</span>, <span class="dt">conf.level =</span> <span class="fl">0.9</span>, <span class="dt">conf.method =</span> <span class="st">&quot;HPDinterval&quot;</span>))</a>
<a class="sourceLine" id="cb32-11" data-line-number="11"></a>
<a class="sourceLine" id="cb32-12" data-line-number="12">plot_likely_c &lt;-<span class="st"> </span><span class="kw">ggplot</span>(coef_summary_likely_c, <span class="kw">aes</span>(<span class="dt">y =</span> estimate, <span class="dt">x =</span> crackdown)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb32-13" data-line-number="13"><span class="st">  </span><span class="co"># geom_point(data = results, aes(y = amount_donate, x = crackdown),</span></a>
<a class="sourceLine" id="cb32-14" data-line-number="14"><span class="st">  </span><span class="co">#            color = &quot;grey50&quot;, size = 0.5, alpha = 0.25) +</span></a>
<a class="sourceLine" id="cb32-15" data-line-number="15"><span class="st">  </span><span class="kw">geom_pointrange</span>(<span class="kw">aes</span>(<span class="dt">ymin =</span> conf.low, <span class="dt">ymax =</span> conf.high), <span class="dt">color =</span> <span class="kw">ngo_cols</span>(<span class="st">&quot;green&quot;</span>)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb32-16" data-line-number="16"><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">labels =</span> percent) <span class="op">+</span></a>
<a class="sourceLine" id="cb32-17" data-line-number="17"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="ot">NULL</span>, <span class="dt">y =</span> <span class="st">&quot;Probability of donating&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb32-18" data-line-number="18"><span class="st">  </span><span class="co"># coord_cartesian(ylim = c(0, 100)) +</span></a>
<a class="sourceLine" id="cb32-19" data-line-number="19"><span class="st">  </span><span class="kw">theme_ngos</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb32-20" data-line-number="20"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">panel.grid.major.x =</span> <span class="kw">element_blank</span>())</a></code></pre></div>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" data-line-number="1">newdata_conditions_i &lt;-<span class="st"> </span>results <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">expand</span>(<span class="kw">nesting</span>(issue))</a>
<a class="sourceLine" id="cb33-2" data-line-number="2"></a>
<a class="sourceLine" id="cb33-3" data-line-number="3">chains_fitted_likely_i &lt;-<span class="st"> </span><span class="kw">posterior_linpred</span>(m_likely_i, </a>
<a class="sourceLine" id="cb33-4" data-line-number="4">                                            <span class="dt">newdata =</span> newdata_conditions_i, </a>
<a class="sourceLine" id="cb33-5" data-line-number="5">                                            <span class="dt">transform =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb33-6" data-line-number="6"></a>
<a class="sourceLine" id="cb33-7" data-line-number="7">coef_summary_likely_i &lt;-<span class="st"> </span>newdata_conditions_i <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb33-8" data-line-number="8"><span class="st">  </span><span class="kw">bind_cols</span>(<span class="kw">tidyMCMC</span>(<span class="kw">as.mcmc</span>(chains_fitted_likely_i), <span class="dt">estimate.method =</span> <span class="st">&quot;median&quot;</span>,</a>
<a class="sourceLine" id="cb33-9" data-line-number="9">                     <span class="dt">conf.int =</span> <span class="ot">TRUE</span>, <span class="dt">conf.level =</span> <span class="fl">0.9</span>, <span class="dt">conf.method =</span> <span class="st">&quot;HPDinterval&quot;</span>))</a>
<a class="sourceLine" id="cb33-10" data-line-number="10"></a>
<a class="sourceLine" id="cb33-11" data-line-number="11">plot_likely_i &lt;-<span class="st"> </span><span class="kw">ggplot</span>(coef_summary_likely_i, <span class="kw">aes</span>(<span class="dt">y =</span> estimate, <span class="dt">x =</span> issue)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb33-12" data-line-number="12"><span class="st">  </span><span class="kw">geom_pointrange</span>(<span class="kw">aes</span>(<span class="dt">ymin =</span> conf.low, <span class="dt">ymax =</span> conf.high), <span class="dt">color =</span> <span class="kw">ngo_cols</span>(<span class="st">&quot;green&quot;</span>)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb33-13" data-line-number="13"><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">labels =</span> percent) <span class="op">+</span></a>
<a class="sourceLine" id="cb33-14" data-line-number="14"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="ot">NULL</span>, <span class="dt">y =</span> <span class="st">&quot;Probability of donating&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb33-15" data-line-number="15"><span class="st">  </span><span class="kw">theme_ngos</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb33-16" data-line-number="16"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">panel.grid.major.x =</span> <span class="kw">element_blank</span>())</a></code></pre></div>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb34-1" data-line-number="1">newdata_conditions_f &lt;-<span class="st"> </span>results <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">expand</span>(<span class="kw">nesting</span>(funding))</a>
<a class="sourceLine" id="cb34-2" data-line-number="2"></a>
<a class="sourceLine" id="cb34-3" data-line-number="3">chains_fitted_likely_f &lt;-<span class="st"> </span><span class="kw">posterior_linpred</span>(m_likely_f, </a>
<a class="sourceLine" id="cb34-4" data-line-number="4">                                            <span class="dt">newdata =</span> newdata_conditions_f, </a>
<a class="sourceLine" id="cb34-5" data-line-number="5">                                            <span class="dt">transform =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb34-6" data-line-number="6"></a>
<a class="sourceLine" id="cb34-7" data-line-number="7">coef_summary_likely_f &lt;-<span class="st"> </span>newdata_conditions_f <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb34-8" data-line-number="8"><span class="st">  </span><span class="kw">bind_cols</span>(<span class="kw">tidyMCMC</span>(<span class="kw">as.mcmc</span>(chains_fitted_likely_f), <span class="dt">estimate.method =</span> <span class="st">&quot;median&quot;</span>,</a>
<a class="sourceLine" id="cb34-9" data-line-number="9">                     <span class="dt">conf.int =</span> <span class="ot">TRUE</span>, <span class="dt">conf.level =</span> <span class="fl">0.9</span>, <span class="dt">conf.method =</span> <span class="st">&quot;HPDinterval&quot;</span>))</a>
<a class="sourceLine" id="cb34-10" data-line-number="10"></a>
<a class="sourceLine" id="cb34-11" data-line-number="11">plot_likely_f &lt;-<span class="st"> </span><span class="kw">ggplot</span>(coef_summary_likely_f, <span class="kw">aes</span>(<span class="dt">y =</span> estimate, <span class="dt">x =</span> funding)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb34-12" data-line-number="12"><span class="st">  </span><span class="kw">geom_pointrange</span>(<span class="kw">aes</span>(<span class="dt">ymin =</span> conf.low, <span class="dt">ymax =</span> conf.high), <span class="dt">color =</span> <span class="kw">ngo_cols</span>(<span class="st">&quot;green&quot;</span>)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb34-13" data-line-number="13"><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">labels =</span> percent) <span class="op">+</span></a>
<a class="sourceLine" id="cb34-14" data-line-number="14"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="ot">NULL</span>, <span class="dt">y =</span> <span class="st">&quot;Probability of donating&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb34-15" data-line-number="15"><span class="st">  </span><span class="kw">theme_ngos</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb34-16" data-line-number="16"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">panel.grid.major.x =</span> <span class="kw">element_blank</span>())</a></code></pre></div>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" data-line-number="1">newdata_conditions_ci &lt;-<span class="st"> </span>results <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">expand</span>(<span class="kw">nesting</span>(crackdown, issue))</a>
<a class="sourceLine" id="cb35-2" data-line-number="2"></a>
<a class="sourceLine" id="cb35-3" data-line-number="3">chains_fitted_likely_ci &lt;-<span class="st"> </span><span class="kw">posterior_linpred</span>(m_likely_ci, </a>
<a class="sourceLine" id="cb35-4" data-line-number="4">                                             <span class="dt">newdata =</span> newdata_conditions_ci,</a>
<a class="sourceLine" id="cb35-5" data-line-number="5">                                             <span class="dt">transform =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb35-6" data-line-number="6"></a>
<a class="sourceLine" id="cb35-7" data-line-number="7">coef_summary_likely_ci &lt;-<span class="st"> </span>newdata_conditions_ci <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb35-8" data-line-number="8"><span class="st">  </span><span class="kw">bind_cols</span>(<span class="kw">tidyMCMC</span>(<span class="kw">as.mcmc</span>(chains_fitted_likely_ci), <span class="dt">estimate.method =</span> <span class="st">&quot;median&quot;</span>,</a>
<a class="sourceLine" id="cb35-9" data-line-number="9">                     <span class="dt">conf.int =</span> <span class="ot">TRUE</span>, <span class="dt">conf.level =</span> <span class="fl">0.9</span>, <span class="dt">conf.method =</span> <span class="st">&quot;HPDinterval&quot;</span>))</a>
<a class="sourceLine" id="cb35-10" data-line-number="10"></a>
<a class="sourceLine" id="cb35-11" data-line-number="11">plot_likely_ci &lt;-<span class="st"> </span><span class="kw">ggplot</span>(coef_summary_likely_ci, <span class="kw">aes</span>(<span class="dt">y =</span> estimate, <span class="dt">x =</span> crackdown)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb35-12" data-line-number="12"><span class="st">  </span><span class="co"># geom_point(data = results, aes(y = amount_donate, x = crackdown),</span></a>
<a class="sourceLine" id="cb35-13" data-line-number="13"><span class="st">  </span><span class="co">#            color = &quot;grey50&quot;, size = 0.5, alpha = 0.25) +</span></a>
<a class="sourceLine" id="cb35-14" data-line-number="14"><span class="st">  </span><span class="kw">geom_pointrange</span>(<span class="kw">aes</span>(<span class="dt">ymin =</span> conf.low, <span class="dt">ymax =</span> conf.high), <span class="dt">color =</span> <span class="kw">ngo_cols</span>(<span class="st">&quot;blue&quot;</span>)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb35-15" data-line-number="15"><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">labels =</span> percent) <span class="op">+</span></a>
<a class="sourceLine" id="cb35-16" data-line-number="16"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="ot">NULL</span>, <span class="dt">y =</span> <span class="st">&quot;Probability of donating&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb35-17" data-line-number="17"><span class="st">  </span><span class="co"># coord_cartesian(ylim = c(0, 100)) +</span></a>
<a class="sourceLine" id="cb35-18" data-line-number="18"><span class="st">  </span><span class="kw">theme_ngos</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb35-19" data-line-number="19"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">panel.grid.major.x =</span> <span class="kw">element_blank</span>(),</a>
<a class="sourceLine" id="cb35-20" data-line-number="20">        <span class="dt">strip.text =</span> <span class="kw">element_text</span>(<span class="dt">margin =</span> <span class="kw">margin</span>(<span class="dv">5</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">0</span>, <span class="st">&quot;pt&quot;</span>))) <span class="op">+</span></a>
<a class="sourceLine" id="cb35-21" data-line-number="21"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>issue)</a></code></pre></div>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb36-1" data-line-number="1">newdata_conditions_cif &lt;-<span class="st"> </span>results <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">expand</span>(<span class="kw">nesting</span>(crackdown, issue, funding))</a>
<a class="sourceLine" id="cb36-2" data-line-number="2"></a>
<a class="sourceLine" id="cb36-3" data-line-number="3">chains_fitted_likely_cif &lt;-<span class="st"> </span><span class="kw">posterior_linpred</span>(m_likely_cif, </a>
<a class="sourceLine" id="cb36-4" data-line-number="4">                                              <span class="dt">newdata =</span> newdata_conditions_cif,</a>
<a class="sourceLine" id="cb36-5" data-line-number="5">                                              <span class="dt">transform =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb36-6" data-line-number="6"></a>
<a class="sourceLine" id="cb36-7" data-line-number="7">coef_summary_likely_cif &lt;-<span class="st"> </span>newdata_conditions_cif <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb36-8" data-line-number="8"><span class="st">  </span><span class="kw">bind_cols</span>(<span class="kw">tidyMCMC</span>(<span class="kw">as.mcmc</span>(chains_fitted_likely_cif), <span class="dt">estimate.method =</span> <span class="st">&quot;median&quot;</span>,</a>
<a class="sourceLine" id="cb36-9" data-line-number="9">                     <span class="dt">conf.int =</span> <span class="ot">TRUE</span>, <span class="dt">conf.level =</span> <span class="fl">0.9</span>, <span class="dt">conf.method =</span> <span class="st">&quot;HPDinterval&quot;</span>))</a>
<a class="sourceLine" id="cb36-10" data-line-number="10"></a>
<a class="sourceLine" id="cb36-11" data-line-number="11">plot_likely_cif &lt;-<span class="st"> </span><span class="kw">ggplot</span>(coef_summary_likely_cif, <span class="kw">aes</span>(<span class="dt">y =</span> estimate, <span class="dt">x =</span> crackdown)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb36-12" data-line-number="12"><span class="st">  </span><span class="co"># geom_point(data = results, aes(y = amount_donate, x = crackdown),</span></a>
<a class="sourceLine" id="cb36-13" data-line-number="13"><span class="st">  </span><span class="co">#            color = &quot;grey50&quot;, size = 0.5, alpha = 0.5) +</span></a>
<a class="sourceLine" id="cb36-14" data-line-number="14"><span class="st">  </span><span class="kw">geom_pointrange</span>(<span class="kw">aes</span>(<span class="dt">ymin =</span> conf.low, <span class="dt">ymax =</span> conf.high), <span class="dt">color =</span> <span class="kw">ngo_cols</span>(<span class="st">&quot;red&quot;</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb36-15" data-line-number="15"><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">labels =</span> percent) <span class="op">+</span></a>
<a class="sourceLine" id="cb36-16" data-line-number="16"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="ot">NULL</span>, <span class="dt">y =</span> <span class="st">&quot;Probability of donating&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb36-17" data-line-number="17"><span class="st">  </span><span class="kw">theme_ngos</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb36-18" data-line-number="18"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">panel.grid.major.x =</span> <span class="kw">element_blank</span>(),</a>
<a class="sourceLine" id="cb36-19" data-line-number="19">        <span class="dt">strip.text =</span> <span class="kw">element_text</span>(<span class="dt">margin =</span> <span class="kw">margin</span>(<span class="dv">5</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">0</span>, <span class="st">&quot;pt&quot;</span>))) <span class="op">+</span></a>
<a class="sourceLine" id="cb36-20" data-line-number="20"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>issue <span class="op">+</span><span class="st"> </span>funding)</a></code></pre></div>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb37-1" data-line-number="1">plot_likely_all &lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb37-2" data-line-number="2"><span class="st">  </span>(plot_likely_c <span class="op">/</span><span class="st"> </span>plot_likely_ci) <span class="op">|</span><span class="st"> </span></a>
<a class="sourceLine" id="cb37-3" data-line-number="3"><span class="st">  </span>plot_likely_cif</a>
<a class="sourceLine" id="cb37-4" data-line-number="4"></a>
<a class="sourceLine" id="cb37-5" data-line-number="5">plot_likely_all <span class="op">+</span></a>
<a class="sourceLine" id="cb37-6" data-line-number="6"><span class="st">  </span><span class="kw">plot_annotation</span>(<span class="dt">title =</span> <span class="st">&quot;Median likelihood of donation in control and crackdown groups,</span><span class="ch">\n</span><span class="st">conditioned by other experimental groups&quot;</span>,</a>
<a class="sourceLine" id="cb37-7" data-line-number="7">                  <span class="dt">subtitle =</span> <span class="st">&quot;90% credible intervals shown around each point&quot;</span>,</a>
<a class="sourceLine" id="cb37-8" data-line-number="8">                  <span class="dt">tag_levels =</span> <span class="st">&quot;A&quot;</span>, <span class="dt">theme =</span> <span class="kw">theme_ngos</span>())</a></code></pre></div>
<p><img src="02_analysis_files/figure-html/plot-all-likely-medians-1.png" width="768" /></p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb38-1" data-line-number="1">(plot_likely_all <span class="op">+</span></a>
<a class="sourceLine" id="cb38-2" data-line-number="2"><span class="st">  </span><span class="kw">plot_annotation</span>(<span class="dt">caption =</span> <span class="st">&quot;90% credible intervals shown around each point&quot;</span>,</a>
<a class="sourceLine" id="cb38-3" data-line-number="3">                  <span class="dt">tag_levels =</span> <span class="st">&quot;A&quot;</span>, <span class="dt">theme =</span> <span class="kw">theme_ngos</span>())) <span class="op">%T&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb38-4" data-line-number="4"><span class="st">  </span><span class="kw">ggsave</span>(., <span class="dt">filename =</span> <span class="kw">file.path</span>(<span class="kw">here</span>(), <span class="st">&quot;output&quot;</span>, <span class="st">&quot;figures&quot;</span>, <span class="st">&quot;likelihood-medians.pdf&quot;</span>),</a>
<a class="sourceLine" id="cb38-5" data-line-number="5">         <span class="dt">width =</span> <span class="dv">8</span>, <span class="dt">height =</span> <span class="fl">4.25</span>, <span class="dt">units =</span> <span class="st">&quot;in&quot;</span>, <span class="dt">device =</span> cairo_pdf) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb38-6" data-line-number="6"><span class="st">  </span><span class="kw">ggsave</span>(., <span class="dt">filename =</span> <span class="kw">file.path</span>(<span class="kw">here</span>(), <span class="st">&quot;output&quot;</span>, <span class="st">&quot;figures&quot;</span>, <span class="st">&quot;likelihood-medians.png&quot;</span>),</a>
<a class="sourceLine" id="cb38-7" data-line-number="7">         <span class="dt">width =</span> <span class="dv">8</span>, <span class="dt">height =</span> <span class="fl">4.25</span>, <span class="dt">units =</span> <span class="st">&quot;in&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;cairo&quot;</span>, <span class="dt">dpi =</span> <span class="dv">300</span>)</a></code></pre></div>
</div>
<div id="differences-in-medians-1" class="section level2">
<h2>Differences in medians</h2>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb39-1" data-line-number="1">diffs_coef_likely_pairs_c &lt;-<span class="st"> </span>chains_fitted_likely_c <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb39-2" data-line-number="2"><span class="st">  </span><span class="kw">as_data_frame</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb39-3" data-line-number="3"><span class="st">  </span>magrittr<span class="op">::</span><span class="kw">set_colnames</span>(<span class="kw">levels</span>(newdata_conditions_c<span class="op">$</span>crackdown)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb39-4" data-line-number="4"><span class="st">  </span><span class="kw">mcmc_pairwise_diffs</span>()</a>
<a class="sourceLine" id="cb39-5" data-line-number="5"></a>
<a class="sourceLine" id="cb39-6" data-line-number="6">diffs_coef_likely_pairs_detail_c &lt;-<span class="st"> </span><span class="kw">tidy_diffs</span>(diffs_coef_likely_pairs_c)</a>
<a class="sourceLine" id="cb39-7" data-line-number="7"></a>
<a class="sourceLine" id="cb39-8" data-line-number="8">pairs_likely_plot_data_c &lt;-<span class="st"> </span>diffs_coef_likely_pairs_c <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb39-9" data-line-number="9"><span class="st">  </span><span class="kw">gather</span>(pair, value) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb39-10" data-line-number="10"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">pair1 =</span> pair) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb39-11" data-line-number="11"><span class="st">  </span><span class="kw">separate</span>(pair1, <span class="dt">into =</span> <span class="kw">c</span>(<span class="st">&quot;group1&quot;</span>, <span class="st">&quot;group2&quot;</span>), <span class="dt">sep =</span> <span class="st">&quot; − &quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb39-12" data-line-number="12"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">pair =</span> <span class="kw">ifelse</span>(<span class="kw">nchar</span>(pair) <span class="op">&gt;</span><span class="st"> </span><span class="dv">25</span>,</a>
<a class="sourceLine" id="cb39-13" data-line-number="13">                       <span class="kw">str_replace</span>(pair, <span class="st">&quot;−&quot;</span>, <span class="st">&quot;−</span><span class="ch">\n</span><span class="st">&quot;</span>),</a>
<a class="sourceLine" id="cb39-14" data-line-number="14">                       pair))</a>
<a class="sourceLine" id="cb39-15" data-line-number="15">  </a>
<a class="sourceLine" id="cb39-16" data-line-number="16">plot_diffs_likely_c &lt;-<span class="st"> </span><span class="kw">ggplot</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb39-17" data-line-number="17"><span class="st">  </span><span class="kw">geom_density</span>(<span class="dt">data =</span> pairs_likely_plot_data_c, <span class="kw">aes</span>(<span class="dt">x =</span> value),</a>
<a class="sourceLine" id="cb39-18" data-line-number="18">               <span class="dt">fill =</span> <span class="kw">ngo_cols</span>(<span class="st">&quot;green&quot;</span>), <span class="dt">colour =</span> <span class="ot">NA</span>, <span class="dt">alpha =</span> <span class="fl">0.4</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb39-19" data-line-number="19"><span class="st">  </span><span class="kw">geom_segment</span>(<span class="dt">data =</span> diffs_coef_likely_pairs_detail_c, </a>
<a class="sourceLine" id="cb39-20" data-line-number="20">               <span class="kw">aes</span>(<span class="dt">x =</span> q5, <span class="dt">xend =</span> q95, <span class="dt">y =</span> <span class="dv">0</span>, <span class="dt">yend =</span> <span class="dv">0</span>),</a>
<a class="sourceLine" id="cb39-21" data-line-number="21">               <span class="dt">size =</span> <span class="dv">3</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb39-22" data-line-number="22"><span class="st">  </span><span class="kw">geom_vline</span>(<span class="dt">data =</span> diffs_coef_likely_pairs_detail_c, </a>
<a class="sourceLine" id="cb39-23" data-line-number="23">             <span class="kw">aes</span>(<span class="dt">xintercept =</span> median), <span class="dt">size =</span> <span class="fl">0.25</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb39-24" data-line-number="24"><span class="st">  </span><span class="kw">geom_vline</span>(<span class="dt">xintercept =</span> <span class="dv">0</span>, <span class="dt">linetype =</span> <span class="st">&quot;dotted&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb39-25" data-line-number="25"><span class="st">  </span><span class="kw">guides</span>(<span class="dt">fill =</span> <span class="ot">FALSE</span>, <span class="dt">color =</span> <span class="ot">FALSE</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb39-26" data-line-number="26"><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">labels =</span> percent) <span class="op">+</span></a>
<a class="sourceLine" id="cb39-27" data-line-number="27"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Difference in medians&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb39-28" data-line-number="28"><span class="st">  </span><span class="kw">theme_ngos</span>(<span class="dt">density =</span> <span class="ot">TRUE</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb39-29" data-line-number="29"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>pair)</a></code></pre></div>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb40-1" data-line-number="1">diffs_coef_likely_pairs_i &lt;-<span class="st"> </span>chains_fitted_likely_i <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb40-2" data-line-number="2"><span class="st">  </span><span class="kw">as_data_frame</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb40-3" data-line-number="3"><span class="st">  </span>magrittr<span class="op">::</span><span class="kw">set_colnames</span>(<span class="kw">levels</span>(newdata_conditions_i<span class="op">$</span>issue)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb40-4" data-line-number="4"><span class="st">  </span><span class="kw">mcmc_pairwise_diffs</span>()</a>
<a class="sourceLine" id="cb40-5" data-line-number="5"></a>
<a class="sourceLine" id="cb40-6" data-line-number="6">diffs_coef_likely_pairs_detail_i &lt;-<span class="st"> </span><span class="kw">tidy_diffs</span>(diffs_coef_likely_pairs_i)</a>
<a class="sourceLine" id="cb40-7" data-line-number="7"></a>
<a class="sourceLine" id="cb40-8" data-line-number="8">pairs_likely_plot_data_i &lt;-<span class="st"> </span>diffs_coef_likely_pairs_i <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb40-9" data-line-number="9"><span class="st">  </span><span class="kw">gather</span>(pair, value) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb40-10" data-line-number="10"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">pair1 =</span> pair) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb40-11" data-line-number="11"><span class="st">  </span><span class="kw">separate</span>(pair1, <span class="dt">into =</span> <span class="kw">c</span>(<span class="st">&quot;group1&quot;</span>, <span class="st">&quot;group2&quot;</span>), <span class="dt">sep =</span> <span class="st">&quot; − &quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb40-12" data-line-number="12"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">pair =</span> <span class="kw">ifelse</span>(<span class="kw">nchar</span>(pair) <span class="op">&gt;</span><span class="st"> </span><span class="dv">25</span>,</a>
<a class="sourceLine" id="cb40-13" data-line-number="13">                       <span class="kw">str_replace</span>(pair, <span class="st">&quot;−&quot;</span>, <span class="st">&quot;−</span><span class="ch">\n</span><span class="st">&quot;</span>),</a>
<a class="sourceLine" id="cb40-14" data-line-number="14">                       pair))</a></code></pre></div>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb41-1" data-line-number="1">diffs_coef_likely_pairs_f &lt;-<span class="st"> </span>chains_fitted_likely_f <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb41-2" data-line-number="2"><span class="st">  </span><span class="kw">as_data_frame</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb41-3" data-line-number="3"><span class="st">  </span>magrittr<span class="op">::</span><span class="kw">set_colnames</span>(<span class="kw">levels</span>(newdata_conditions_f<span class="op">$</span>funding)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb41-4" data-line-number="4"><span class="st">  </span><span class="kw">mcmc_pairwise_diffs</span>()</a>
<a class="sourceLine" id="cb41-5" data-line-number="5"></a>
<a class="sourceLine" id="cb41-6" data-line-number="6">diffs_coef_likely_pairs_detail_f &lt;-<span class="st"> </span><span class="kw">tidy_diffs</span>(diffs_coef_likely_pairs_f)</a>
<a class="sourceLine" id="cb41-7" data-line-number="7"></a>
<a class="sourceLine" id="cb41-8" data-line-number="8">pairs_likely_plot_data_f &lt;-<span class="st"> </span>diffs_coef_likely_pairs_f <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb41-9" data-line-number="9"><span class="st">  </span><span class="kw">gather</span>(pair, value) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb41-10" data-line-number="10"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">pair1 =</span> pair) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb41-11" data-line-number="11"><span class="st">  </span><span class="kw">separate</span>(pair1, <span class="dt">into =</span> <span class="kw">c</span>(<span class="st">&quot;group1&quot;</span>, <span class="st">&quot;group2&quot;</span>), <span class="dt">sep =</span> <span class="st">&quot; − &quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb41-12" data-line-number="12"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">pair =</span> <span class="kw">ifelse</span>(<span class="kw">nchar</span>(pair) <span class="op">&gt;</span><span class="st"> </span><span class="dv">25</span>,</a>
<a class="sourceLine" id="cb41-13" data-line-number="13">                       <span class="kw">str_replace</span>(pair, <span class="st">&quot;−&quot;</span>, <span class="st">&quot;−</span><span class="ch">\n</span><span class="st">&quot;</span>),</a>
<a class="sourceLine" id="cb41-14" data-line-number="14">                       pair))</a></code></pre></div>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb42-1" data-line-number="1"><span class="co"># Nest each fitted chain into a single row that corresponds to each newdata_condition</span></a>
<a class="sourceLine" id="cb42-2" data-line-number="2">chains_nested_likely_ci &lt;-<span class="st"> </span>chains_fitted_likely_ci <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb42-3" data-line-number="3"><span class="st">  </span><span class="kw">as_data_frame</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb42-4" data-line-number="4"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">id =</span> <span class="dv">1</span><span class="op">:</span><span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb42-5" data-line-number="5"><span class="st">  </span><span class="kw">gather</span>(condition, value, <span class="op">-</span>id) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb42-6" data-line-number="6"><span class="st">  </span><span class="kw">group_by</span>(condition) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb42-7" data-line-number="7"><span class="st">  </span><span class="kw">nest</span>()</a>
<a class="sourceLine" id="cb42-8" data-line-number="8"></a>
<a class="sourceLine" id="cb42-9" data-line-number="9"><span class="co"># Add the fitted chains to the conditions, spread the main crackdown condition</span></a>
<a class="sourceLine" id="cb42-10" data-line-number="10"><span class="co"># into two columns, then nest everything by issue</span></a>
<a class="sourceLine" id="cb42-11" data-line-number="11">all_chains_likely_ci &lt;-<span class="st"> </span><span class="kw">bind_cols</span>(newdata_conditions_ci, </a>
<a class="sourceLine" id="cb42-12" data-line-number="12">                                  chains_nested_likely_ci) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb42-13" data-line-number="13"><span class="st">  </span><span class="kw">unnest</span>(data) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb42-14" data-line-number="14"><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>condition) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb42-15" data-line-number="15"><span class="st">  </span><span class="kw">group_by</span>(issue) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb42-16" data-line-number="16"><span class="st">  </span><span class="kw">spread</span>(crackdown, value) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb42-17" data-line-number="17"><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>id) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb42-18" data-line-number="18"><span class="st">  </span><span class="kw">nest</span>()</a>
<a class="sourceLine" id="cb42-19" data-line-number="19"></a>
<a class="sourceLine" id="cb42-20" data-line-number="20"><span class="co"># All the pairwise differences in a single data frame, grouped by issue</span></a>
<a class="sourceLine" id="cb42-21" data-line-number="21">pairs_likely_conditions_ci &lt;-<span class="st"> </span>all_chains_likely_ci <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb42-22" data-line-number="22"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">diffs_coef_pairs =</span> data <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">map</span>(<span class="op">~</span><span class="st"> </span><span class="kw">mcmc_pairwise_diffs</span>(.)),</a>
<a class="sourceLine" id="cb42-23" data-line-number="23">         <span class="dt">diffs_coef_pairs_detail =</span> diffs_coef_pairs <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">map</span>(<span class="op">~</span><span class="st"> </span><span class="kw">tidy_diffs</span>(.)))</a>
<a class="sourceLine" id="cb42-24" data-line-number="24"></a>
<a class="sourceLine" id="cb42-25" data-line-number="25"><span class="co"># Extract coefficient details and plot data</span></a>
<a class="sourceLine" id="cb42-26" data-line-number="26">diffs_coef_likely_pairs_detail_ci &lt;-<span class="st"> </span>pairs_likely_conditions_ci <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb42-27" data-line-number="27"><span class="st">  </span><span class="kw">unnest</span>(diffs_coef_pairs_detail) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb42-28" data-line-number="28"><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>data, <span class="op">-</span>diffs_coef_pairs)</a>
<a class="sourceLine" id="cb42-29" data-line-number="29"></a>
<a class="sourceLine" id="cb42-30" data-line-number="30">pairs_likely_plot_data_ci &lt;-<span class="st"> </span>pairs_likely_conditions_ci <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb42-31" data-line-number="31"><span class="st">  </span><span class="kw">select</span>(issue, diffs_coef_pairs) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb42-32" data-line-number="32"><span class="st">  </span><span class="kw">unnest</span>(diffs_coef_pairs) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb42-33" data-line-number="33"><span class="st">  </span><span class="kw">gather</span>(pair, value, <span class="op">-</span>issue) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb42-34" data-line-number="34"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">pair1 =</span> pair) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb42-35" data-line-number="35"><span class="st">  </span><span class="kw">separate</span>(pair1, <span class="dt">into =</span> <span class="kw">c</span>(<span class="st">&quot;group1&quot;</span>, <span class="st">&quot;group2&quot;</span>), <span class="dt">sep =</span> <span class="st">&quot; − &quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb42-36" data-line-number="36"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">pair =</span> <span class="kw">ifelse</span>(<span class="kw">nchar</span>(pair) <span class="op">&gt;</span><span class="st"> </span><span class="dv">25</span>,</a>
<a class="sourceLine" id="cb42-37" data-line-number="37">                       <span class="kw">str_replace</span>(pair, <span class="st">&quot;−&quot;</span>, <span class="st">&quot;−</span><span class="ch">\n</span><span class="st">&quot;</span>),</a>
<a class="sourceLine" id="cb42-38" data-line-number="38">                       pair))</a>
<a class="sourceLine" id="cb42-39" data-line-number="39"></a>
<a class="sourceLine" id="cb42-40" data-line-number="40">plot_diffs_likely_ci &lt;-<span class="st"> </span><span class="kw">ggplot</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb42-41" data-line-number="41"><span class="st">  </span><span class="kw">geom_density</span>(<span class="dt">data =</span> pairs_likely_plot_data_ci, <span class="kw">aes</span>(<span class="dt">x =</span> value),</a>
<a class="sourceLine" id="cb42-42" data-line-number="42">               <span class="dt">fill =</span> <span class="kw">ngo_cols</span>(<span class="st">&quot;blue&quot;</span>), <span class="dt">colour =</span> <span class="ot">NA</span>, <span class="dt">alpha =</span> <span class="fl">0.4</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb42-43" data-line-number="43"><span class="st">  </span><span class="kw">geom_segment</span>(<span class="dt">data =</span> diffs_coef_likely_pairs_detail_ci, </a>
<a class="sourceLine" id="cb42-44" data-line-number="44">               <span class="kw">aes</span>(<span class="dt">x =</span> q5, <span class="dt">xend =</span> q95, <span class="dt">y =</span> <span class="dv">0</span>, <span class="dt">yend =</span> <span class="dv">0</span>),</a>
<a class="sourceLine" id="cb42-45" data-line-number="45">               <span class="dt">size =</span> <span class="dv">3</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb42-46" data-line-number="46"><span class="st">  </span><span class="kw">geom_vline</span>(<span class="dt">data =</span> diffs_coef_likely_pairs_detail_ci, </a>
<a class="sourceLine" id="cb42-47" data-line-number="47">             <span class="kw">aes</span>(<span class="dt">xintercept =</span> median), <span class="dt">size =</span> <span class="fl">0.25</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb42-48" data-line-number="48"><span class="st">  </span><span class="kw">geom_vline</span>(<span class="dt">xintercept =</span> <span class="dv">0</span>, <span class="dt">linetype =</span> <span class="st">&quot;dotted&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb42-49" data-line-number="49"><span class="st">  </span><span class="kw">guides</span>(<span class="dt">fill =</span> <span class="ot">FALSE</span>, <span class="dt">color =</span> <span class="ot">FALSE</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb42-50" data-line-number="50"><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">labels =</span> percent) <span class="op">+</span></a>
<a class="sourceLine" id="cb42-51" data-line-number="51"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Difference in medians&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb42-52" data-line-number="52"><span class="st">  </span><span class="kw">theme_ngos</span>(<span class="dt">density =</span> <span class="ot">TRUE</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb42-53" data-line-number="53"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>issue <span class="op">+</span><span class="st"> </span>pair)</a></code></pre></div>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb43-1" data-line-number="1"><span class="co"># Nest each fitted chain into a single row that corresponds to each newdata_condition</span></a>
<a class="sourceLine" id="cb43-2" data-line-number="2">chains_nested_likely_cif &lt;-<span class="st"> </span>chains_fitted_likely_cif <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb43-3" data-line-number="3"><span class="st">  </span><span class="kw">as_data_frame</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb43-4" data-line-number="4"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">id =</span> <span class="dv">1</span><span class="op">:</span><span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb43-5" data-line-number="5"><span class="st">  </span><span class="kw">gather</span>(condition, value, <span class="op">-</span>id) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb43-6" data-line-number="6"><span class="st">  </span><span class="kw">group_by</span>(condition) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb43-7" data-line-number="7"><span class="st">  </span><span class="kw">nest</span>()</a>
<a class="sourceLine" id="cb43-8" data-line-number="8"></a>
<a class="sourceLine" id="cb43-9" data-line-number="9"><span class="co"># Add the fitted chains to the conditions, spread the main crackdown condition</span></a>
<a class="sourceLine" id="cb43-10" data-line-number="10"><span class="co"># into two columns, then nest everything by issue</span></a>
<a class="sourceLine" id="cb43-11" data-line-number="11">all_chains_likely_cif &lt;-<span class="st"> </span><span class="kw">bind_cols</span>(newdata_conditions_cif, </a>
<a class="sourceLine" id="cb43-12" data-line-number="12">                                   chains_nested_likely_cif) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb43-13" data-line-number="13"><span class="st">  </span><span class="kw">unnest</span>(data) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb43-14" data-line-number="14"><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>condition) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb43-15" data-line-number="15"><span class="st">  </span><span class="kw">group_by</span>(issue, funding) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb43-16" data-line-number="16"><span class="st">  </span><span class="kw">spread</span>(crackdown, value) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb43-17" data-line-number="17"><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>id) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb43-18" data-line-number="18"><span class="st">  </span><span class="kw">nest</span>()</a>
<a class="sourceLine" id="cb43-19" data-line-number="19"></a>
<a class="sourceLine" id="cb43-20" data-line-number="20"><span class="co"># All the pairwise differences in a single data frame, grouped by issue</span></a>
<a class="sourceLine" id="cb43-21" data-line-number="21">pairs_likely_conditions_cif &lt;-<span class="st"> </span>all_chains_likely_cif <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb43-22" data-line-number="22"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">diffs_coef_pairs =</span> data <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">map</span>(<span class="op">~</span><span class="st"> </span><span class="kw">mcmc_pairwise_diffs</span>(.)),</a>
<a class="sourceLine" id="cb43-23" data-line-number="23">         <span class="dt">diffs_coef_pairs_detail =</span> diffs_coef_pairs <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">map</span>(<span class="op">~</span><span class="st"> </span><span class="kw">tidy_diffs</span>(.)))</a>
<a class="sourceLine" id="cb43-24" data-line-number="24"></a>
<a class="sourceLine" id="cb43-25" data-line-number="25"><span class="co"># Extract coefficient details and plot data</span></a>
<a class="sourceLine" id="cb43-26" data-line-number="26">diffs_coef_likely_pairs_detail_cif &lt;-<span class="st"> </span>pairs_likely_conditions_cif <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb43-27" data-line-number="27"><span class="st">  </span><span class="kw">unnest</span>(diffs_coef_pairs_detail) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb43-28" data-line-number="28"><span class="st">  </span><span class="kw">select</span>(<span class="op">-</span>data, <span class="op">-</span>diffs_coef_pairs)</a>
<a class="sourceLine" id="cb43-29" data-line-number="29"></a>
<a class="sourceLine" id="cb43-30" data-line-number="30">pairs_likely_plot_data_cif &lt;-<span class="st"> </span>pairs_likely_conditions_cif <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb43-31" data-line-number="31"><span class="st">  </span><span class="kw">select</span>(issue, funding, diffs_coef_pairs) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb43-32" data-line-number="32"><span class="st">  </span><span class="kw">unnest</span>(diffs_coef_pairs) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb43-33" data-line-number="33"><span class="st">  </span><span class="kw">gather</span>(pair, value, <span class="op">-</span>issue, <span class="op">-</span>funding) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb43-34" data-line-number="34"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">pair1 =</span> pair) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb43-35" data-line-number="35"><span class="st">  </span><span class="kw">separate</span>(pair1, <span class="dt">into =</span> <span class="kw">c</span>(<span class="st">&quot;group1&quot;</span>, <span class="st">&quot;group2&quot;</span>), <span class="dt">sep =</span> <span class="st">&quot; − &quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb43-36" data-line-number="36"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">pair =</span> <span class="kw">ifelse</span>(<span class="kw">nchar</span>(pair) <span class="op">&gt;</span><span class="st"> </span><span class="dv">25</span>,</a>
<a class="sourceLine" id="cb43-37" data-line-number="37">                       <span class="kw">str_replace</span>(pair, <span class="st">&quot;−&quot;</span>, <span class="st">&quot;−</span><span class="ch">\n</span><span class="st">&quot;</span>),</a>
<a class="sourceLine" id="cb43-38" data-line-number="38">                       pair))</a>
<a class="sourceLine" id="cb43-39" data-line-number="39"></a>
<a class="sourceLine" id="cb43-40" data-line-number="40">plot_diffs_likely_cif &lt;-<span class="st"> </span><span class="kw">ggplot</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb43-41" data-line-number="41"><span class="st">  </span><span class="kw">geom_density</span>(<span class="dt">data =</span> pairs_likely_plot_data_cif, <span class="kw">aes</span>(<span class="dt">x =</span> value),</a>
<a class="sourceLine" id="cb43-42" data-line-number="42">               <span class="dt">fill =</span> <span class="kw">ngo_cols</span>(<span class="st">&quot;red&quot;</span>), <span class="dt">colour =</span> <span class="ot">NA</span>, <span class="dt">alpha =</span> <span class="fl">0.4</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb43-43" data-line-number="43"><span class="st">  </span><span class="kw">geom_segment</span>(<span class="dt">data =</span> diffs_coef_likely_pairs_detail_cif, </a>
<a class="sourceLine" id="cb43-44" data-line-number="44">               <span class="kw">aes</span>(<span class="dt">x =</span> q5, <span class="dt">xend =</span> q95, <span class="dt">y =</span> <span class="dv">0</span>, <span class="dt">yend =</span> <span class="dv">0</span>),</a>
<a class="sourceLine" id="cb43-45" data-line-number="45">               <span class="dt">size =</span> <span class="dv">3</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb43-46" data-line-number="46"><span class="st">  </span><span class="kw">geom_vline</span>(<span class="dt">data =</span> diffs_coef_likely_pairs_detail_cif, </a>
<a class="sourceLine" id="cb43-47" data-line-number="47">             <span class="kw">aes</span>(<span class="dt">xintercept =</span> median), <span class="dt">size =</span> <span class="fl">0.25</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb43-48" data-line-number="48"><span class="st">  </span><span class="kw">geom_vline</span>(<span class="dt">xintercept =</span> <span class="dv">0</span>, <span class="dt">linetype =</span> <span class="st">&quot;dotted&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb43-49" data-line-number="49"><span class="st">  </span><span class="kw">guides</span>(<span class="dt">fill =</span> <span class="ot">FALSE</span>, <span class="dt">color =</span> <span class="ot">FALSE</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb43-50" data-line-number="50"><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">labels =</span> percent) <span class="op">+</span></a>
<a class="sourceLine" id="cb43-51" data-line-number="51"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Difference in medians&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb43-52" data-line-number="52"><span class="st">  </span><span class="kw">theme_ngos</span>(<span class="dt">density =</span> <span class="ot">TRUE</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb43-53" data-line-number="53"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>issue <span class="op">+</span><span class="st"> </span>funding <span class="op">+</span><span class="st"> </span>pair)</a></code></pre></div>
<p><strong>Compare only individual conditions:</strong></p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb44-1" data-line-number="1">diffs_likely_plot_data_singles &lt;-<span class="st"> </span><span class="kw">bind_rows</span>(pairs_likely_plot_data_c,</a>
<a class="sourceLine" id="cb44-2" data-line-number="2">                                            pairs_likely_plot_data_i,</a>
<a class="sourceLine" id="cb44-3" data-line-number="3">                                            pairs_likely_plot_data_f) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb44-4" data-line-number="4"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">pair =</span> <span class="kw">fct_inorder</span>(pair, <span class="dt">ordered =</span> <span class="ot">TRUE</span>))</a>
<a class="sourceLine" id="cb44-5" data-line-number="5"></a>
<a class="sourceLine" id="cb44-6" data-line-number="6">diffs_coef_likely_pairs_detail_singles &lt;-<span class="st"> </span><span class="kw">bind_rows</span>(diffs_coef_likely_pairs_detail_c,</a>
<a class="sourceLine" id="cb44-7" data-line-number="7">                                                    diffs_coef_likely_pairs_detail_i,</a>
<a class="sourceLine" id="cb44-8" data-line-number="8">                                                    diffs_coef_likely_pairs_detail_f) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb44-9" data-line-number="9"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">pair =</span> <span class="kw">ifelse</span>(<span class="kw">nchar</span>(pair) <span class="op">&gt;</span><span class="st"> </span><span class="dv">25</span>,</a>
<a class="sourceLine" id="cb44-10" data-line-number="10">                       <span class="kw">str_replace</span>(pair, <span class="st">&quot;−&quot;</span>, <span class="st">&quot;−</span><span class="ch">\n</span><span class="st">&quot;</span>),</a>
<a class="sourceLine" id="cb44-11" data-line-number="11">                       pair),</a>
<a class="sourceLine" id="cb44-12" data-line-number="12">         <span class="dt">pair =</span> <span class="kw">fct_inorder</span>(pair, <span class="dt">ordered =</span> <span class="ot">TRUE</span>))</a>
<a class="sourceLine" id="cb44-13" data-line-number="13"></a>
<a class="sourceLine" id="cb44-14" data-line-number="14">plot_diffs_likely_singles &lt;-<span class="st"> </span><span class="kw">ggplot</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb44-15" data-line-number="15"><span class="st">  </span><span class="kw">geom_density</span>(<span class="dt">data =</span> diffs_likely_plot_data_singles, </a>
<a class="sourceLine" id="cb44-16" data-line-number="16">               <span class="kw">aes</span>(<span class="dt">x =</span> value, <span class="dt">fill =</span> pair),</a>
<a class="sourceLine" id="cb44-17" data-line-number="17">               <span class="dt">colour =</span> <span class="ot">NA</span>, <span class="dt">alpha =</span> <span class="fl">0.4</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb44-18" data-line-number="18"><span class="st">  </span><span class="kw">geom_segment</span>(<span class="dt">data =</span> diffs_coef_likely_pairs_detail_singles, </a>
<a class="sourceLine" id="cb44-19" data-line-number="19">               <span class="kw">aes</span>(<span class="dt">x =</span> q5, <span class="dt">xend =</span> q95, <span class="dt">y =</span> <span class="dv">0</span>, <span class="dt">yend =</span> <span class="dv">0</span>, <span class="dt">group =</span> pair),</a>
<a class="sourceLine" id="cb44-20" data-line-number="20">               <span class="dt">size =</span> <span class="dv">3</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb44-21" data-line-number="21"><span class="st">  </span><span class="kw">geom_vline</span>(<span class="dt">data =</span> diffs_coef_likely_pairs_detail_singles, </a>
<a class="sourceLine" id="cb44-22" data-line-number="22">             <span class="kw">aes</span>(<span class="dt">xintercept =</span> median), <span class="dt">size =</span> <span class="fl">0.25</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb44-23" data-line-number="23"><span class="st">  </span><span class="kw">geom_vline</span>(<span class="dt">xintercept =</span> <span class="dv">0</span>, <span class="dt">linetype =</span> <span class="st">&quot;dotted&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb44-24" data-line-number="24"><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">labels =</span> percent) <span class="op">+</span></a>
<a class="sourceLine" id="cb44-25" data-line-number="25"><span class="st">  </span><span class="kw">scale_fill_manual</span>(<span class="dt">values =</span> <span class="kw">ngo_cols</span>(<span class="st">&quot;green&quot;</span>, <span class="st">&quot;blue&quot;</span>, <span class="st">&quot;red&quot;</span>, <span class="dt">name =</span> <span class="ot">FALSE</span>), <span class="dt">guide =</span> <span class="ot">FALSE</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb44-26" data-line-number="26"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Difference in medians&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb44-27" data-line-number="27"><span class="st">  </span><span class="kw">theme_ngos</span>(<span class="dt">density =</span> <span class="ot">TRUE</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb44-28" data-line-number="28"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>pair)</a>
<a class="sourceLine" id="cb44-29" data-line-number="29"></a>
<a class="sourceLine" id="cb44-30" data-line-number="30">plot_diffs_likely_singles <span class="op">%T&gt;%</span></a>
<a class="sourceLine" id="cb44-31" data-line-number="31"><span class="st">  </span><span class="kw">print</span>() <span class="op">%T&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb44-32" data-line-number="32"><span class="st">  </span><span class="kw">ggsave</span>(., <span class="dt">filename =</span> <span class="kw">file.path</span>(<span class="kw">here</span>(), <span class="st">&quot;output&quot;</span>, <span class="st">&quot;figures&quot;</span>, <span class="st">&quot;likelihood-singles-diffs.pdf&quot;</span>),</a>
<a class="sourceLine" id="cb44-33" data-line-number="33">         <span class="dt">width =</span> <span class="dv">7</span>, <span class="dt">height =</span> <span class="fl">2.5</span>, <span class="dt">units =</span> <span class="st">&quot;in&quot;</span>, <span class="dt">device =</span> cairo_pdf) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb44-34" data-line-number="34"><span class="st">  </span><span class="kw">ggsave</span>(., <span class="dt">filename =</span> <span class="kw">file.path</span>(<span class="kw">here</span>(), <span class="st">&quot;output&quot;</span>, <span class="st">&quot;figures&quot;</span>, <span class="st">&quot;likelihood-singles-diffs.png&quot;</span>),</a>
<a class="sourceLine" id="cb44-35" data-line-number="35">         <span class="dt">width =</span> <span class="dv">7</span>, <span class="dt">height =</span> <span class="fl">2.5</span>, <span class="dt">units =</span> <span class="st">&quot;in&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;cairo&quot;</span>, <span class="dt">dpi =</span> <span class="dv">300</span>)</a></code></pre></div>
<p><img src="02_analysis_files/figure-html/plot-single-likely-diffs-1.png" width="672" /></p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb45-1" data-line-number="1"><span class="kw">bind_rows</span>(diffs_coef_likely_pairs_detail_c,</a>
<a class="sourceLine" id="cb45-2" data-line-number="2">          diffs_coef_likely_pairs_detail_i,</a>
<a class="sourceLine" id="cb45-3" data-line-number="3">          diffs_coef_likely_pairs_detail_f) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb45-4" data-line-number="4"><span class="st">  </span><span class="kw">select</span>(<span class="st">`</span><span class="dt">Frame</span><span class="st">`</span> =<span class="st"> </span>pair, <span class="st">`</span><span class="dt">∆~median~</span><span class="st">`</span> =<span class="st"> </span>median, </a>
<a class="sourceLine" id="cb45-5" data-line-number="5">         <span class="st">`</span><span class="dt">p(∆ &gt; 0)</span><span class="st">`</span> =<span class="st"> </span>p.greater0, <span class="st">`</span><span class="dt">p(∆ &lt; 0)</span><span class="st">`</span> =<span class="st"> </span>p.less0, <span class="st">`</span><span class="dt">p(∆ ≠ 0)</span><span class="st">`</span> =<span class="st"> </span>p.diff.not0) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb45-6" data-line-number="6"><span class="st">  </span><span class="kw">pandoc.table.return</span>(<span class="dt">missing =</span> <span class="st">&quot;—&quot;</span>, </a>
<a class="sourceLine" id="cb45-7" data-line-number="7">                      <span class="dt">caption =</span> <span class="st">&quot;Median difference between likelihood to donate across single conditions&quot;</span>) <span class="op">%T&gt;%</span></a>
<a class="sourceLine" id="cb45-8" data-line-number="8"><span class="st">  </span><span class="kw">cat</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb45-9" data-line-number="9"><span class="st">  </span><span class="kw">cat</span>(<span class="dt">file =</span> <span class="kw">file.path</span>(<span class="kw">here</span>(), <span class="st">&quot;output&quot;</span>, <span class="st">&quot;tables&quot;</span>, <span class="st">&quot;tbl-likelihood-single-diffs.md&quot;</span>))</a></code></pre></div>
<table>
<caption>Median difference between likelihood to donate across single conditions</caption>
<colgroup>
<col width="47%" />
<col width="13%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Frame</th>
<th align="left">∆<sub>median</sub></th>
<th align="left">p(∆ &gt; 0)</th>
<th align="left">p(∆ &lt; 0)</th>
<th align="left">p(∆ ≠ 0)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">No crackdown − Crackdown</td>
<td align="left">-0.034</td>
<td align="left">0.206</td>
<td align="left">0.794</td>
<td align="left">0.794</td>
</tr>
<tr class="even">
<td align="left">Human rights − Humanitarian assistance</td>
<td align="left">-0.021</td>
<td align="left">0.306</td>
<td align="left">0.694</td>
<td align="left">0.694</td>
</tr>
<tr class="odd">
<td align="left">Government − Private</td>
<td align="left">-0.038</td>
<td align="left">0.2</td>
<td align="left">0.8</td>
<td align="left">0.8</td>
</tr>
</tbody>
</table>
<p><br />
</p>
<p><strong>Compare nested conditions (what we’re really most concerned about):</strong></p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb46-1" data-line-number="1">plot_diffs_likely_all &lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb46-2" data-line-number="2"><span class="st">  </span>(plot_diffs_likely_c <span class="op">/</span><span class="st"> </span>plot_diffs_likely_ci) <span class="op">|</span><span class="st"> </span></a>
<a class="sourceLine" id="cb46-3" data-line-number="3"><span class="st">  </span>plot_diffs_likely_cif</a>
<a class="sourceLine" id="cb46-4" data-line-number="4"></a>
<a class="sourceLine" id="cb46-5" data-line-number="5">plot_diffs_likely_all <span class="op">+</span></a>
<a class="sourceLine" id="cb46-6" data-line-number="6"><span class="st">  </span><span class="kw">plot_annotation</span>(<span class="dt">title =</span> <span class="st">&quot;Differences in donation likelihood in control and crackdown groups,</span><span class="ch">\n</span><span class="st">conditioned by other experimental groups&quot;</span>,</a>
<a class="sourceLine" id="cb46-7" data-line-number="7">                  <span class="dt">subtitle =</span> <span class="st">&quot;90% credible intervals shown in black. Solid vertical line = median; dotted vertical line = 0&quot;</span>,</a>
<a class="sourceLine" id="cb46-8" data-line-number="8">                  <span class="dt">tag_levels =</span> <span class="st">&quot;A&quot;</span>, <span class="dt">theme =</span> <span class="kw">theme_ngos</span>())</a></code></pre></div>
<p><img src="02_analysis_files/figure-html/plot-all-likely-diffs-1.png" width="768" /></p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb47-1" data-line-number="1">(plot_diffs_likely_all <span class="op">+</span></a>
<a class="sourceLine" id="cb47-2" data-line-number="2"><span class="st">  </span><span class="kw">plot_annotation</span>(<span class="dt">caption =</span> <span class="st">&quot;90% credible intervals shown in black. Solid vertical line = median; dotted vertical line = 0&quot;</span>,</a>
<a class="sourceLine" id="cb47-3" data-line-number="3">                  <span class="dt">tag_levels =</span> <span class="st">&quot;A&quot;</span>, <span class="dt">theme =</span> <span class="kw">theme_ngos</span>())) <span class="op">%T&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb47-4" data-line-number="4"><span class="st">  </span><span class="kw">ggsave</span>(., <span class="dt">filename =</span> <span class="kw">file.path</span>(<span class="kw">here</span>(), <span class="st">&quot;output&quot;</span>, <span class="st">&quot;figures&quot;</span>, <span class="st">&quot;likelihood-diffs.pdf&quot;</span>),</a>
<a class="sourceLine" id="cb47-5" data-line-number="5">         <span class="dt">width =</span> <span class="dv">8</span>, <span class="dt">height =</span> <span class="dv">5</span>, <span class="dt">units =</span> <span class="st">&quot;in&quot;</span>, <span class="dt">device =</span> cairo_pdf) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb47-6" data-line-number="6"><span class="st">  </span><span class="kw">ggsave</span>(., <span class="dt">filename =</span> <span class="kw">file.path</span>(<span class="kw">here</span>(), <span class="st">&quot;output&quot;</span>, <span class="st">&quot;figures&quot;</span>, <span class="st">&quot;likelihood-diffs.png&quot;</span>),</a>
<a class="sourceLine" id="cb47-7" data-line-number="7">         <span class="dt">width =</span> <span class="dv">8</span>, <span class="dt">height =</span> <span class="dv">5</span>, <span class="dt">units =</span> <span class="st">&quot;in&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;cairo&quot;</span>, <span class="dt">dpi =</span> <span class="dv">300</span>)</a></code></pre></div>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb48-1" data-line-number="1"><span class="kw">bind_rows</span>(diffs_coef_likely_pairs_detail_c,</a>
<a class="sourceLine" id="cb48-2" data-line-number="2">          diffs_coef_likely_pairs_detail_ci,</a>
<a class="sourceLine" id="cb48-3" data-line-number="3">          diffs_coef_likely_pairs_detail_cif) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb48-4" data-line-number="4"><span class="st">  </span><span class="kw">select</span>(<span class="dt">Issue =</span> issue, <span class="dt">Funding =</span> funding, </a>
<a class="sourceLine" id="cb48-5" data-line-number="5">         <span class="st">`</span><span class="dt">No crackdown − crackdown~median~</span><span class="st">`</span> =<span class="st"> </span>median, </a>
<a class="sourceLine" id="cb48-6" data-line-number="6">         <span class="st">`</span><span class="dt">p(∆ &gt; 0)</span><span class="st">`</span> =<span class="st"> </span>p.greater0, <span class="st">`</span><span class="dt">p(∆ &lt; 0)</span><span class="st">`</span> =<span class="st"> </span>p.less0, <span class="st">`</span><span class="dt">p(∆ ≠ 0)</span><span class="st">`</span> =<span class="st"> </span>p.diff.not0) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb48-7" data-line-number="7"><span class="st">  </span><span class="kw">pandoc.table.return</span>(<span class="dt">missing =</span> <span class="st">&quot;—&quot;</span>, </a>
<a class="sourceLine" id="cb48-8" data-line-number="8">                      <span class="dt">caption =</span> <span class="st">&#39;Median difference between likelihood to donate in &quot;no crackdown&quot; (control) and &quot;crackdown&quot; conditions&#39;</span>) <span class="op">%T&gt;%</span></a>
<a class="sourceLine" id="cb48-9" data-line-number="9"><span class="st">  </span><span class="kw">cat</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb48-10" data-line-number="10"><span class="st">  </span><span class="kw">cat</span>(<span class="dt">file =</span> <span class="kw">file.path</span>(<span class="kw">here</span>(), <span class="st">&quot;output&quot;</span>, <span class="st">&quot;tables&quot;</span>, <span class="st">&quot;tbl-likelihood-diffs.md&quot;</span>))</a></code></pre></div>
<table>
<caption>Median difference between likelihood to donate in “no crackdown” (control) and “crackdown” conditions</caption>
<colgroup>
<col width="24%" />
<col width="12%" />
<col width="32%" />
<col width="10%" />
<col width="10%" />
<col width="10%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Issue</th>
<th align="left">Funding</th>
<th align="left">No crackdown − crackdown<sub>median</sub></th>
<th align="left">p(∆ &gt; 0)</th>
<th align="left">p(∆ &lt; 0)</th>
<th align="left">p(∆ ≠ 0)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">—</td>
<td align="left">—</td>
<td align="left">-0.034</td>
<td align="left">0.206</td>
<td align="left">0.794</td>
<td align="left">0.794</td>
</tr>
<tr class="even">
<td align="left">Human rights</td>
<td align="left">—</td>
<td align="left">-0.005</td>
<td align="left">0.464</td>
<td align="left">0.536</td>
<td align="left">0.536</td>
</tr>
<tr class="odd">
<td align="left">Humanitarian assistance</td>
<td align="left">—</td>
<td align="left">-0.063</td>
<td align="left">0.143</td>
<td align="left">0.857</td>
<td align="left">0.857</td>
</tr>
<tr class="even">
<td align="left">Human rights</td>
<td align="left">Government</td>
<td align="left">0.158</td>
<td align="left">0.975</td>
<td align="left">0.025</td>
<td align="left">0.975</td>
</tr>
<tr class="odd">
<td align="left">Human rights</td>
<td align="left">Private</td>
<td align="left">-0.176</td>
<td align="left">0.018</td>
<td align="left">0.982</td>
<td align="left">0.982</td>
</tr>
<tr class="even">
<td align="left">Humanitarian assistance</td>
<td align="left">Government</td>
<td align="left">-0.052</td>
<td align="left">0.257</td>
<td align="left">0.743</td>
<td align="left">0.743</td>
</tr>
<tr class="odd">
<td align="left">Humanitarian assistance</td>
<td align="left">Private</td>
<td align="left">-0.064</td>
<td align="left">0.229</td>
<td align="left">0.771</td>
<td align="left">0.771</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="rmd-source-code">LS0tCnRpdGxlOiAiUmVzdWx0cyIKYXV0aG9yOiAiQW5kcmV3IEhlaXNzIGFuZCBTdXBhcm5hIENoYXVkaHJ5IgpkYXRlOiAiTGFzdCBydW46IGByIGZvcm1hdChTeXMudGltZSgpLCAnJUIgJWUsICVZJylgIgpvdXRwdXQ6IAogIGh0bWxfZG9jdW1lbnQ6CiAgICBjb2RlX2ZvbGRpbmc6IGhpZGUKICAgIHBhbmRvY19hcmdzOiBbCiAgICAgICItLWRlZmF1bHQtaW1hZ2UtZXh0ZW5zaW9uPXBuZyIKICAgIF0KZWRpdG9yX29wdGlvbnM6IAogIGNodW5rX291dHB1dF90eXBlOiBjb25zb2xlCi0tLQoKYGBge3IgbG9hZC1saWJyYXJpZXMtZGF0YSwgd2FybmluZz1GQUxTRSwgbWVzc2FnZT1GQUxTRX0KbGlicmFyeSh0aWR5dmVyc2UpCmxpYnJhcnkocnN0YW5hcm0pCmxpYnJhcnkoYnJvb20pCmxpYnJhcnkoY29kYSkKbGlicmFyeShnZ3N0YW5jZSkKbGlicmFyeShwYXRjaHdvcmspCmxpYnJhcnkocGFuZGVyKQpsaWJyYXJ5KHNjYWxlcykKbGlicmFyeShqYW5pdG9yKQpsaWJyYXJ5KGh1eHRhYmxlKQpsaWJyYXJ5KGhlcmUpCgpzb3VyY2UoZmlsZS5wYXRoKGhlcmUoKSwgImxpYiIsICJncmFwaGljcy5SIikpCnNvdXJjZShmaWxlLnBhdGgoaGVyZSgpLCAibGliIiwgInBhbmRlcl9vcHRpb25zLlIiKSkKc291cmNlKGZpbGUucGF0aChoZXJlKCksICJsaWIiLCAibW9kZWxpbmcuUiIpKQoKIyBMb2FkIGRhdGEKcmVzdWx0cyA8LSByZWFkUkRTKGZpbGUucGF0aChoZXJlKCksICJkYXRhIiwgInJlc3VsdHNfY2xlYW4ucmRzIikpCgoKIyBIZWxwZnVsIGZ1bmN0aW9ucwpzYWZlX21lYW4gPC0gZnVuY3Rpb24oeCwgLi4uKSBzdXBwcmVzc1dhcm5pbmdzKG1lYW4oYXMubnVtZXJpYyh4KSwgLi4uKSkKc2FmZV9zZCA8LSBmdW5jdGlvbih4LCAuLi4pIHN1cHByZXNzV2FybmluZ3Moc2QoYXMubnVtZXJpYyh4KSwgLi4uKSkKCm15X2FzX251bWVyaWMgPC0gZnVuY3Rpb24oeCkgewogIGlzX251bSA8LSBzdXBwcmVzc1dhcm5pbmdzKCFhbnkoaXMubmEoYXMubnVtZXJpYyh4KSkpKQogIAogIGlmIChpc19udW0pIHsKICAgIGFzLm51bWVyaWMoeCkKICB9IGVsc2UgewogICAgeAogIH0KfQoKbGV2ZWxfc3VtbWFyeSA8LSBmdW5jdGlvbih4LCB2YXJpYWJsZSwgZGYgPSByZXN1bHRzKSB7CiAgdmFyaWFibGUgPC0gYXMuY2hhcmFjdGVyKHZhcmlhYmxlKQogIGlmIChpcy5mYWN0b3IoZGZbW3ZhcmlhYmxlXV0pKSB7CiAgICB4X2xldmVscyA8LSBsZXZlbHMoZGZbW3ZhcmlhYmxlXV0pCiAgfSBlbHNlIHsKICAgIHhfbGV2ZWxzIDwtIHVuaXF1ZShkZltbdmFyaWFibGVdXSkKICB9CiAgCiAgZmFjdG9yX3N1bW1hcnkgPC0gZGF0YV9mcmFtZSh4KSAlPiUgCiAgICBjb3VudCh4KSAlPiUKICAgIG11dGF0ZShwY3QgPSBuIC8gc3VtKG4pLAogICAgICAgICAgIGZhbmN5ID0gcGFzdGUwKHgsICIgKCIsIG4sICI7ICIsIHBlcmNlbnQocGN0KSwgIikiKSwKICAgICAgICAgICB4ID0gZmFjdG9yKHgsIGxldmVscyA9IHhfbGV2ZWxzLCBvcmRlcmVkID0gVFJVRSkpIAogIAogIGlubGluZV9zdW1tYXJ5IDwtIGZhY3Rvcl9zdW1tYXJ5ICU+JSBhcnJhbmdlKHgpICU+JSAKICAgIHB1bGwoZmFuY3kpICU+JSBwYXN0ZShjb2xsYXBzZSA9ICIgfCAiKQogIAogIGZpZ19iYXIgPC0gZ2dwbG90KGZhY3Rvcl9zdW1tYXJ5LCBhZXMoeCA9IHgsIHkgPSBuKSkgKwogICAgZ2VvbV9iYXIoc3RhdCA9ICJpZGVudGl0eSIsIGZpbGwgPSAiZ3JleTUwIikgKwogICAgdGhlbWVfc3BhcmsoKQogIAogIGZpbGVfbmFtZSA8LSBnc3ViKCJcXC58ICIsICJfIiwgdG9sb3dlcih2YXJpYWJsZSkpCiAgbWRfaW1nIDwtIHBhc3RlMCgiIVtdKG91dHB1dC9maWd1cmVzL3N1bW1hcnktdGFibGUvIiwgZmlsZV9uYW1lLCAiKSIpCgogIGdnc2F2ZShmaWdfYmFyLCBmaWxlbmFtZSA9IGZpbGUucGF0aChoZXJlKCksICJvdXRwdXQiLCAiZmlndXJlcyIsICJzdW1tYXJ5LXRhYmxlIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzdGUwKGZpbGVfbmFtZSwgIi5wZGYiKSksIAogICAgICAgICB3aWR0aCA9IDEsIGhlaWdodCA9IDAuMiwgZGV2aWNlID0gY2Fpcm9fcGRmKQogIGdnc2F2ZShmaWdfYmFyLCBmaWxlbmFtZSA9IGZpbGUucGF0aChoZXJlKCksICJvdXRwdXQiLCAiZmlndXJlcyIsICJzdW1tYXJ5LXRhYmxlIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzdGUwKGZpbGVfbmFtZSwgIi5wbmciKSksIAogICAgICAgICB3aWR0aCA9IDEsIGhlaWdodCA9IDAuMiwgdHlwZSA9ICJjYWlybyIsIGJnID0gInRyYW5zcGFyZW50IiwgZHBpID0gMzAwKQoKICBvdXRwdXQgPC0gZGF0YV9mcmFtZShzcGFyayA9IG1kX2ltZywgc3VtbWFyeSA9IGlubGluZV9zdW1tYXJ5KQogIHJldHVybihvdXRwdXQpCn0KCm51bWVyaWNfc3VtbWFyeSA8LSBmdW5jdGlvbih4LCB2YXJpYWJsZSkgewogIGlubGluZV9zdW1tYXJ5IDwtIHBhc3RlMCgiTWVkaWFuOiAiLCByb3VuZChtZWRpYW4oeCwgbmEucm0gPSBUUlVFKSwgMiksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICIgfCBNZWFuOiAiLCByb3VuZChtZWFuKHgsIG5hLnJtID0gVFJVRSksIDIpLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIiB8IFN0ZC4gRGV2LjogIiwgcm91bmQoc2QoeCwgbmEucm0gPSBUUlVFKSwgMikpCiAgCiAgZmlnX2hpc3QgPC0gZ2dwbG90KGFzLmRhdGEuZnJhbWUoeCksIGFlcyh4ID0geCkpICsKICAgIGdlb21faGlzdG9ncmFtKGZpbGwgPSAiZ3JleTUwIiwgYmlud2lkdGggPSAxMCkgKwogICAgdGhlbWVfc3BhcmsoKQogIAogIGZpbGVfbmFtZSA8LSBnc3ViKCJcXC58ICIsICJfIiwgdG9sb3dlcih2YXJpYWJsZSkpCiAgbWRfaW1nIDwtIHBhc3RlMCgiIVtdKG91dHB1dC9maWd1cmVzL3N1bW1hcnktdGFibGUvIiwgZmlsZV9uYW1lLCAiKSIpCgogIGdnc2F2ZShmaWdfaGlzdCwgZmlsZW5hbWUgPSBmaWxlLnBhdGgoaGVyZSgpLCAib3V0cHV0IiwgImZpZ3VyZXMiLCAic3VtbWFyeS10YWJsZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXN0ZTAoZmlsZV9uYW1lLCAiLnBkZiIpKSwgCiAgICAgICAgIHdpZHRoID0gMSwgaGVpZ2h0ID0gMC4yLCBkZXZpY2UgPSBjYWlyb19wZGYpCiAgZ2dzYXZlKGZpZ19oaXN0LCBmaWxlbmFtZSA9IGZpbGUucGF0aChoZXJlKCksICJvdXRwdXQiLCAiZmlndXJlcyIsICJzdW1tYXJ5LXRhYmxlIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3RlMChmaWxlX25hbWUsICIucG5nIikpLCAKICAgICAgICAgd2lkdGggPSAxLCBoZWlnaHQgPSAwLjIsIHR5cGUgPSAiY2Fpcm8iLCBiZyA9ICJ0cmFuc3BhcmVudCIsIGRwaSA9IDMwMCkKICAKICBvdXRwdXQgPC0gZGF0YV9mcmFtZShzcGFyayA9IG1kX2ltZywgc3VtbWFyeSA9IGlubGluZV9zdW1tYXJ5KQogIHJldHVybihvdXRwdXQpCn0KCm15X3N1bW1hcnkgPC0gZnVuY3Rpb24oeCwgdmFyaWFibGUsIGRmKSB7CiAgeCA8LSBteV9hc19udW1lcmljKHgpCiAgCiAgaWYgKGlzLm51bWVyaWMoeCkpIHsKICAgIG51bWVyaWNfc3VtbWFyeSh4LCB2YXJpYWJsZSkKICB9IGVsc2UgewogICAgbGV2ZWxfc3VtbWFyeSh4LCB2YXJpYWJsZSwgZGYpCiAgfQp9CmBgYAoKCiMgT3ZlcnZpZXcgb2YgZGF0YQoKIyMgQmFsYW5jZSBvZiBleHBlcmltZW50YWwgY29uZGl0aW9ucwoKYGBge3IgY2hlY2stY29uZGl0aW9ucywgcmVzdWx0cz0iYXNpcyJ9CnJlc3VsdHMgJT4lIGNvdW50KGNyYWNrZG93biwgaXNzdWUsIGZ1bmRpbmcpICU+JSAKICByZW5hbWUoQ3JhY2tkb3duID0gY3JhY2tkb3duLCBJc3N1ZSA9IGlzc3VlLCBGdW5kaW5nID0gZnVuZGluZykgJT4lIAogIGphbml0b3I6OmFkb3JuX3RvdGFscyguLCB3aGVyZSA9ICJyb3ciKSAlVD4lIAogIHBhbmRvYy50YWJsZSgpICU+JSAKICBwYW5kb2MudGFibGUucmV0dXJuKGNhcHRpb24gPSAiQmFsYW5jZSBvZiBleHBlcmltZW50YWwgY29uZGl0aW9ucyB7I3RibDpleHBlcmltZW50YWwtY29uZGl0aW9uc30iKSAlPiUgCiAgY2F0KGZpbGUgPSBmaWxlLnBhdGgoaGVyZSgpLCAib3V0cHV0IiwgInRhYmxlcyIsICJ0YmwtZXhwZXJpbWVudGFsLWNvbmRpdGlvbnMubWQiKSkKYGBgCgojIyBEZXNjcmlwdGl2ZSBzdGF0aXN0aWNzIHRhYmxlCgpgYGB7ciB0YmwtZGVzY3JpcHRpdmUtc3RhdGlzdGljcywgcmVzdWx0cz0iYXNpcyIsIHdhcm5pbmc9RkFMU0V9CnZhcnNfdG9fc3VtbWFyaXplIDwtIHRyaWJibGUoCiAgfnZhcmlhYmxlLCB+Y2xlYW5fbmFtZSwKICAiZG9uYXRlX2xpa2VseSIsICJMaWtlbGlob29kIG9mIGRvbmF0aW9uIiwKICAiZG9uYXRlX2xpa2VseV9iaW4iLCAiTGlrZWxpaG9vZCBvZiBkb25hdGlvbiAoYmluYXJ5KSIsCiAgImFtb3VudF9kb25hdGUiLCAiQW1vdW50IGh5cG90aGV0aWNhbGx5IGRvbmF0ZWQgKCQpIiwKICAiZ2VuZGVyIiwgIkdlbmRlciIsCiAgImFnZSIsICJBZ2UiLAogICJpbmNvbWUiLCAiSW5jb21lIiwKICAiZWR1Y2F0aW9uIiwgIkVkdWNhdGlvbiIsCiAgInJlbGlnaW9zaXR5IiwgIkZyZXF1ZW5jeSBvZiBhdHRlbmRpbmcgcmVsaWdpb3VzIHNlcnZpY2VzIiwKICAiaWRlb2xvZ3kiLCAiUG9saXRpY2FsIHZpZXdzIiwKICAicG9saXRpY2FsX2tub3dsZWRnZSIsICJGcmVxdWVuY3kgb2YgZm9sbG93aW5nIHB1YmxpYyBhZmZhaXJzIiwKICAiZ2l2ZV9jaGFyaXR5IiwgIkZyZXF1ZW5jeSBvZiBjaGFyaXRhYmxlIGRvbmF0aW9ucyIsCiAgInZvbHVudGVlciIsICJWb2x1bnRlZXJlZCBpbiBwYXN0IDEyIG1vbnRocyIsCiAgImZhdm9yX2h1bWFuaXRhcmlhbiIsICJQcmlvciBmYXZvcmFiaWxpdHkgdG93YXJkcyBodW1hbml0YXJpYW4gTkdPcyIsCiAgImZhdm9yX2h1bWFuaXRhcmlhbl9iaW4iLCAiUHJpb3IgZmF2b3JhYmlsaXR5IHRvd2FyZHMgaHVtYW5pdGFyaWFuIE5HT3MgKGJpbmFyeSkiLAogICJmYXZvcl9odW1hbl9yaWdodHMiLCAiUHJpb3IgZmF2b3JhYmlsaXR5IHRvd2FyZHMgaHVtYW4gcmlnaHRzIE5HT3MiLAogICJmYXZvcl9odW1hbl9yaWdodHNfYmluIiwgIlByaW9yIGZhdm9yYWJpbGl0eSB0b3dhcmRzIGh1bWFuIHJpZ2h0cyBOR09zIChiaW5hcnkpIiwKICAiZmF2b3JfZGV2ZWxvcG1lbnQiLCAiUHJpb3IgZmF2b3JhYmlsaXR5IHRvd2FyZHMgZGV2ZWxvcG1lbnQgTkdPcyIsCiAgImZhdm9yX2RldmVsb3BtZW50X2JpbiIsICJQcmlvciBmYXZvcmFiaWxpdHkgdG93YXJkcyBkZXZlbG9wbWVudCBOR09zIChiaW5hcnkpIiwKICAiY2hlY2syIiwgIkF0dGVudGlvbiBjaGVjayAyIgopCgpyZXN1bHRzX3N1bW1hcnlfc3RhdHMgPC0gcmVzdWx0cyAlPiUgCiAgc2VsZWN0KG9uZV9vZih2YXJzX3RvX3N1bW1hcml6ZSR2YXJpYWJsZSkpICU+JSAKICBnYXRoZXIodmFyaWFibGUsIHZhbHVlKSAlPiUgCiAgZ3JvdXBfYnkodmFyaWFibGUpICU+JSAKICBuZXN0KCkgJT4lIAogIG11dGF0ZShOID0gZGF0YSAlPiUgbWFwX2ludCh+IG5yb3coLikpLAogICAgICAgICBzdW1tYXJ5ID0gbWFwMigueCA9IGRhdGEsIC55ID0gdmFyaWFibGUsIH4gbXlfc3VtbWFyeSgueCR2YWx1ZSwgLnksIHJlc3VsdHMpKSkgJT4lIAogIGxlZnRfam9pbih2YXJzX3RvX3N1bW1hcml6ZSwgYnkgPSAidmFyaWFibGUiKSAlPiUgCiAgbXV0YXRlKHZhcmlhYmxlID0gZmFjdG9yKHZhcmlhYmxlLCBsZXZlbHMgPSB2YXJzX3RvX3N1bW1hcml6ZSR2YXJpYWJsZSwgb3JkZXJlZCA9IFRSVUUpKSAlPiUgCiAgYXJyYW5nZSh2YXJpYWJsZSkgJT4lIAogIHNlbGVjdCgtZGF0YSwgLXZhcmlhYmxlKSAlPiUgCiAgdW5uZXN0KHN1bW1hcnkpICU+JSAKICBzZWxlY3QoVmFyaWFibGUgPSBjbGVhbl9uYW1lLCBOLCBgIGAgPSBzcGFyaywgRGV0YWlscyA9IHN1bW1hcnkpCgpyZXN1bHRzX3N1bW1hcnlfc3RhdHMgJT4lIAogIHNlbGVjdCgtTikgJT4lIAogIHBhbmRvYy50YWJsZS5yZXR1cm4oY2FwdGlvbiA9ICJEZXNjcmlwdGl2ZSBzdGF0aXN0aWNzIHsjdGJsOmRlc2NyaXB0aXZlLXN0YXRzfSIsCiAgICAgICAgICAgICAgICAgICAgICBzcGxpdC5jZWxsID0gODAsIHNwbGl0LnRhYmxlID0gSW5mKSAlVD4lIAogIGNhdChmaWxlID0gZmlsZS5wYXRoKGhlcmUoKSwgIm91dHB1dCIsICJ0YWJsZXMiLCAidGJsLWRlc2NyaXB0aXZlLXN0YXRzLm1kIikpICU+JSAKICBjYXQoKQpgYGAKCiMjIEF2ZXJhZ2UgbGlrZWxpaG9vZCBhbmQgYW1vdW50IGRvbmF0ZWQgYWNyb3NzIGNvbmRpdGlvbnMKCmBgYHtyIHRibC1yZXN1bHRzLWNvbmRpdGlvbnMsIHJlc3VsdHM9ImFzaXMifQpjb25kaXRpb25zX3N1bW1hcnkgPC0gYmluZF9yb3dzKGdyb3VwX2J5KHJlc3VsdHMsIGNyYWNrZG93biwgaXNzdWUsIGZ1bmRpbmcpICU+JSBuZXN0KCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBfYnkocmVzdWx0cywgY3JhY2tkb3duLCBpc3N1ZSkgJT4lIG5lc3QoKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cF9ieShyZXN1bHRzLCBjcmFja2Rvd24pICU+JSBuZXN0KCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0cyAlPiUgbmVzdCgpKSAlPiUgCiAgYXJyYW5nZShjcmFja2Rvd24sIGlzc3VlLCBmdW5kaW5nKSAlPiUgCiAgbXV0YXRlKHN1bW1hcnkgPSBkYXRhICU+JQogICAgICAgICAgIG1hcCh+IHN1bW1hcml6ZSguLCBwY3RfbGlrZWx5ID0gdGFibGUoZG9uYXRlX2xpa2VseV9iaW4pW1siTGlrZWx5Il1dIC8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZW5ndGgoZG9uYXRlX2xpa2VseV9iaW4pLAogICAgICAgICAgICAgICAgICAgICAgICAgICBtZWFuX2RvbmF0aW9uID0gbWVhbihhbW91bnRfZG9uYXRlLCBuYS5ybSA9IFRSVUUpLAogICAgICAgICAgICAgICAgICAgICAgICAgICBzZF9kb25hdGlvbiA9IHNkKGFtb3VudF9kb25hdGUsIG5hLnJtID0gVFJVRSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgIE4gPSBucm93KC4pKSkpICU+JSAKICB1bm5lc3Qoc3VtbWFyeSkgJT4lIHNlbGVjdCgtZGF0YSkKCmNvbmRpdGlvbnNfc3VtbWFyeV9jbGVhbiA8LSBjb25kaXRpb25zX3N1bW1hcnkgJT4lIAogIG11dGF0ZShmdW5kaW5nID0gaWZlbHNlKGlzLm5hKGZ1bmRpbmcpICYgIWlzLm5hKGlzc3VlKSAsICIqVG90YWwqIiwgYXMuY2hhcmFjdGVyKGZ1bmRpbmcpKSwKICAgICAgICAgaXNzdWUgPSBpZmVsc2UoaXMubmEoaXNzdWUpICYgIWlzLm5hKGNyYWNrZG93biksICIqVG90YWwqIiwgYXMuY2hhcmFjdGVyKGlzc3VlKSksCiAgICAgICAgIGNyYWNrZG93biA9IGlmZWxzZShpcy5uYShjcmFja2Rvd24pLCAiKlRvdGFsKiIsIGFzLmNoYXJhY3RlcihjcmFja2Rvd24pKSkgJT4lIAogIGdyb3VwX2J5KGNyYWNrZG93bikgJT4lIAogIG11dGF0ZShpc3N1ZSA9IHJlcGxhY2UoaXNzdWUsIGR1cGxpY2F0ZWQoaXNzdWUpLCBOQSkpICU+JSAKICB1bmdyb3VwKCkgJT4lIAogIG11dGF0ZShjcmFja2Rvd24gPSByZXBsYWNlKGNyYWNrZG93biwgZHVwbGljYXRlZChjcmFja2Rvd24pLCBOQSkpICU+JSAKICBtdXRhdGUocGN0X2xpa2VseSA9IHBlcmNlbnQocGN0X2xpa2VseSkpICU+JSAKICByZW5hbWUoYENyYWNrZG93biBjb25kaXRpb25gID0gY3JhY2tkb3duLCBgSXNzdWUgY29uZGl0aW9uYCA9IGlzc3VlLAogICAgICAgICBgRnVuZGluZyBjb25kaXRpb25gID0gZnVuZGluZywgYCUgbGlrZWx5IHRvIGRvbmF0ZWAgPSBwY3RfbGlrZWx5LAogICAgICAgICBgQW1vdW50IGRvbmF0ZWQgKG1lYW4pYCA9IG1lYW5fZG9uYXRpb24sIGBBbW91bnQgZG9uYXRlZCAoc2QpYCA9IHNkX2RvbmF0aW9uKQoKY29uZGl0aW9uc19zdW1tYXJ5X2NsZWFuICVUPiUgCiAgcGFuZG9jLnRhYmxlKCkgJT4lIAogIHBhbmRvYy50YWJsZS5yZXR1cm4oY2FwdGlvbiA9ICJBdmVyYWdlIGxpa2VsaWhvb2QgYW5kIGFtb3VudCBkb25hdGVkIGFjcm9zcyBleHBlcmltZW50YWwgY29uZGl0aW9ucyB7I3RibDphdmctcmVzdWx0c30iKSAlPiUgCiAgY2F0KGZpbGUgPSBmaWxlLnBhdGgoaGVyZSgpLCAib3V0cHV0IiwgInRhYmxlcyIsICJ0YmwtYXZnLXJlc3VsdHMubWQiKSkKYGBgCgpcCgojIFZpc3VhbGl6ZSBpbXBvcnRhbnQgdmFyaWFibGVzCgojIyBQcmlvciBmYXZvcmFiaWxpdHkgdG93YXJkcyBOR09zCgpgYGB7ciBmaWctbmdvLWZhdm9yYWJpbGl0eSwgZmlnLndpZHRoPTcsIGZpZy5oZWlnaHQ9NH0KZmF2b3JhYmlsaXR5X2NvbHMgPC0gZGF0YV9mcmFtZSh2YWx1ZSA9IGMoIlZlcnkgdW5mYXZvcmFibGUiLCAiVW5mYXZvcmFibGUiLCAiTmV1dHJhbCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJGYXZvcmFibGUiLCAiVmVyeSBmYXZvcmFibGUiKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvciA9IG5nb19wYWwoIm9yZGVyZWQiKSg1KSkKCm5nb19mYXZvcmFiaWxpdHlfcmF3IDwtIHJlc3VsdHMgJT4lCiAgc2VsZWN0KGZhdm9yX2h1bWFuaXRhcmlhbiwgZmF2b3JfaHVtYW5fcmlnaHRzLCBmYXZvcl9kZXZlbG9wbWVudCkgJT4lIAogIGdhdGhlcih2YXJpYWJsZSwgdmFsdWUpICU+JSAKICBjb3VudCh2YXJpYWJsZSwgdmFsdWUpICU+JSAKICBsZWZ0X2pvaW4odmFyc190b19zdW1tYXJpemUsIGJ5ID0gInZhcmlhYmxlIikgJT4lIAogIGxlZnRfam9pbihmYXZvcmFiaWxpdHlfY29scywgYnkgPSAidmFsdWUiKSAlPiUKICBtdXRhdGUoY2xlYW5fbmFtZSA9IHN0cl9yZXBsYWNlKGNsZWFuX25hbWUsICJ0b3dhcmRzIiwgInRvd2FyZHNcbiIpKSAlPiUgCiAgbXV0YXRlKHZhbHVlID0gZmFjdG9yKHZhbHVlLCBsZXZlbHMgPSBsZXZlbHMocmVzdWx0cyRmYXZvcl9odW1hbml0YXJpYW4pLCBvcmRlcmVkID0gVFJVRSksCiAgICAgICAgIGNsZWFuX25hbWUgPSBmY3RfaW5vcmRlcihjbGVhbl9uYW1lLCBvcmRlcmVkID0gVFJVRSkpICU+JQogIGFycmFuZ2UodmFsdWUpICU+JSAKICBtdXRhdGUoY29sb3IgPSBmY3RfaW5vcmRlcihjb2xvciwgb3JkZXJlZCA9IFRSVUUpKQoKbmdvX2Zhdm9yYWJpbGl0eV9oaWdoIDwtIG5nb19mYXZvcmFiaWxpdHlfcmF3ICU+JSAKICBmaWx0ZXIoIXN0cl9kZXRlY3QodmFsdWUsICJuZmF2IikpICU+JSAKICBtdXRhdGUobiA9IGlmZWxzZSh2YWx1ZSA9PSAiTmV1dHJhbCIsIG4gLyAyLCBuKSwKICAgICAgICAgbl9wbG90ID0gbiwKICAgICAgICAgdmFsdWUgPSBmY3RfcmV2KHZhbHVlKSwgY29sb3IgPSBmY3RfcmV2KGNvbG9yKSkKCm5nb19mYXZvcmFiaWxpdHlfbG93IDwtIG5nb19mYXZvcmFiaWxpdHlfcmF3ICU+JSAKICBmaWx0ZXIoc3RyX2RldGVjdCh2YWx1ZSwgIm5mYXYiKSB8IHZhbHVlID09ICJOZXV0cmFsIikgJT4lIAogIG11dGF0ZShuID0gaWZlbHNlKHZhbHVlID09ICJOZXV0cmFsIiwgbiAvIDIsIG4pLAogICAgICAgICBuX3Bsb3QgPSAtbikKCmdncGxvdChtYXBwaW5nID0gYWVzKHggPSBuX3Bsb3QsIHkgPSBjbGVhbl9uYW1lLCBmaWxsID0gY29sb3IpKSArCiAgZ2VvbV9iYXJoKGRhdGEgPSBuZ29fZmF2b3JhYmlsaXR5X2hpZ2gsIHN0YXQgPSAiaWRlbnRpdHkiKSArCiAgZ2VvbV9iYXJoKGRhdGEgPSBuZ29fZmF2b3JhYmlsaXR5X2xvdywgc3RhdCA9ICJpZGVudGl0eSIpICsKICBnZW9tX3ZsaW5lKHhpbnRlcmNlcHQgPSAwLCBjb2xvciA9ICJibGFjayIpICsKICBzY2FsZV94X2NvbnRpbnVvdXMobGFiZWxzID0gYWJzKSArCiAgc2NhbGVfZmlsbF9pZGVudGl0eShsYWJlbHMgPSBsZXZlbHMobmdvX2Zhdm9yYWJpbGl0eV9yYXckdmFsdWUpLAogICAgICAgICAgICAgICAgICAgICAgYnJlYWtzID0gbGV2ZWxzKG5nb19mYXZvcmFiaWxpdHlfcmF3JGNvbG9yKSwKICAgICAgICAgICAgICAgICAgICAgIGd1aWRlID0gImxlZ2VuZCIsIG5hbWUgPSBOVUxMKSArCiAgbGFicyh4ID0gTlVMTCwgeSA9IE5VTEwpICsKICB0aGVtZV9uZ29zKCkgKwogIHRoZW1lKHBhbmVsLmdyaWQubWlub3IgPSBlbGVtZW50X2JsYW5rKCksCiAgICAgICAgcGFuZWwuZ3JpZC5tYWpvci55ID0gZWxlbWVudF9ibGFuaygpKQpgYGAKCiMjIExpa2VsaWhvb2Qgb2YgZG9uYXRpb24KCmBgYHtyIGZpZy1saWtlbGlob29kLWJhcnMsIGZpZy53aWR0aD05LCBmaWcuaGVpZ2h0PTR9CmRvbmF0ZV9zdW1tYXJ5IDwtIHJlc3VsdHMgJT4lIAogIGNvdW50KGRvbmF0ZV9saWtlbHkpICU+JSAKICBtdXRhdGUocGVyYyA9IG4gLyBzdW0obikpICU+JSAKICBtdXRhdGUoaGlnaGxpZ2h0ID0gaWZlbHNlKGRvbmF0ZV9saWtlbHkgJWluJSBjKCJFeHRyZW1lbHkgbGlrZWx5IiwgIlNvbWV3aGF0IGxpa2VseSIpLCBUUlVFLCBGQUxTRSkpCgpwbG90X2RvbmF0ZV9zdW1tYXJ5IDwtIGdncGxvdChkb25hdGVfc3VtbWFyeSwgYWVzKHggPSBuLCB5ID0gZG9uYXRlX2xpa2VseSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbCA9IGhpZ2hsaWdodCkpICsKICBnZW9tX2Jhcmgoc3RhdCA9ICJpZGVudGl0eSIpICsKICBzY2FsZV94X2NvbnRpbnVvdXMoc2VjLmF4aXMgPSBzZWNfYXhpcyh+IC4gLyBzdW0oZG9uYXRlX3N1bW1hcnkkbiksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxzID0gcGVyY2VudCkpICsKICBzY2FsZV9maWxsX21hbnVhbCh2YWx1ZXMgPSBuZ29fY29scygiZ3JlZW4iLCAiYmx1ZSIsIG5hbWUgPSBGQUxTRSksIGd1aWRlID0gRkFMU0UpICsKICBsYWJzKHggPSBOVUxMLCB5ID0gTlVMTCkgKwogIHRoZW1lX25nb3MoKSArCiAgdGhlbWUocGFuZWwuZ3JpZC5tYWpvci55ID0gZWxlbWVudF9ibGFuaygpKQoKcGxvdF9kb25hdGVfc3VtbWFyeQoKcGxvdF9kb25hdGVfc3VtbWFyeSAlVD4lIAogIHByaW50KCkgJVQ+JQogIGdnc2F2ZSguLCBmaWxlbmFtZSA9IGZpbGUucGF0aChoZXJlKCksICJvdXRwdXQiLCAiZmlndXJlcyIsICJkb25hdGVfc3VtbWFyeS5wZGYiKSwKICAgICAgICAgd2lkdGggPSA5LCBoZWlnaHQgPSA0LCB1bml0cyA9ICJpbiIsIGRldmljZSA9IGNhaXJvX3BkZikgJT4lIAogIGdnc2F2ZSguLCBmaWxlbmFtZSA9IGZpbGUucGF0aChoZXJlKCksICJvdXRwdXQiLCAiZmlndXJlcyIsICJkb25hdGVfc3VtbWFyeS5wbmciKSwKICAgICAgICAgd2lkdGggPSA5LCBoZWlnaHQgPSA0LCB1bml0cyA9ICJpbiIsIHR5cGUgPSAiY2Fpcm8iLCBkcGkgPSAzMDApCmBgYAoKIyMgQW1vdW50IGRvbmF0ZWQKCmBgYHtyIGZpZy1hbW91bnQtYmFycywgZmlnLndpZHRoPTksIGZpZy5oZWlnaHQ9Mi43NX0KcGxvdF9hbW91bnRfc3VtbWFyeSA8LSBnZ3Bsb3QocmVzdWx0cywgYWVzKHggPSBhbW91bnRfZG9uYXRlKSkgKwogIGdlb21faGlzdG9ncmFtKGJpbnMgPSAyMCwgZmlsbCA9IG5nb19jb2xzKCJibHVlIikpICsKICBzY2FsZV94X2NvbnRpbnVvdXMobGFiZWxzID0gZG9sbGFyKSArCiAgbGFicyh4ID0gTlVMTCwgeSA9IE5VTEwpICsKICB0aGVtZV9uZ29zKCkgKwogIHRoZW1lKHBhbmVsLmdyaWQubWFqb3IueCA9IGVsZW1lbnRfYmxhbmsoKSwKICAgICAgICBwYW5lbC5ncmlkLm1pbm9yLnggPSBlbGVtZW50X2JsYW5rKCkpCgpwbG90X2Ftb3VudF9zdW1tYXJ5ICVUPiUgCiAgcHJpbnQoKSAlVD4lCiAgZ2dzYXZlKC4sIGZpbGVuYW1lID0gZmlsZS5wYXRoKGhlcmUoKSwgIm91dHB1dCIsICJmaWd1cmVzIiwgImFtb3VudF9zdW1tYXJ5LnBkZiIpLAogICAgICAgICB3aWR0aCA9IDksIGhlaWdodCA9IDIuNzUsIHVuaXRzID0gImluIiwgZGV2aWNlID0gY2Fpcm9fcGRmKSAlPiUgCiAgZ2dzYXZlKC4sIGZpbGVuYW1lID0gZmlsZS5wYXRoKGhlcmUoKSwgIm91dHB1dCIsICJmaWd1cmVzIiwgImFtb3VudF9zdW1tYXJ5LnBuZyIpLAogICAgICAgICB3aWR0aCA9IDksIGhlaWdodCA9IDIuNzUsIHVuaXRzID0gImluIiwgdHlwZSA9ICJjYWlybyIsIGRwaSA9IDMwMCkKYGBgCgpcCgojIEludGVycHJldGluZyBpbnRlcmFjdGlvbnMgaW4gbW9kZWxzCgpPcmRpbmFyaWx5LCBwZW9wbGUgdXNlIEFOT1ZBIHRvIGFuYWx5emUgMy13YXksIDIgw5cgMiDDlyAyIGZhY3RvcmlhbCBkZXNpZ25zLCBbbGlrZSB0aGlzXShodHRwczovL215cGFnZXMudmFsZG9zdGEuZWR1L213aGF0bGV5LzM2MDAvMngyeDIuaHRtKS4gQSBtb3JlIGZsZXhpYmxlIChbeWV0IGlkZW50aWNhbCFdKGh0dHBzOi8vd3d3LnRoZWFuYWx5c2lzZmFjdG9yLmNvbS93aHktYW5vdmEtYW5kLWxpbmVhci1yZWdyZXNzaW9uLWFyZS10aGUtc2FtZS1hbmFseXNpcy8pKSB3YXkgdG8gZG8gdGhpcyBpcyB0byB1c2UgYSByZWd1bGFyIHJlZ3Jlc3Npb24gbW9kZWwgd2l0aCBpbnRlcmFjdGlvbiB0ZXJtcyBmb3IgZWFjaCBvZiB0aGUgY29uZGl0aW9ucywgbGlrZSBzbyAoaGVyZSB3ZSB1c2UgdGhyZWUsIHNpbmNlIHdlIGNhbiB1c2Ugc2ltcGVyIG1vZGVscyB0byBnZXQgYXZlcmFnZXMgZm9yIHRoZSBsYXJnZXIgdW1icmVsbGEgZ3JvdXBzLCBsaWtlIGp1c3QgY3JhY2tkb3ducyBhbmQgY3JhY2tkb3duICsgaXNzdWUpOgoKLSBNb2RlbCAxOiAKCiAgICAkJAogICAgeSA9IFxiZXRhXzAgKyBcYmV0YV8xIFx0ZXh0e0NyYWNrZG93bn0KICAgICQkCgotIE1vZGVsIDI6IAoKICAgICQkCiAgICBcYmVnaW57YWxpZ25lZH0KICAgIHkgPSYgXGJldGFfMCArIFxiZXRhXzEgXHRleHR7Q3JhY2tkb3dufSArIFxiZXRhXzIgXHRleHR7SXNzdWUgfSArIFxcCiAgICAmIFxiZXRhXzMgXHRleHR7Q3JhY2tkb3dufSBcdGltZXMgXHRleHR7SXNzdWV9CiAgICBcZW5ke2FsaWduZWR9CiAgICAkJAoKLSBNb2RlbCAzOiAKCiAgICAkJAogICAgXGJlZ2lue2FsaWduZWR9CiAgICB5ID0mIFxiZXRhXzAgKyBcYmV0YV8xIFx0ZXh0e0NyYWNrZG93bn0gKyBcYmV0YV8yIFx0ZXh0e0lzc3VlfSArIFxiZXRhXzMgXHRleHR7RnVuZGluZyB9ICsgXFwKICAgICYgXGJldGFfNCBcdGV4dHtDcmFja2Rvd259IFx0aW1lcyBcdGV4dHtJc3N1ZSB9ICsgXFwKICAgICYgXGJldGFfNSBcdGV4dHtDcmFja2Rvd259IFx0aW1lcyBcdGV4dHtGdW5kaW5nIH0gKyBcXAogICAgJiBcYmV0YV82IFx0ZXh0e0lzc3VlfSBcdGltZXMgXHRleHR7RnVuZGluZyB9ICsgXFwKICAgICYgXGJldGFfNyBcdGV4dHtDcmFja2Rvd259IFx0aW1lcyBcdGV4dHtJc3N1ZX0gXHRpbWVzIFx0ZXh0e0Z1bmRpbmd9CiAgICBcZW5ke2FsaWduZWR9CiAgICAkJAoKQWRkaW5nIGRpZmZlcmVudCBjb21iaW5hdGlvbnMgb2YgdGhlIGNvZWZmaWNpZW50cyBwcm92aWRlcyB0aGUgYXZlcmFnZSB2YWx1ZXMgZm9yIGVhY2ggY29tYmluYXRpb24gb2YgZmFjdG9ycywgd2hpY2ggY29ycmVzcG9uZHMgdG8gdGhlIGF2ZXJhZ2UgbGlrZWxpaG9vZCBhbmQgYW1vdW50IGRvbmF0ZWQgdGFibGUgYWJvdmUuIAoKYGBge3IgaW50ZXJhY3Rpb24taW50ZXJwcmV0YXRpb24sIHJlc3VsdHM9ImFzaXMifQptb2RlbDEgPC0gIjEiCm1vZGVsMiA8LSAiMiIKbW9kZWwzIDwtICIzIgoKaW50ZXJwcmV0YXRpb24gPC0gdHJpYmJsZSgKICB+TW9kZWwsIH5gQ29lZmZpY2llbnRzIHRvIGFkZCB0b2dldGhlcmAsCiAgbW9kZWwzLCAiSW50ZXJjZXB0IiwKICBtb2RlbDMsICJJbnRlcmNlcHQgKyBGdW5kaW5nIiwKICBtb2RlbDIsICJJbnRlcmNlcHQiLAogIG1vZGVsMywgIkludGVyY2VwdCArIElzc3VlIiwKICBtb2RlbDMsICJJbnRlcmNlcHQgKyBJc3N1ZSArIEZ1bmRpbmcgKyAoSXNzdWUgw5cgRnVuZGluZykiLAogIG1vZGVsMiwgIkludGVyY2VwdCArIElzc3VlIiwKICBtb2RlbDEsICJJbnRlcmNlcHQiLAogIG1vZGVsMywgIkludGVyY2VwdCArIENyYWNrZG93biIsCiAgbW9kZWwzLCAiSW50ZXJjZXB0ICsgQ3JhY2tkb3duICsgRnVuZGluZyArIChDcmFja2Rvd24gw5cgRnVuZGluZykiLAogIG1vZGVsMiwgIkludGVyY2VwdCArIENyYWNrZG93biIsCiAgbW9kZWwzLCAiSW50ZXJjZXB0ICsgQ3JhY2tkb3duICsgSXNzdWUgKyAoQ3JhY2tkb3duIMOXIElzc3VlKSIsCiAgbW9kZWwzLCAiSW50ZXJjZXB0ICsgQ3JhY2tkb3duICsgSXNzdWUgKyBGdW5kaW5nICsgKENyYWNrZG93biDDlyBJc3N1ZSkgKyAoQ3JhY2tkb3duIMOXIEZ1bmRpbmcpICsgKElzc3VlIMOXIEZ1bmRpbmcpICsgKENyYWNrZG93biDDlyBJc3N1ZSDDlyBGdW5kaW5nKSIsCiAgbW9kZWwyLCAiSW50ZXJjZXB0ICsgQ3JhY2tkb3duICsgSXNzdWUgKyAoQ3JhY2tkb3duIMOXIElzc3VlKSIsCiAgbW9kZWwxLCAiSW50ZXJjZXB0ICsgQ3JhY2tkb3duIgopCgpjb25kaXRpb25zX3N1bW1hcnlfY2xlYW4gJT4lIAogIHNlbGVjdCgxOjMpICU+JSAKICBzbGljZSgtbigpKSAlPiUgCiAgYmluZF9jb2xzKGludGVycHJldGF0aW9uKSAlVD4lIAogIHBhbmRvYy50YWJsZSgpICU+JSAKICBwYW5kb2MudGFibGUucmV0dXJuKGNhcHRpb24gPSAiQ29tYmluYXRpb25zIG9mIGNvZWZmaWNpZW50cyB0byBhZGQgdG8gZGV0ZXJtaW5lIG1lYW5zIGFjcm9zcyBleHBlcmltZW50YWwgY29uZGl0aW9ucyB7I3RibDpjb2VmZmljaWVudHMtdG8tYWRkfSIpICU+JSAKICBjYXQoZmlsZSA9IGZpbGUucGF0aChoZXJlKCksICJvdXRwdXQiLCAidGFibGVzIiwgInRibC1jb2VmZmljaWVudHMtdG8tYWRkLm1kIikpCmBgYAoKXAoKIyBBbW91bnQgZG9uYXRlZAoKIyMgTW9kZWxzCgpgYGB7ciBidWlsZC1tb2RlbHMtYW1vdW50LCB3YXJuaW5nPUZBTFNFLCBtZXNzYWdlPUZBTFNFLCBjYWNoZT1UUlVFfQojIEJhc2ljIGludGVyYWN0aW9uIG1vZGVscwptX2Ftb3VudF9jIDwtIHN0YW5fZ2xtKGFtb3VudF9kb25hdGUgfiBjcmFja2Rvd24sCiAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHJlc3VsdHMsIGZhbWlseSA9IGdhdXNzaWFuKCksCiAgICAgICAgICAgICAgICAgICAgICAgcHJpb3IgPSBjYXVjaHkobG9jYXRpb24gPSAwLCBzY2FsZSA9IDIuNSksCiAgICAgICAgICAgICAgICAgICAgICAgcHJpb3JfaW50ZXJjZXB0ID0gY2F1Y2h5KGxvY2F0aW9uID0gMCwgc2NhbGUgPSAxMCksCiAgICAgICAgICAgICAgICAgICAgICAgY2hhaW5zID0gQ0hBSU5TLCBpdGVyID0gSVRFUiwgd2FybXVwID0gV0FSTVVQLCBzZWVkID0gQkFZRVNfU0VFRCkKCm1fYW1vdW50X2NpIDwtIHVwZGF0ZShtX2Ftb3VudF9jLCAuIH4gLiArIGlzc3VlICsgY3JhY2tkb3duICogaXNzdWUpCgptX2Ftb3VudF9jaWYgPC0gdXBkYXRlKG1fYW1vdW50X2MsIC4gfiAuICsgCiAgICAgICAgICAgICAgICAgICAgICAgICBpc3N1ZSArIGZ1bmRpbmcgKyBjcmFja2Rvd24gKiBpc3N1ZSArIGNyYWNrZG93biAqIGZ1bmRpbmcgKyAKICAgICAgICAgICAgICAgICAgICAgICAgIGlzc3VlICogZnVuZGluZyArIGNyYWNrZG93biAqIGlzc3VlICogZnVuZGluZykKCiMgTW9kZWxzIHdpdGgganVzdCBpc3N1ZSBhbmQganVzdCBmdW5kaW5nCm1fYW1vdW50X2kgPC0gdXBkYXRlKG1fYW1vdW50X2MsIC4gfiBpc3N1ZSkKbV9hbW91bnRfZiA8LSB1cGRhdGUobV9hbW91bnRfYywgLiB+IGZ1bmRpbmcpCmBgYAoKYGBge3IgdGJsLW1vZGVscy1hbW91bnQsIHdhcm5pbmc9RkFMU0UsIHJlc3VsdHM9ImFzaXMifQojIEdldCBzdWJzZXQgb2YgY29lZmZpY2llbnRzCmNvZWZzX3RvX2luY2x1ZGUgPC0gbGlzdChtX2Ftb3VudF9jLCBtX2Ftb3VudF9jaSwgbV9hbW91bnRfY2lmKSAlPiUgCiAgbWFwKH4gdGlkeSguKSkgJT4lIGJpbmRfcm93cygpICU+JSBkaXN0aW5jdCh0ZXJtKSAlPiUgcHVsbCh0ZXJtKQoKaHV4cmVnKG1fYW1vdW50X2MsIG1fYW1vdW50X2NpLCBtX2Ftb3VudF9jaWYsIAogICAgICAgY29lZnMgPSBjbGVhbl9jb2Vmc19uYW1lZFtjbGVhbl9jb2Vmc19uYW1lZCAlaW4lIGNvZWZzX3RvX2luY2x1ZGVdLAogICAgICAgc3RhdGlzdGljcyA9IG1vZGVsX3N0YXRzX2JheWVzLAogICAgICAgc3RhcnMgPSBOVUxMKSAlVD4lIAogIHByaW50X2h1eCgpICU+JSAKICB0b19tZChtYXhfd2lkdGggPSAxMDApICU+JSAKICBjYXQoZmlsZSA9IGZpbGUucGF0aChoZXJlKCksICJvdXRwdXQiLCAidGFibGVzIiwgInRibC1tb2RlbHMtYW1vdW50Lm1kIikpCmBgYAoKIyMgUHJlZGljdGVkIG1lZGlhbnMKClRoZSBTdGFuIHBlb3BsZSByZWFsbHkgcmVhbGx5IGRvbid0IGxpa2UgYHBvc3Rlcmlvcl9saW5lcHJlZCgpYCwgc2luY2UgaXQgdGhyb3dzIGF3YXkgYSBsb3Qgb2YgdGhlIHVuY2VydGFpbnR5IHRoYXQgY29tZXMgZnJvbSBhY3R1YWxseSBnZXR0aW5nIGEgcG9zdGVyaW9yIGRpc3RyaWJ1dGlvbiAobGlrZSwgW3RoZXkgZGlkbid0IGV2ZW4gd2FudCB0byBpbnZlbnQgaXQsIGFuZCB0aGVuIHdoZW4gdGhleSBkaWQgdGhleSB3YW50ZWQgdG8gaGlkZSBpdF0oaHR0cHM6Ly9naXRodWIuY29tL3N0YW4tZGV2L3JzdGFuYXJtL2lzc3Vlcy84NSksIGFuZCBpdCBoYXMgYSBiaWcgd2FybmluZyBpbiB0aGUgZG9jdW1lbnRhdGlvbikuIEJ1dCB0aGlzIGFwcHJvYWNoIGhlcmUgbWlycm9ycyB1c2luZyBgcHJlZGljdCgpYCB0byBjb21iaW5lIGFsbCB0aGUgY29lZmZpY2llbnRzIGFuZCBpbnRlcmNlcHQgdGVybXMgaW4gYSByZWd1bGFyIGZyZXF1ZW50aXN0IGxpbmVhciBtb2RlbCBhbmQgaXQncyBwcm9iYWJseSBhcHByb3ByaWF0ZSBmb3IgdGhpcyBzaXR1YXRpb24gYmVjYXVzZSBhbGwgdGhlIGNvZWZmaWNpZW50cyBhcmUgYWN0dWFsbHkgbGlua2VkIHRvZ2V0aGVyIGJlaGluZCB0aGUgc2NlbmVzIGFuZCBjcmVhdGUgZ3JvdXAgbWVhbiBlc3RpbWF0ZXMuIElmIEkgdXNlIHRoZSBmdWxsIGZvcmNlIG9mIGBwb3N0ZXJpb3JfcHJlZGljdCgpYCwgSSBhZGQgbW9yZSB1bmNlcnRhaW50eSB3aXRoIGVhY2ggYWRkZWQgY29lZmZpY2llbnQgKHNvIGluIGEgMsOXMsOXMiB2ZXJzaW9uLCB0aGUgOHRoIGNvbmRpdGlvbiBpcyBhY3R1YWxseSB0aGUgc3VtIG9mIGFsbCA4IGNvZWZmaWNpZW50cywgd2hpY2ggbWVhbnMgaXQgZ2V0cyA4IGxldmVscyBvZiB1bmNlcnRhaW5pdHksIHdoaWNoIGlzIHByb2JhYmx5IGV4Y2Vzc2l2ZSkuIEJ1dCB3ZSBkbyBpdCBib3RoIHdheXMgdG9vLCBqdXN0IHRvIGJlIG9uIHRoZSBzYWZlIHNpZGUuCgpgYGB7ciBhbW91bnQtbWVkaWFuLWN9Cm5ld2RhdGFfY29uZGl0aW9uc19jIDwtIHJlc3VsdHMgJT4lIGV4cGFuZChuZXN0aW5nKGNyYWNrZG93bikpCgpjaGFpbnNfZml0dGVkX2MgPC0gcG9zdGVyaW9yX2xpbnByZWQobV9hbW91bnRfYywgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdkYXRhID0gbmV3ZGF0YV9jb25kaXRpb25zX2MpCgojIHBvc3Rlcmlvcl9maXQgPC0gcG9zdGVyaW9yX3ByZWRpY3QobV9hbW91bnRfYywgCiMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdkYXRhID0gbmV3ZGF0YV9jb25kaXRpb25zX2MsCiMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmF3cyA9IDUwLCBzZWVkID0gQkFZRVNfU0VFRCkKCmNvZWZfc3VtbWFyeV9jIDwtIG5ld2RhdGFfY29uZGl0aW9uc19jICU+JSAKICBiaW5kX2NvbHModGlkeU1DTUMoYXMubWNtYyhjaGFpbnNfZml0dGVkX2MpLCBlc3RpbWF0ZS5tZXRob2QgPSAibWVkaWFuIiwKICAgICAgICAgICAgICAgICAgICAgY29uZi5pbnQgPSBUUlVFLCBjb25mLmxldmVsID0gMC45LCBjb25mLm1ldGhvZCA9ICJIUERpbnRlcnZhbCIpKQoKIyBuZXdkYXRhIDwtIG5ld2RhdGFfY29uZGl0aW9ucyAlPiUgCiMgICBiaW5kX2NvbHModGlkeU1DTUMoYXMubWNtYyhwb3N0ZXJpb3JfZml0KSwgZXN0aW1hdGUubWV0aG9kID0gIm1lZGlhbiIsCiMgICAgICAgICAgICAgICAgICAgICAgY29uZi5pbnQgPSBUUlVFLCBjb25mLmxldmVsID0gMC45LCBjb25mLm1ldGhvZCA9ICJIUERpbnRlcnZhbCIpKQoKcGxvdF9hbW91bnRfYyA8LSBnZ3Bsb3QoY29lZl9zdW1tYXJ5X2MsIGFlcyh5ID0gZXN0aW1hdGUsIHggPSBjcmFja2Rvd24pKSArIAogICMgZ2VvbV9wb2ludChkYXRhID0gcmVzdWx0cywgYWVzKHkgPSBhbW91bnRfZG9uYXRlLCB4ID0gY3JhY2tkb3duKSwKICAjICAgICAgICAgICAgY29sb3IgPSAiZ3JleTUwIiwgc2l6ZSA9IDAuNSwgYWxwaGEgPSAwLjI1KSArCiAgZ2VvbV9wb2ludHJhbmdlKGFlcyh5bWluID0gY29uZi5sb3csIHltYXggPSBjb25mLmhpZ2gpLCBjb2xvciA9IG5nb19jb2xzKCJncmVlbiIpKSArIAogIHNjYWxlX3lfY29udGludW91cyhsYWJlbHMgPSBkb2xsYXIpICsKICBsYWJzKHggPSBOVUxMLCB5ID0gIk1lZGlhbiBhbW91bnQgZG9uYXRlZCIpICsKICAjIGNvb3JkX2NhcnRlc2lhbih5bGltID0gYygwLCAxMDApKSArCiAgdGhlbWVfbmdvcygpICsKICB0aGVtZShwYW5lbC5ncmlkLm1ham9yLnggPSBlbGVtZW50X2JsYW5rKCkpCmBgYAoKYGBge3IgYW1vdW50LW1lZGlhbi1pfQpuZXdkYXRhX2NvbmRpdGlvbnNfaSA8LSByZXN1bHRzICU+JSBleHBhbmQobmVzdGluZyhpc3N1ZSkpCgpjaGFpbnNfZml0dGVkX2kgPC0gcG9zdGVyaW9yX2xpbnByZWQobV9hbW91bnRfaSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdkYXRhID0gbmV3ZGF0YV9jb25kaXRpb25zX2kpCgpjb2VmX3N1bW1hcnlfaSA8LSBuZXdkYXRhX2NvbmRpdGlvbnNfaSAlPiUgCiAgYmluZF9jb2xzKHRpZHlNQ01DKGFzLm1jbWMoY2hhaW5zX2ZpdHRlZF9pKSwgZXN0aW1hdGUubWV0aG9kID0gIm1lZGlhbiIsCiAgICAgICAgICAgICAgICAgICAgIGNvbmYuaW50ID0gVFJVRSwgY29uZi5sZXZlbCA9IDAuOSwgY29uZi5tZXRob2QgPSAiSFBEaW50ZXJ2YWwiKSkKYGBgCgpgYGB7ciBhbW91bnQtbWVkaWFuLWZ9Cm5ld2RhdGFfY29uZGl0aW9uc19mIDwtIHJlc3VsdHMgJT4lIGV4cGFuZChuZXN0aW5nKGZ1bmRpbmcpKQoKY2hhaW5zX2ZpdHRlZF9mIDwtIHBvc3Rlcmlvcl9saW5wcmVkKG1fYW1vdW50X2YsIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3ZGF0YSA9IG5ld2RhdGFfY29uZGl0aW9uc19mKQoKY29lZl9zdW1tYXJ5X2YgPC0gbmV3ZGF0YV9jb25kaXRpb25zX2YgJT4lIAogIGJpbmRfY29scyh0aWR5TUNNQyhhcy5tY21jKGNoYWluc19maXR0ZWRfZiksIGVzdGltYXRlLm1ldGhvZCA9ICJtZWRpYW4iLAogICAgICAgICAgICAgICAgICAgICBjb25mLmludCA9IFRSVUUsIGNvbmYubGV2ZWwgPSAwLjksIGNvbmYubWV0aG9kID0gIkhQRGludGVydmFsIikpCmBgYAoKYGBge3IgYW1vdW50LW1lZGlhbi1jaX0KbmV3ZGF0YV9jb25kaXRpb25zX2NpIDwtIHJlc3VsdHMgJT4lIGV4cGFuZChuZXN0aW5nKGNyYWNrZG93biwgaXNzdWUpKQoKY2hhaW5zX2ZpdHRlZF9jaSA8LSBwb3N0ZXJpb3JfbGlucHJlZChtX2Ftb3VudF9jaSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3ZGF0YSA9IG5ld2RhdGFfY29uZGl0aW9uc19jaSkKCmNvZWZfc3VtbWFyeV9jaSA8LSBuZXdkYXRhX2NvbmRpdGlvbnNfY2kgJT4lIAogIGJpbmRfY29scyh0aWR5TUNNQyhhcy5tY21jKGNoYWluc19maXR0ZWRfY2kpLCBlc3RpbWF0ZS5tZXRob2QgPSAibWVkaWFuIiwKICAgICAgICAgICAgICAgICAgICAgY29uZi5pbnQgPSBUUlVFLCBjb25mLmxldmVsID0gMC45LCBjb25mLm1ldGhvZCA9ICJIUERpbnRlcnZhbCIpKQoKcGxvdF9hbW91bnRfY2kgPC0gZ2dwbG90KGNvZWZfc3VtbWFyeV9jaSwgYWVzKHkgPSBlc3RpbWF0ZSwgeCA9IGNyYWNrZG93bikpICsgCiAgIyBnZW9tX3BvaW50KGRhdGEgPSByZXN1bHRzLCBhZXMoeSA9IGFtb3VudF9kb25hdGUsIHggPSBjcmFja2Rvd24pLAogICMgICAgICAgICAgICBjb2xvciA9ICJncmV5NTAiLCBzaXplID0gMC41LCBhbHBoYSA9IDAuMjUpICsKICBnZW9tX3BvaW50cmFuZ2UoYWVzKHltaW4gPSBjb25mLmxvdywgeW1heCA9IGNvbmYuaGlnaCksIGNvbG9yID0gbmdvX2NvbHMoImJsdWUiKSkgKyAKICBzY2FsZV95X2NvbnRpbnVvdXMobGFiZWxzID0gZG9sbGFyKSArCiAgbGFicyh4ID0gTlVMTCwgeSA9ICJNZWRpYW4gYW1vdW50IGRvbmF0ZWQiKSArCiAgIyBjb29yZF9jYXJ0ZXNpYW4oeWxpbSA9IGMoMCwgMTAwKSkgKwogIHRoZW1lX25nb3MoKSArCiAgdGhlbWUocGFuZWwuZ3JpZC5tYWpvci54ID0gZWxlbWVudF9ibGFuaygpLAogICAgICAgIHN0cmlwLnRleHQgPSBlbGVtZW50X3RleHQobWFyZ2luID0gbWFyZ2luKDUsIDAsIDIsIDAsICJwdCIpKSkgKwogIGZhY2V0X3dyYXAofiBpc3N1ZSkKYGBgCgpgYGB7ciBhbW91bnQtbWVkaWFuLWNpZn0KbmV3ZGF0YV9jb25kaXRpb25zX2NpZiA8LSByZXN1bHRzICU+JSBleHBhbmQobmVzdGluZyhjcmFja2Rvd24sIGlzc3VlLCBmdW5kaW5nKSkKCmNoYWluc19maXR0ZWRfY2lmIDwtIHBvc3Rlcmlvcl9saW5wcmVkKG1fYW1vdW50X2NpZiwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld2RhdGEgPSBuZXdkYXRhX2NvbmRpdGlvbnNfY2lmKQoKY29lZl9zdW1tYXJ5X2NpZiA8LSBuZXdkYXRhX2NvbmRpdGlvbnNfY2lmICU+JSAKICBiaW5kX2NvbHModGlkeU1DTUMoYXMubWNtYyhjaGFpbnNfZml0dGVkX2NpZiksIGVzdGltYXRlLm1ldGhvZCA9ICJtZWRpYW4iLAogICAgICAgICAgICAgICAgICAgICBjb25mLmludCA9IFRSVUUsIGNvbmYubGV2ZWwgPSAwLjksIGNvbmYubWV0aG9kID0gIkhQRGludGVydmFsIikpCgpwbG90X2Ftb3VudF9jaWYgPC0gZ2dwbG90KGNvZWZfc3VtbWFyeV9jaWYsIGFlcyh5ID0gZXN0aW1hdGUsIHggPSBjcmFja2Rvd24pKSArIAogICMgZ2VvbV9wb2ludChkYXRhID0gcmVzdWx0cywgYWVzKHkgPSBhbW91bnRfZG9uYXRlLCB4ID0gY3JhY2tkb3duKSwKICAjICAgICAgICAgICAgY29sb3IgPSAiZ3JleTUwIiwgc2l6ZSA9IDAuNSwgYWxwaGEgPSAwLjUpICsKICBnZW9tX3BvaW50cmFuZ2UoYWVzKHltaW4gPSBjb25mLmxvdywgeW1heCA9IGNvbmYuaGlnaCksIGNvbG9yID0gbmdvX2NvbHMoInJlZCIpKSArCiAgc2NhbGVfeV9jb250aW51b3VzKGxhYmVscyA9IGRvbGxhcikgKwogIGxhYnMoeCA9IE5VTEwsIHkgPSAiTWVkaWFuIGFtb3VudCBkb25hdGVkIikgKwogIHRoZW1lX25nb3MoKSArCiAgdGhlbWUocGFuZWwuZ3JpZC5tYWpvci54ID0gZWxlbWVudF9ibGFuaygpLAogICAgICAgIHN0cmlwLnRleHQgPSBlbGVtZW50X3RleHQobWFyZ2luID0gbWFyZ2luKDUsIDAsIDIsIDAsICJwdCIpKSkgKwogIGZhY2V0X3dyYXAofiBpc3N1ZSArIGZ1bmRpbmcpCmBgYAoKYGBge3IgcGxvdC1zaW5nbGUtYW1vdW50LW1lZGlhbnMsIHdhcm5pbmc9RkFMU0UsIGZpZy53aWR0aD03LCBmaWcuaGVpZ2h0PTIuNX0KY29lZl9zdW1tYXJ5X3NpbmdsZXMgPC0gYmluZF9yb3dzKGNvZWZfc3VtbWFyeV9jLCBjb2VmX3N1bW1hcnlfaSwgY29lZl9zdW1tYXJ5X2YpICU+JSAKICBnYXRoZXIoY29uZGl0aW9uLCB2YWx1ZSwgY3JhY2tkb3duLCBpc3N1ZSwgZnVuZGluZykgJT4lIAogIGZpbHRlcighaXMubmEodmFsdWUpKSAlPiUgCiAgbXV0YXRlKHZhbHVlID0gZmN0X2lub3JkZXIodmFsdWUsIG9yZGVyZWQgPSBUUlVFKSwKICAgICAgICAgY29uZGl0aW9uID0gZmN0X2lub3JkZXIoc3RyX3RvX3RpdGxlKGNvbmRpdGlvbiksIG9yZGVyZWQgPSBUUlVFKSkKCnBsb3RfYW1vdW50X3NpbmdsZXMgPC0gZ2dwbG90KGNvZWZfc3VtbWFyeV9zaW5nbGVzLCBhZXMoeSA9IGVzdGltYXRlLCB4ID0gdmFsdWUpKSArIAogIGdlb21fcG9pbnRyYW5nZShhZXMoeW1pbiA9IGNvbmYubG93LCB5bWF4ID0gY29uZi5oaWdoLCBjb2xvciA9IGNvbmRpdGlvbikpICsKICBzY2FsZV95X2NvbnRpbnVvdXMobGFiZWxzID0gZG9sbGFyKSArCiAgc2NhbGVfY29sb3JfbWFudWFsKHZhbHVlcyA9IG5nb19jb2xzKCJncmVlbiIsICJibHVlIiwgInJlZCIsIG5hbWUgPSBGQUxTRSksIGd1aWRlID0gRkFMU0UpICsKICBsYWJzKHggPSBOVUxMLCB5ID0gIk1lZGlhbiBhbW91bnQgZG9uYXRlZCIpICsKICB0aGVtZV9uZ29zKCkgKwogIHRoZW1lKHBhbmVsLmdyaWQubWFqb3IueCA9IGVsZW1lbnRfYmxhbmsoKSwKICAgICAgICBzdHJpcC50ZXh0ID0gZWxlbWVudF90ZXh0KG1hcmdpbiA9IG1hcmdpbig1LCAwLCAyLCAwLCAicHQiKSkpICsKICBmYWNldF93cmFwKH4gY29uZGl0aW9uLCBzY2FsZXMgPSAiZnJlZV94IikKCnBsb3RfYW1vdW50X3NpbmdsZXMgJVQ+JQogIHByaW50KCkgJVQ+JQogIGdnc2F2ZSguLCBmaWxlbmFtZSA9IGZpbGUucGF0aChoZXJlKCksICJvdXRwdXQiLCAiZmlndXJlcyIsICJhbW91bnRfc2luZ2xlX3N1bW1hcnkucGRmIiksCiAgICAgICAgIHdpZHRoID0gNywgaGVpZ2h0ID0gMi41LCB1bml0cyA9ICJpbiIsIGRldmljZSA9IGNhaXJvX3BkZikgJT4lIAogIGdnc2F2ZSguLCBmaWxlbmFtZSA9IGZpbGUucGF0aChoZXJlKCksICJvdXRwdXQiLCAiZmlndXJlcyIsICJhbW91bnRfc2luZ2xlX3N1bW1hcnkucG5nIiksCiAgICAgICAgIHdpZHRoID0gNywgaGVpZ2h0ID0gMi41LCB1bml0cyA9ICJpbiIsIHR5cGUgPSAiY2Fpcm8iLCBkcGkgPSAzMDApCmBgYAoKYGBge3IgcGxvdC1hbGwtYW1vdW50LW1lZGlhbnMsIGZpZy53aWR0aD04LCBmaWcuaGVpZ2h0PTZ9CnBsb3RfYW1vdW50X2FsbCA8LSAKICAocGxvdF9hbW91bnRfYyAvIHBsb3RfYW1vdW50X2NpKSB8IAogIHBsb3RfYW1vdW50X2NpZgoKcGxvdF9hbW91bnRfYWxsICsKICBwbG90X2Fubm90YXRpb24odGl0bGUgPSAiTWVkaWFuIGRvbmF0aW9uIGluIGNvbnRyb2wgYW5kIGNyYWNrZG93biBncm91cHMsXG5jb25kaXRpb25lZCBieSBvdGhlciBleHBlcmltZW50YWwgZ3JvdXBzIiwKICAgICAgICAgICAgICAgICAgc3VidGl0bGUgPSAiOTAlIGNyZWRpYmxlIGludGVydmFscyBzaG93biBhcm91bmQgZWFjaCBwb2ludCIsCiAgICAgICAgICAgICAgICAgIHRhZ19sZXZlbHMgPSAiQSIsIHRoZW1lID0gdGhlbWVfbmdvcygpKQoKKHBsb3RfYW1vdW50X2FsbCArIAogICAgcGxvdF9hbm5vdGF0aW9uKGNhcHRpb24gPSAiOTAlIGNyZWRpYmxlIGludGVydmFscyBzaG93biBhcm91bmQgZWFjaCBwb2ludCIsCiAgICAgICAgICAgICAgICAgICAgdGFnX2xldmVscyA9ICJBIiwgdGhlbWUgPSB0aGVtZV9uZ29zKCkpKSAlVD4lIAogIGdnc2F2ZSguLCBmaWxlbmFtZSA9IGZpbGUucGF0aChoZXJlKCksICJvdXRwdXQiLCAiZmlndXJlcyIsICJhbW91bnQtbWVkaWFucy5wZGYiKSwKICAgICAgICAgd2lkdGggPSA4LCBoZWlnaHQgPSA0LjI1LCB1bml0cyA9ICJpbiIsIGRldmljZSA9IGNhaXJvX3BkZikgJT4lIAogIGdnc2F2ZSguLCBmaWxlbmFtZSA9IGZpbGUucGF0aChoZXJlKCksICJvdXRwdXQiLCAiZmlndXJlcyIsICJhbW91bnQtbWVkaWFucy5wbmciKSwKICAgICAgICAgd2lkdGggPSA4LCBoZWlnaHQgPSA0LjI1LCB1bml0cyA9ICJpbiIsIHR5cGUgPSAiY2Fpcm8iLCBkcGkgPSAzMDApCmBgYAoKCiMjIERpZmZlcmVuY2VzIGluIG1lZGlhbnMKCmBgYHtyIGFtb3VudC1kaWZmcy1jfQpkaWZmc19jb2VmX3BhaXJzX2MgPC0gY2hhaW5zX2ZpdHRlZF9jICU+JSAKICBhc19kYXRhX2ZyYW1lKCkgJT4lIAogIG1hZ3JpdHRyOjpzZXRfY29sbmFtZXMobGV2ZWxzKG5ld2RhdGFfY29uZGl0aW9uc19jJGNyYWNrZG93bikpICU+JSAKICBtY21jX3BhaXJ3aXNlX2RpZmZzKCkKCmRpZmZzX2NvZWZfcGFpcnNfZGV0YWlsX2MgPC0gdGlkeV9kaWZmcyhkaWZmc19jb2VmX3BhaXJzX2MpCgpwYWlyc19wbG90X2RhdGFfYyA8LSBkaWZmc19jb2VmX3BhaXJzX2MgJT4lCiAgZ2F0aGVyKHBhaXIsIHZhbHVlKSAlPiUKICBtdXRhdGUocGFpcjEgPSBwYWlyKSAlPiUKICBzZXBhcmF0ZShwYWlyMSwgaW50byA9IGMoImdyb3VwMSIsICJncm91cDIiKSwgc2VwID0gIiDiiJIgIikgJT4lCiAgbXV0YXRlKHBhaXIgPSBpZmVsc2UobmNoYXIocGFpcikgPiAyNSwKICAgICAgICAgICAgICAgICAgICAgICBzdHJfcmVwbGFjZShwYWlyLCAi4oiSIiwgIuKIklxuIiksCiAgICAgICAgICAgICAgICAgICAgICAgcGFpcikpCiAgCnBsb3RfZGlmZnNfYyA8LSBnZ3Bsb3QoKSArIAogIGdlb21fZGVuc2l0eShkYXRhID0gcGFpcnNfcGxvdF9kYXRhX2MsIGFlcyh4ID0gdmFsdWUpLAogICAgICAgICAgICAgICBmaWxsID0gbmdvX2NvbHMoImdyZWVuIiksIGNvbG91ciA9IE5BLCBhbHBoYSA9IDAuNCkgKyAKICBnZW9tX3NlZ21lbnQoZGF0YSA9IGRpZmZzX2NvZWZfcGFpcnNfZGV0YWlsX2MsIAogICAgICAgICAgICAgICBhZXMoeCA9IHE1LCB4ZW5kID0gcTk1LCB5ID0gMCwgeWVuZCA9IDApLAogICAgICAgICAgICAgICBzaXplID0gMykgKwogIGdlb21fdmxpbmUoZGF0YSA9IGRpZmZzX2NvZWZfcGFpcnNfZGV0YWlsX2MsIGFlcyh4aW50ZXJjZXB0ID0gbWVkaWFuKSwgc2l6ZSA9IDAuMjUpICsKICBnZW9tX3ZsaW5lKHhpbnRlcmNlcHQgPSAwLCBsaW5ldHlwZSA9ICJkb3R0ZWQiKSArCiAgZ3VpZGVzKGZpbGwgPSBGQUxTRSwgY29sb3IgPSBGQUxTRSkgKwogIGxhYnMoeCA9ICJEaWZmZXJlbmNlIGluIG1lZGlhbnMiKSArCiAgdGhlbWVfbmdvcyhkZW5zaXR5ID0gVFJVRSkgKwogIGZhY2V0X3dyYXAofiBwYWlyKQpgYGAKCmBgYHtyIGFtb3VudC1kaWZmcy1pfQpkaWZmc19jb2VmX3BhaXJzX2kgPC0gY2hhaW5zX2ZpdHRlZF9pICU+JSAKICBhc19kYXRhX2ZyYW1lKCkgJT4lIAogIG1hZ3JpdHRyOjpzZXRfY29sbmFtZXMobGV2ZWxzKG5ld2RhdGFfY29uZGl0aW9uc19pJGlzc3VlKSkgJT4lIAogIG1jbWNfcGFpcndpc2VfZGlmZnMoKQoKZGlmZnNfY29lZl9wYWlyc19kZXRhaWxfaSA8LSB0aWR5X2RpZmZzKGRpZmZzX2NvZWZfcGFpcnNfaSkKCnBhaXJzX3Bsb3RfZGF0YV9pIDwtIGRpZmZzX2NvZWZfcGFpcnNfaSAlPiUKICBnYXRoZXIocGFpciwgdmFsdWUpICU+JQogIG11dGF0ZShwYWlyMSA9IHBhaXIpICU+JQogIHNlcGFyYXRlKHBhaXIxLCBpbnRvID0gYygiZ3JvdXAxIiwgImdyb3VwMiIpLCBzZXAgPSAiIOKIkiAiKSAlPiUKICBtdXRhdGUocGFpciA9IGlmZWxzZShuY2hhcihwYWlyKSA+IDI1LAogICAgICAgICAgICAgICAgICAgICAgIHN0cl9yZXBsYWNlKHBhaXIsICLiiJIiLCAi4oiSXG4iKSwKICAgICAgICAgICAgICAgICAgICAgICBwYWlyKSkKYGBgCgpgYGB7ciBhbW91bnQtZGlmZnMtZn0KZGlmZnNfY29lZl9wYWlyc19mIDwtIGNoYWluc19maXR0ZWRfZiAlPiUgCiAgYXNfZGF0YV9mcmFtZSgpICU+JSAKICBtYWdyaXR0cjo6c2V0X2NvbG5hbWVzKGxldmVscyhuZXdkYXRhX2NvbmRpdGlvbnNfZiRmdW5kaW5nKSkgJT4lIAogIG1jbWNfcGFpcndpc2VfZGlmZnMoKQoKZGlmZnNfY29lZl9wYWlyc19kZXRhaWxfZiA8LSB0aWR5X2RpZmZzKGRpZmZzX2NvZWZfcGFpcnNfZikKCnBhaXJzX3Bsb3RfZGF0YV9mIDwtIGRpZmZzX2NvZWZfcGFpcnNfZiAlPiUKICBnYXRoZXIocGFpciwgdmFsdWUpICU+JQogIG11dGF0ZShwYWlyMSA9IHBhaXIpICU+JQogIHNlcGFyYXRlKHBhaXIxLCBpbnRvID0gYygiZ3JvdXAxIiwgImdyb3VwMiIpLCBzZXAgPSAiIOKIkiAiKSAlPiUKICBtdXRhdGUocGFpciA9IGlmZWxzZShuY2hhcihwYWlyKSA+IDI1LAogICAgICAgICAgICAgICAgICAgICAgIHN0cl9yZXBsYWNlKHBhaXIsICLiiJIiLCAi4oiSXG4iKSwKICAgICAgICAgICAgICAgICAgICAgICBwYWlyKSkKYGBgCgpgYGB7ciBhbW91bnQtZGlmZnMtY2l9CiMgTmVzdCBlYWNoIGZpdHRlZCBjaGFpbiBpbnRvIGEgc2luZ2xlIHJvdyB0aGF0IGNvcnJlc3BvbmRzIHRvIGVhY2ggbmV3ZGF0YV9jb25kaXRpb24KY2hhaW5zX25lc3RlZF9jaSA8LSBjaGFpbnNfZml0dGVkX2NpICU+JSAKICBhc19kYXRhX2ZyYW1lKCkgJT4lIAogIG11dGF0ZShpZCA9IDE6bigpKSAlPiUgCiAgZ2F0aGVyKGNvbmRpdGlvbiwgdmFsdWUsIC1pZCkgJT4lIAogIGdyb3VwX2J5KGNvbmRpdGlvbikgJT4lIAogIG5lc3QoKQoKIyBBZGQgdGhlIGZpdHRlZCBjaGFpbnMgdG8gdGhlIGNvbmRpdGlvbnMsIHNwcmVhZCB0aGUgbWFpbiBjcmFja2Rvd24gY29uZGl0aW9uCiMgaW50byB0d28gY29sdW1ucywgdGhlbiBuZXN0IGV2ZXJ5dGhpbmcgYnkgaXNzdWUKYWxsX2NoYWluc19jaSA8LSBiaW5kX2NvbHMobmV3ZGF0YV9jb25kaXRpb25zX2NpLCBjaGFpbnNfbmVzdGVkX2NpKSAlPiUgCiAgdW5uZXN0KGRhdGEpICU+JSAKICBzZWxlY3QoLWNvbmRpdGlvbikgJT4lIAogIGdyb3VwX2J5KGlzc3VlKSAlPiUgCiAgc3ByZWFkKGNyYWNrZG93biwgdmFsdWUpICU+JSAKICBzZWxlY3QoLWlkKSAlPiUgCiAgbmVzdCgpCgojIEFsbCB0aGUgcGFpcndpc2UgZGlmZmVyZW5jZXMgaW4gYSBzaW5nbGUgZGF0YSBmcmFtZSwgZ3JvdXBlZCBieSBpc3N1ZQpwYWlyc19jb25kaXRpb25zX2NpIDwtIGFsbF9jaGFpbnNfY2kgJT4lIAogIG11dGF0ZShkaWZmc19jb2VmX3BhaXJzID0gZGF0YSAlPiUgbWFwKH4gbWNtY19wYWlyd2lzZV9kaWZmcyguKSksCiAgICAgICAgIGRpZmZzX2NvZWZfcGFpcnNfZGV0YWlsID0gZGlmZnNfY29lZl9wYWlycyAlPiUgbWFwKH4gdGlkeV9kaWZmcyguKSkpCgojIEV4dHJhY3QgY29lZmZpY2llbnQgZGV0YWlscyBhbmQgcGxvdCBkYXRhCmRpZmZzX2NvZWZfcGFpcnNfZGV0YWlsX2NpIDwtIHBhaXJzX2NvbmRpdGlvbnNfY2kgJT4lIAogIHVubmVzdChkaWZmc19jb2VmX3BhaXJzX2RldGFpbCkgJT4lIAogIHNlbGVjdCgtZGF0YSwgLWRpZmZzX2NvZWZfcGFpcnMpCgpwYWlyc19wbG90X2RhdGFfY2kgPC0gcGFpcnNfY29uZGl0aW9uc19jaSAlPiUgCiAgc2VsZWN0KGlzc3VlLCBkaWZmc19jb2VmX3BhaXJzKSAlPiUgCiAgdW5uZXN0KGRpZmZzX2NvZWZfcGFpcnMpICU+JQogIGdhdGhlcihwYWlyLCB2YWx1ZSwgLWlzc3VlKSAlPiUKICBtdXRhdGUocGFpcjEgPSBwYWlyKSAlPiUKICBzZXBhcmF0ZShwYWlyMSwgaW50byA9IGMoImdyb3VwMSIsICJncm91cDIiKSwgc2VwID0gIiDiiJIgIikgJT4lCiAgbXV0YXRlKHBhaXIgPSBpZmVsc2UobmNoYXIocGFpcikgPiAyNSwKICAgICAgICAgICAgICAgICAgICAgICBzdHJfcmVwbGFjZShwYWlyLCAi4oiSIiwgIuKIklxuIiksCiAgICAgICAgICAgICAgICAgICAgICAgcGFpcikpCgpwbG90X2RpZmZzX2NpIDwtIGdncGxvdCgpICsgCiAgZ2VvbV9kZW5zaXR5KGRhdGEgPSBwYWlyc19wbG90X2RhdGFfY2ksIGFlcyh4ID0gdmFsdWUpLAogICAgICAgICAgICAgICBmaWxsID0gbmdvX2NvbHMoImJsdWUiKSwgY29sb3VyID0gTkEsIGFscGhhID0gMC40KSArIAogIGdlb21fc2VnbWVudChkYXRhID0gZGlmZnNfY29lZl9wYWlyc19kZXRhaWxfY2ksIAogICAgICAgICAgICAgICBhZXMoeCA9IHE1LCB4ZW5kID0gcTk1LCB5ID0gMCwgeWVuZCA9IDApLAogICAgICAgICAgICAgICBzaXplID0gMykgKwogIGdlb21fdmxpbmUoZGF0YSA9IGRpZmZzX2NvZWZfcGFpcnNfZGV0YWlsX2NpLCBhZXMoeGludGVyY2VwdCA9IG1lZGlhbiksIHNpemUgPSAwLjI1KSArCiAgZ2VvbV92bGluZSh4aW50ZXJjZXB0ID0gMCwgbGluZXR5cGUgPSAiZG90dGVkIikgKwogIGd1aWRlcyhmaWxsID0gRkFMU0UsIGNvbG9yID0gRkFMU0UpICsKICBsYWJzKHggPSAiRGlmZmVyZW5jZSBpbiBtZWRpYW5zIikgKwogIHRoZW1lX25nb3MoZGVuc2l0eSA9IFRSVUUpICsKICBmYWNldF93cmFwKH4gaXNzdWUgKyBwYWlyKQpgYGAKCmBgYHtyIGFtb3VudC1kaWZmcy1jaWZ9CiMgTmVzdCBlYWNoIGZpdHRlZCBjaGFpbiBpbnRvIGEgc2luZ2xlIHJvdyB0aGF0IGNvcnJlc3BvbmRzIHRvIGVhY2ggbmV3ZGF0YV9jb25kaXRpb24KY2hhaW5zX25lc3RlZF9jaWYgPC0gY2hhaW5zX2ZpdHRlZF9jaWYgJT4lIAogIGFzX2RhdGFfZnJhbWUoKSAlPiUgCiAgbXV0YXRlKGlkID0gMTpuKCkpICU+JSAKICBnYXRoZXIoY29uZGl0aW9uLCB2YWx1ZSwgLWlkKSAlPiUgCiAgZ3JvdXBfYnkoY29uZGl0aW9uKSAlPiUgCiAgbmVzdCgpCgojIEFkZCB0aGUgZml0dGVkIGNoYWlucyB0byB0aGUgY29uZGl0aW9ucywgc3ByZWFkIHRoZSBtYWluIGNyYWNrZG93biBjb25kaXRpb24KIyBpbnRvIHR3byBjb2x1bW5zLCB0aGVuIG5lc3QgZXZlcnl0aGluZyBieSBpc3N1ZQphbGxfY2hhaW5zX2NpZiA8LSBiaW5kX2NvbHMobmV3ZGF0YV9jb25kaXRpb25zX2NpZiwgY2hhaW5zX25lc3RlZF9jaWYpICU+JSAKICB1bm5lc3QoZGF0YSkgJT4lIAogIHNlbGVjdCgtY29uZGl0aW9uKSAlPiUgCiAgZ3JvdXBfYnkoaXNzdWUsIGZ1bmRpbmcpICU+JSAKICBzcHJlYWQoY3JhY2tkb3duLCB2YWx1ZSkgJT4lIAogIHNlbGVjdCgtaWQpICU+JSAKICBuZXN0KCkKCiMgQWxsIHRoZSBwYWlyd2lzZSBkaWZmZXJlbmNlcyBpbiBhIHNpbmdsZSBkYXRhIGZyYW1lLCBncm91cGVkIGJ5IGlzc3VlCnBhaXJzX2NvbmRpdGlvbnNfY2lmIDwtIGFsbF9jaGFpbnNfY2lmICU+JSAKICBtdXRhdGUoZGlmZnNfY29lZl9wYWlycyA9IGRhdGEgJT4lIG1hcCh+IG1jbWNfcGFpcndpc2VfZGlmZnMoLikpLAogICAgICAgICBkaWZmc19jb2VmX3BhaXJzX2RldGFpbCA9IGRpZmZzX2NvZWZfcGFpcnMgJT4lIG1hcCh+IHRpZHlfZGlmZnMoLikpKQoKIyBFeHRyYWN0IGNvZWZmaWNpZW50IGRldGFpbHMgYW5kIHBsb3QgZGF0YQpkaWZmc19jb2VmX3BhaXJzX2RldGFpbF9jaWYgPC0gcGFpcnNfY29uZGl0aW9uc19jaWYgJT4lIAogIHVubmVzdChkaWZmc19jb2VmX3BhaXJzX2RldGFpbCkgJT4lIAogIHNlbGVjdCgtZGF0YSwgLWRpZmZzX2NvZWZfcGFpcnMpCgpwYWlyc19wbG90X2RhdGFfY2lmIDwtIHBhaXJzX2NvbmRpdGlvbnNfY2lmICU+JSAKICBzZWxlY3QoaXNzdWUsIGZ1bmRpbmcsIGRpZmZzX2NvZWZfcGFpcnMpICU+JSAKICB1bm5lc3QoZGlmZnNfY29lZl9wYWlycykgJT4lCiAgZ2F0aGVyKHBhaXIsIHZhbHVlLCAtaXNzdWUsIC1mdW5kaW5nKSAlPiUKICBtdXRhdGUocGFpcjEgPSBwYWlyKSAlPiUKICBzZXBhcmF0ZShwYWlyMSwgaW50byA9IGMoImdyb3VwMSIsICJncm91cDIiKSwgc2VwID0gIiDiiJIgIikgJT4lCiAgbXV0YXRlKHBhaXIgPSBpZmVsc2UobmNoYXIocGFpcikgPiAyNSwKICAgICAgICAgICAgICAgICAgICAgICBzdHJfcmVwbGFjZShwYWlyLCAi4oiSIiwgIuKIklxuIiksCiAgICAgICAgICAgICAgICAgICAgICAgcGFpcikpCgpwbG90X2RpZmZzX2NpZiA8LSBnZ3Bsb3QoKSArIAogIGdlb21fZGVuc2l0eShkYXRhID0gcGFpcnNfcGxvdF9kYXRhX2NpZiwgYWVzKHggPSB2YWx1ZSksCiAgICAgICAgICAgICAgIGZpbGwgPSBuZ29fY29scygicmVkIiksIGNvbG91ciA9IE5BLCBhbHBoYSA9IDAuNCkgKyAKICBnZW9tX3NlZ21lbnQoZGF0YSA9IGRpZmZzX2NvZWZfcGFpcnNfZGV0YWlsX2NpZiwgCiAgICAgICAgICAgICAgIGFlcyh4ID0gcTUsIHhlbmQgPSBxOTUsIHkgPSAwLCB5ZW5kID0gMCksCiAgICAgICAgICAgICAgIHNpemUgPSAzKSArCiAgZ2VvbV92bGluZShkYXRhID0gZGlmZnNfY29lZl9wYWlyc19kZXRhaWxfY2lmLCBhZXMoeGludGVyY2VwdCA9IG1lZGlhbiksIHNpemUgPSAwLjI1KSArCiAgZ2VvbV92bGluZSh4aW50ZXJjZXB0ID0gMCwgbGluZXR5cGUgPSAiZG90dGVkIikgKwogIGd1aWRlcyhmaWxsID0gRkFMU0UsIGNvbG9yID0gRkFMU0UpICsKICBsYWJzKHggPSAiRGlmZmVyZW5jZSBpbiBtZWRpYW5zIikgKwogIHRoZW1lX25nb3MoZGVuc2l0eSA9IFRSVUUpICsKICBmYWNldF93cmFwKH4gaXNzdWUgKyBmdW5kaW5nICsgcGFpcikKYGBgCgoqKkNvbXBhcmUgb25seSBpbmRpdmlkdWFsIGNvbmRpdGlvbnM6KioKCmBgYHtyIHBsb3Qtc2luZ2xlLWFtb3VudC1kaWZmcywgZmlnLndpZHRoPTcsIGZpZy5oZWlnaHQ9Mi41fQpkaWZmc19wbG90X2RhdGFfc2luZ2xlcyA8LSBiaW5kX3Jvd3MocGFpcnNfcGxvdF9kYXRhX2MsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWlyc19wbG90X2RhdGFfaSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhaXJzX3Bsb3RfZGF0YV9mKSAlPiUgCiAgbXV0YXRlKHBhaXIgPSBmY3RfaW5vcmRlcihwYWlyLCBvcmRlcmVkID0gVFJVRSkpCgpkaWZmc19jb2VmX3BhaXJzX2RldGFpbF9zaW5nbGVzIDwtIGJpbmRfcm93cyhkaWZmc19jb2VmX3BhaXJzX2RldGFpbF9jLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWZmc19jb2VmX3BhaXJzX2RldGFpbF9pLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWZmc19jb2VmX3BhaXJzX2RldGFpbF9mKSAlPiUKICBtdXRhdGUocGFpciA9IGlmZWxzZShuY2hhcihwYWlyKSA+IDI1LAogICAgICAgICAgICAgICAgICAgICAgIHN0cl9yZXBsYWNlKHBhaXIsICLiiJIiLCAi4oiSXG4iKSwKICAgICAgICAgICAgICAgICAgICAgICBwYWlyKSwKICAgICAgICAgcGFpciA9IGZjdF9pbm9yZGVyKHBhaXIsIG9yZGVyZWQgPSBUUlVFKSkKCnBsb3RfZGlmZnNfc2luZ2xlcyA8LSBnZ3Bsb3QoKSArCiAgZ2VvbV9kZW5zaXR5KGRhdGEgPSBkaWZmc19wbG90X2RhdGFfc2luZ2xlcywgCiAgICAgICAgICAgICAgIGFlcyh4ID0gdmFsdWUsIGZpbGwgPSBwYWlyKSwKICAgICAgICAgICAgICAgY29sb3VyID0gTkEsIGFscGhhID0gMC40KSArCiAgZ2VvbV9zZWdtZW50KGRhdGEgPSBkaWZmc19jb2VmX3BhaXJzX2RldGFpbF9zaW5nbGVzLCAKICAgICAgICAgICAgICAgYWVzKHggPSBxNSwgeGVuZCA9IHE5NSwgeSA9IDAsIHllbmQgPSAwLCBncm91cCA9IHBhaXIpLAogICAgICAgICAgICAgICBzaXplID0gMykgKwogIGdlb21fdmxpbmUoZGF0YSA9IGRpZmZzX2NvZWZfcGFpcnNfZGV0YWlsX3NpbmdsZXMsIAogICAgICAgICAgICAgYWVzKHhpbnRlcmNlcHQgPSBtZWRpYW4pLCBzaXplID0gMC4yNSkgKwogIGdlb21fdmxpbmUoeGludGVyY2VwdCA9IDAsIGxpbmV0eXBlID0gImRvdHRlZCIpICsKICBzY2FsZV94X2NvbnRpbnVvdXMobGFiZWxzID0gZG9sbGFyKSArCiAgc2NhbGVfZmlsbF9tYW51YWwodmFsdWVzID0gbmdvX2NvbHMoImdyZWVuIiwgImJsdWUiLCAicmVkIiwgbmFtZSA9IEZBTFNFKSwgZ3VpZGUgPSBGQUxTRSkgKwogIGxhYnMoeCA9ICJEaWZmZXJlbmNlIGluIG1lZGlhbnMiKSArCiAgdGhlbWVfbmdvcyhkZW5zaXR5ID0gVFJVRSkgKwogIGZhY2V0X3dyYXAofiBwYWlyKQoKcGxvdF9kaWZmc19zaW5nbGVzICVUPiUKICBwcmludCgpICVUPiUgCiAgZ2dzYXZlKC4sIGZpbGVuYW1lID0gZmlsZS5wYXRoKGhlcmUoKSwgIm91dHB1dCIsICJmaWd1cmVzIiwgImFtb3VudC1zaW5nbGVzLWRpZmZzLnBkZiIpLAogICAgICAgICB3aWR0aCA9IDcsIGhlaWdodCA9IDIuNSwgdW5pdHMgPSAiaW4iLCBkZXZpY2UgPSBjYWlyb19wZGYpICU+JSAKICBnZ3NhdmUoLiwgZmlsZW5hbWUgPSBmaWxlLnBhdGgoaGVyZSgpLCAib3V0cHV0IiwgImZpZ3VyZXMiLCAiYW1vdW50LXNpbmdsZXMtZGlmZnMucG5nIiksCiAgICAgICAgIHdpZHRoID0gNywgaGVpZ2h0ID0gMi41LCB1bml0cyA9ICJpbiIsIHR5cGUgPSAiY2Fpcm8iLCBkcGkgPSAzMDApCmBgYAoKYGBge3IgdGJsLXNpbmdsZS1hbW91bnQtZGlmZnMsIHJlc3VsdHM9ImFzaXMifQpiaW5kX3Jvd3MoZGlmZnNfY29lZl9wYWlyc19kZXRhaWxfYywKICAgICAgICAgIGRpZmZzX2NvZWZfcGFpcnNfZGV0YWlsX2ksCiAgICAgICAgICBkaWZmc19jb2VmX3BhaXJzX2RldGFpbF9mKSAlPiUgCiAgc2VsZWN0KGBGcmFtZWAgPSBwYWlyLCBg4oiGfm1lZGlhbn5gID0gbWVkaWFuLCAKICAgICAgICAgYHAo4oiGID4gMClgID0gcC5ncmVhdGVyMCwgYHAo4oiGIDwgMClgID0gcC5sZXNzMCwgYHAo4oiGIOKJoCAwKWAgPSBwLmRpZmYubm90MCkgJT4lIAogIHBhbmRvYy50YWJsZS5yZXR1cm4obWlzc2luZyA9ICLigJQiLCAKICAgICAgICAgICAgICAgICAgICAgIGNhcHRpb24gPSAiTWVkaWFuIGRpZmZlcmVuY2UgYmV0d2VlbiBsaWtlbGlob29kIHRvIGRvbmF0ZSBhY3Jvc3Mgc2luZ2xlIGNvbmRpdGlvbnMiKSAlVD4lCiAgY2F0KCkgJT4lIAogIGNhdChmaWxlID0gZmlsZS5wYXRoKGhlcmUoKSwgIm91dHB1dCIsICJ0YWJsZXMiLCAidGJsLWFtb3VudC1zaW5nbGUtZGlmZnMubWQiKSkKYGBgCgpcCgoqKkNvbXBhcmUgbmVzdGVkIGNvbmRpdGlvbnMgKHdoYXQgd2UncmUgcmVhbGx5IG1vc3QgY29uY2VybmVkIGFib3V0KToqKgoKYGBge3IgcGxvdC1hbGwtYW1vdW50LWRpZmZzLCBmaWcud2lkdGg9OCwgZmlnLmhlaWdodD02fQpwbG90X2RpZmZzX2FsbCA8LSAKICAocGxvdF9kaWZmc19jIC8gcGxvdF9kaWZmc19jaSkgfCAKICBwbG90X2RpZmZzX2NpZgoKcGxvdF9kaWZmc19hbGwgKwogIHBsb3RfYW5ub3RhdGlvbih0aXRsZSA9ICJEaWZmZXJlbmNlcyBpbiBtZWRpYW4gYW1vdW50IGRvbmF0ZWQgaW4gY29udHJvbCBhbmQgY3JhY2tkb3duIGdyb3VwcyxcbmNvbmRpdGlvbmVkIGJ5IG90aGVyIGV4cGVyaW1lbnRhbCBncm91cHMiLAogICAgICAgICAgICAgICAgICBzdWJ0aXRsZSA9ICI5MCUgY3JlZGlibGUgaW50ZXJ2YWxzIHNob3duIGluIGJsYWNrLiBTb2xpZCB2ZXJ0aWNhbCBsaW5lID0gbWVkaWFuOyBkb3R0ZWQgdmVydGljYWwgbGluZSA9IDAiLAogICAgICAgICAgICAgICAgICB0YWdfbGV2ZWxzID0gIkEiLCB0aGVtZSA9IHRoZW1lX25nb3MoKSkKCihwbG90X2RpZmZzX2FsbCArCiAgcGxvdF9hbm5vdGF0aW9uKGNhcHRpb24gPSAiOTAlIGNyZWRpYmxlIGludGVydmFscyBzaG93biBpbiBibGFjay4gU29saWQgdmVydGljYWwgbGluZSA9IG1lZGlhbjsgZG90dGVkIHZlcnRpY2FsIGxpbmUgPSAwIiwKICAgICAgICAgICAgICAgICAgdGFnX2xldmVscyA9ICJBIiwgdGhlbWUgPSB0aGVtZV9uZ29zKCkpKSAlVD4lIAogIGdnc2F2ZSguLCBmaWxlbmFtZSA9IGZpbGUucGF0aChoZXJlKCksICJvdXRwdXQiLCAiZmlndXJlcyIsICJhbW91bnQtZGlmZnMucGRmIiksCiAgICAgICAgIHdpZHRoID0gOCwgaGVpZ2h0ID0gNSwgdW5pdHMgPSAiaW4iLCBkZXZpY2UgPSBjYWlyb19wZGYpICU+JSAKICBnZ3NhdmUoLiwgZmlsZW5hbWUgPSBmaWxlLnBhdGgoaGVyZSgpLCAib3V0cHV0IiwgImZpZ3VyZXMiLCAiYW1vdW50LWRpZmZzLnBuZyIpLAogICAgICAgICB3aWR0aCA9IDgsIGhlaWdodCA9IDUsIHVuaXRzID0gImluIiwgdHlwZSA9ICJjYWlybyIsIGRwaSA9IDMwMCkKYGBgCgpgYGB7ciB0YmwtYWxsLWFtb3VudC1kaWZmcywgcmVzdWx0cz0iYXNpcyJ9CmJpbmRfcm93cyhkaWZmc19jb2VmX3BhaXJzX2RldGFpbF9jLAogICAgICAgICAgZGlmZnNfY29lZl9wYWlyc19kZXRhaWxfY2ksCiAgICAgICAgICBkaWZmc19jb2VmX3BhaXJzX2RldGFpbF9jaWYpICU+JSAKICBzZWxlY3QoSXNzdWUgPSBpc3N1ZSwgRnVuZGluZyA9IGZ1bmRpbmcsIAogICAgICAgICBgTm8gY3JhY2tkb3duIOKIkiBjcmFja2Rvd25+bWVkaWFufmAgPSBtZWRpYW4sIAogICAgICAgICBgcCjiiIYgPiAwKWAgPSBwLmdyZWF0ZXIwLCBgcCjiiIYgPCAwKWAgPSBwLmxlc3MwLCBgcCjiiIYg4omgIDApYCA9IHAuZGlmZi5ub3QwKSAlPiUgCiAgcGFuZG9jLnRhYmxlLnJldHVybihtaXNzaW5nID0gIuKAlCIsIAogICAgICAgICAgICAgICAgICAgICAgY2FwdGlvbiA9ICdNZWRpYW4gZGlmZmVyZW5jZSBiZXR3ZWVuIGFtb3VudHMgZG9uYXRlZCBpbiAibm8gY3JhY2tkb3duIiAoY29udHJvbCkgYW5kICJjcmFja2Rvd24iIGNvbmRpdGlvbnMnKSAlVD4lCiAgY2F0KCkgJT4lIAogIGNhdChmaWxlID0gZmlsZS5wYXRoKGhlcmUoKSwgIm91dHB1dCIsICJ0YWJsZXMiLCAidGJsLWFtb3VudC1kaWZmcy5tZCIpKQpgYGAKClwKCiMgTGlrZWxpaG9vZCBvZiBkb25hdGlvbgoKIyMgTW9kZWxzCgpgYGB7ciBidWlsZC1tb2RlbHMtbGlrZWx5LCB3YXJuaW5nPUZBTFNFLCBtZXNzYWdlPUZBTFNFLCBjYWNoZT1UUlVFfQojIEJhc2ljIGludGVyYWN0aW9uIG1vZGVscwojIFdlYWtseSBpbmZvcm1hdGl2ZSBzdHVkZW50IHQgcHJpb3JzLCBzaW5jZSB0aGVzZSBjb2VmZmljaWVudHMgYXJlIGxvZy1vZGRzCiMgU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9zdGFuLWRldi9zdGFuL3dpa2kvUHJpb3ItQ2hvaWNlLVJlY29tbWVuZGF0aW9ucyNwcmlvci1mb3ItdGhlLXJlZ3Jlc3Npb24tY29lZmZpY2llbnRzLWluLWxvZ2lzdGljLXJlZ3Jlc3Npb24tbm9uLXNwYXJzZS1jYXNlIGFuZCBodHRwczovL2FyeGl2Lm9yZy9hYnMvMTUwNy4wNzE3MAptX2xpa2VseV9jIDwtIHN0YW5fZ2xtKGRvbmF0ZV9saWtlbHlfYmluIH4gY3JhY2tkb3duLAogICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSByZXN1bHRzLCBmYW1pbHkgPSBiaW5vbWlhbChsaW5rID0gImxvZ2l0IiksCiAgICAgICAgICAgICAgICAgICAgICAgcHJpb3IgPSBzdHVkZW50X3QoMywgMCwgMi41KSwKICAgICAgICAgICAgICAgICAgICAgICBwcmlvcl9pbnRlcmNlcHQgPSBzdHVkZW50X3QoMywgMCwgMTApLAogICAgICAgICAgICAgICAgICAgICAgIGNoYWlucyA9IENIQUlOUywgaXRlciA9IElURVIsIHdhcm11cCA9IFdBUk1VUCwgc2VlZCA9IEJBWUVTX1NFRUQpCgptX2xpa2VseV9jaSA8LSB1cGRhdGUobV9saWtlbHlfYywgLiB+IC4gKyBpc3N1ZSArIGNyYWNrZG93biAqIGlzc3VlKQoKbV9saWtlbHlfY2lmIDwtIHVwZGF0ZShtX2xpa2VseV9jLCAuIH4gLiArIAogICAgICAgICAgICAgICAgICAgICAgICAgaXNzdWUgKyBmdW5kaW5nICsgY3JhY2tkb3duICogaXNzdWUgKyBjcmFja2Rvd24gKiBmdW5kaW5nICsgCiAgICAgICAgICAgICAgICAgICAgICAgICBpc3N1ZSAqIGZ1bmRpbmcgKyBjcmFja2Rvd24gKiBpc3N1ZSAqIGZ1bmRpbmcpCgojIE1vZGVscyB3aXRoIGp1c3QgaXNzdWUgYW5kIGp1c3QgZnVuZGluZwptX2xpa2VseV9pIDwtIHVwZGF0ZShtX2xpa2VseV9jLCAuIH4gaXNzdWUpCm1fbGlrZWx5X2YgPC0gdXBkYXRlKG1fbGlrZWx5X2MsIC4gfiBmdW5kaW5nKQpgYGAKCmBgYHtyIHRibC1tb2RlbHMtbGlrZWx5LCB3YXJuaW5nPUZBTFNFLCByZXN1bHRzPSJhc2lzIn0KIyBHZXQgc3Vic2V0IG9mIGNvZWZmaWNpZW50cwpjb2Vmc190b19pbmNsdWRlIDwtIGxpc3QobV9saWtlbHlfYywgbV9saWtlbHlfY2ksIG1fbGlrZWx5X2NpZikgJT4lIAogIG1hcCh+IHRpZHkoLikpICU+JSBiaW5kX3Jvd3MoKSAlPiUgZGlzdGluY3QodGVybSkgJT4lIHB1bGwodGVybSkKCmh1eHJlZyhtX2xpa2VseV9jLCBtX2xpa2VseV9jaSwgbV9saWtlbHlfY2lmLCAKICAgICAgIGNvZWZzID0gY2xlYW5fY29lZnNfbmFtZWRbY2xlYW5fY29lZnNfbmFtZWQgJWluJSBjb2Vmc190b19pbmNsdWRlXSwKICAgICAgIHN0YXRpc3RpY3MgPSBtb2RlbF9zdGF0c19iYXllcywKICAgICAgIHN0YXJzID0gTlVMTCkgJVQ+JSAKICBwcmludF9odXgoKSAlPiUgCiAgdG9fbWQobWF4X3dpZHRoID0gMTAwKSAlPiUgCiAgY2F0KGZpbGUgPSBmaWxlLnBhdGgoaGVyZSgpLCAib3V0cHV0IiwgInRhYmxlcyIsICJ0YmwtbW9kZWxzLWxpa2VsaWhvb2QubWQiKSkKYGBgCgojIyBQcmVkaWN0ZWQgbWVkaWFucwoKYGBge3IgbGlrZWx5LW1lZGlhbi1jfQpuZXdkYXRhX2NvbmRpdGlvbnNfYyA8LSByZXN1bHRzICU+JSBleHBhbmQobmVzdGluZyhjcmFja2Rvd24pKQoKIyB0cmFuc2Zvcm0gPSBUUlVFIGRvZXMgdGhlIHNhbWUgdGhpbmcgYXMgcGxvZ2lzKGFzLm1hdHJpeChtX2xpa2VseV9jKSkKY2hhaW5zX2ZpdHRlZF9saWtlbHlfYyA8LSBwb3N0ZXJpb3JfbGlucHJlZChtX2xpa2VseV9jLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdkYXRhID0gbmV3ZGF0YV9jb25kaXRpb25zX2MsIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybSA9IFRSVUUpCgpjb2VmX3N1bW1hcnlfbGlrZWx5X2MgPC0gbmV3ZGF0YV9jb25kaXRpb25zX2MgJT4lIAogIGJpbmRfY29scyh0aWR5TUNNQyhhcy5tY21jKGNoYWluc19maXR0ZWRfbGlrZWx5X2MpLCBlc3RpbWF0ZS5tZXRob2QgPSAibWVkaWFuIiwKICAgICAgICAgICAgICAgICAgICAgY29uZi5pbnQgPSBUUlVFLCBjb25mLmxldmVsID0gMC45LCBjb25mLm1ldGhvZCA9ICJIUERpbnRlcnZhbCIpKQoKcGxvdF9saWtlbHlfYyA8LSBnZ3Bsb3QoY29lZl9zdW1tYXJ5X2xpa2VseV9jLCBhZXMoeSA9IGVzdGltYXRlLCB4ID0gY3JhY2tkb3duKSkgKyAKICAjIGdlb21fcG9pbnQoZGF0YSA9IHJlc3VsdHMsIGFlcyh5ID0gYW1vdW50X2RvbmF0ZSwgeCA9IGNyYWNrZG93biksCiAgIyAgICAgICAgICAgIGNvbG9yID0gImdyZXk1MCIsIHNpemUgPSAwLjUsIGFscGhhID0gMC4yNSkgKwogIGdlb21fcG9pbnRyYW5nZShhZXMoeW1pbiA9IGNvbmYubG93LCB5bWF4ID0gY29uZi5oaWdoKSwgY29sb3IgPSBuZ29fY29scygiZ3JlZW4iKSkgKyAKICBzY2FsZV95X2NvbnRpbnVvdXMobGFiZWxzID0gcGVyY2VudCkgKwogIGxhYnMoeCA9IE5VTEwsIHkgPSAiUHJvYmFiaWxpdHkgb2YgZG9uYXRpbmciKSArCiAgIyBjb29yZF9jYXJ0ZXNpYW4oeWxpbSA9IGMoMCwgMTAwKSkgKwogIHRoZW1lX25nb3MoKSArCiAgdGhlbWUocGFuZWwuZ3JpZC5tYWpvci54ID0gZWxlbWVudF9ibGFuaygpKQpgYGAKCmBgYHtyIGxpa2VseS1tZWRpYW4taX0KbmV3ZGF0YV9jb25kaXRpb25zX2kgPC0gcmVzdWx0cyAlPiUgZXhwYW5kKG5lc3RpbmcoaXNzdWUpKQoKY2hhaW5zX2ZpdHRlZF9saWtlbHlfaSA8LSBwb3N0ZXJpb3JfbGlucHJlZChtX2xpa2VseV9pLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdkYXRhID0gbmV3ZGF0YV9jb25kaXRpb25zX2ksIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybSA9IFRSVUUpCgpjb2VmX3N1bW1hcnlfbGlrZWx5X2kgPC0gbmV3ZGF0YV9jb25kaXRpb25zX2kgJT4lIAogIGJpbmRfY29scyh0aWR5TUNNQyhhcy5tY21jKGNoYWluc19maXR0ZWRfbGlrZWx5X2kpLCBlc3RpbWF0ZS5tZXRob2QgPSAibWVkaWFuIiwKICAgICAgICAgICAgICAgICAgICAgY29uZi5pbnQgPSBUUlVFLCBjb25mLmxldmVsID0gMC45LCBjb25mLm1ldGhvZCA9ICJIUERpbnRlcnZhbCIpKQoKcGxvdF9saWtlbHlfaSA8LSBnZ3Bsb3QoY29lZl9zdW1tYXJ5X2xpa2VseV9pLCBhZXMoeSA9IGVzdGltYXRlLCB4ID0gaXNzdWUpKSArIAogIGdlb21fcG9pbnRyYW5nZShhZXMoeW1pbiA9IGNvbmYubG93LCB5bWF4ID0gY29uZi5oaWdoKSwgY29sb3IgPSBuZ29fY29scygiZ3JlZW4iKSkgKyAKICBzY2FsZV95X2NvbnRpbnVvdXMobGFiZWxzID0gcGVyY2VudCkgKwogIGxhYnMoeCA9IE5VTEwsIHkgPSAiUHJvYmFiaWxpdHkgb2YgZG9uYXRpbmciKSArCiAgdGhlbWVfbmdvcygpICsKICB0aGVtZShwYW5lbC5ncmlkLm1ham9yLnggPSBlbGVtZW50X2JsYW5rKCkpCmBgYAoKYGBge3IgbGlrZWx5LW1lZGlhbi1mfQpuZXdkYXRhX2NvbmRpdGlvbnNfZiA8LSByZXN1bHRzICU+JSBleHBhbmQobmVzdGluZyhmdW5kaW5nKSkKCmNoYWluc19maXR0ZWRfbGlrZWx5X2YgPC0gcG9zdGVyaW9yX2xpbnByZWQobV9saWtlbHlfZiwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3ZGF0YSA9IG5ld2RhdGFfY29uZGl0aW9uc19mLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm0gPSBUUlVFKQoKY29lZl9zdW1tYXJ5X2xpa2VseV9mIDwtIG5ld2RhdGFfY29uZGl0aW9uc19mICU+JSAKICBiaW5kX2NvbHModGlkeU1DTUMoYXMubWNtYyhjaGFpbnNfZml0dGVkX2xpa2VseV9mKSwgZXN0aW1hdGUubWV0aG9kID0gIm1lZGlhbiIsCiAgICAgICAgICAgICAgICAgICAgIGNvbmYuaW50ID0gVFJVRSwgY29uZi5sZXZlbCA9IDAuOSwgY29uZi5tZXRob2QgPSAiSFBEaW50ZXJ2YWwiKSkKCnBsb3RfbGlrZWx5X2YgPC0gZ2dwbG90KGNvZWZfc3VtbWFyeV9saWtlbHlfZiwgYWVzKHkgPSBlc3RpbWF0ZSwgeCA9IGZ1bmRpbmcpKSArIAogIGdlb21fcG9pbnRyYW5nZShhZXMoeW1pbiA9IGNvbmYubG93LCB5bWF4ID0gY29uZi5oaWdoKSwgY29sb3IgPSBuZ29fY29scygiZ3JlZW4iKSkgKyAKICBzY2FsZV95X2NvbnRpbnVvdXMobGFiZWxzID0gcGVyY2VudCkgKwogIGxhYnMoeCA9IE5VTEwsIHkgPSAiUHJvYmFiaWxpdHkgb2YgZG9uYXRpbmciKSArCiAgdGhlbWVfbmdvcygpICsKICB0aGVtZShwYW5lbC5ncmlkLm1ham9yLnggPSBlbGVtZW50X2JsYW5rKCkpCmBgYAoKYGBge3IgbGlrZWx5LW1lZGlhbi1jaX0KbmV3ZGF0YV9jb25kaXRpb25zX2NpIDwtIHJlc3VsdHMgJT4lIGV4cGFuZChuZXN0aW5nKGNyYWNrZG93biwgaXNzdWUpKQoKY2hhaW5zX2ZpdHRlZF9saWtlbHlfY2kgPC0gcG9zdGVyaW9yX2xpbnByZWQobV9saWtlbHlfY2ksIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdkYXRhID0gbmV3ZGF0YV9jb25kaXRpb25zX2NpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm0gPSBUUlVFKQoKY29lZl9zdW1tYXJ5X2xpa2VseV9jaSA8LSBuZXdkYXRhX2NvbmRpdGlvbnNfY2kgJT4lIAogIGJpbmRfY29scyh0aWR5TUNNQyhhcy5tY21jKGNoYWluc19maXR0ZWRfbGlrZWx5X2NpKSwgZXN0aW1hdGUubWV0aG9kID0gIm1lZGlhbiIsCiAgICAgICAgICAgICAgICAgICAgIGNvbmYuaW50ID0gVFJVRSwgY29uZi5sZXZlbCA9IDAuOSwgY29uZi5tZXRob2QgPSAiSFBEaW50ZXJ2YWwiKSkKCnBsb3RfbGlrZWx5X2NpIDwtIGdncGxvdChjb2VmX3N1bW1hcnlfbGlrZWx5X2NpLCBhZXMoeSA9IGVzdGltYXRlLCB4ID0gY3JhY2tkb3duKSkgKyAKICAjIGdlb21fcG9pbnQoZGF0YSA9IHJlc3VsdHMsIGFlcyh5ID0gYW1vdW50X2RvbmF0ZSwgeCA9IGNyYWNrZG93biksCiAgIyAgICAgICAgICAgIGNvbG9yID0gImdyZXk1MCIsIHNpemUgPSAwLjUsIGFscGhhID0gMC4yNSkgKwogIGdlb21fcG9pbnRyYW5nZShhZXMoeW1pbiA9IGNvbmYubG93LCB5bWF4ID0gY29uZi5oaWdoKSwgY29sb3IgPSBuZ29fY29scygiYmx1ZSIpKSArIAogIHNjYWxlX3lfY29udGludW91cyhsYWJlbHMgPSBwZXJjZW50KSArCiAgbGFicyh4ID0gTlVMTCwgeSA9ICJQcm9iYWJpbGl0eSBvZiBkb25hdGluZyIpICsKICAjIGNvb3JkX2NhcnRlc2lhbih5bGltID0gYygwLCAxMDApKSArCiAgdGhlbWVfbmdvcygpICsKICB0aGVtZShwYW5lbC5ncmlkLm1ham9yLnggPSBlbGVtZW50X2JsYW5rKCksCiAgICAgICAgc3RyaXAudGV4dCA9IGVsZW1lbnRfdGV4dChtYXJnaW4gPSBtYXJnaW4oNSwgMCwgMiwgMCwgInB0IikpKSArCiAgZmFjZXRfd3JhcCh+IGlzc3VlKQpgYGAKCmBgYHtyIGxpa2VseS1tZWRpYW4tY2lmfQpuZXdkYXRhX2NvbmRpdGlvbnNfY2lmIDwtIHJlc3VsdHMgJT4lIGV4cGFuZChuZXN0aW5nKGNyYWNrZG93biwgaXNzdWUsIGZ1bmRpbmcpKQoKY2hhaW5zX2ZpdHRlZF9saWtlbHlfY2lmIDwtIHBvc3Rlcmlvcl9saW5wcmVkKG1fbGlrZWx5X2NpZiwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdkYXRhID0gbmV3ZGF0YV9jb25kaXRpb25zX2NpZiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybSA9IFRSVUUpCgpjb2VmX3N1bW1hcnlfbGlrZWx5X2NpZiA8LSBuZXdkYXRhX2NvbmRpdGlvbnNfY2lmICU+JSAKICBiaW5kX2NvbHModGlkeU1DTUMoYXMubWNtYyhjaGFpbnNfZml0dGVkX2xpa2VseV9jaWYpLCBlc3RpbWF0ZS5tZXRob2QgPSAibWVkaWFuIiwKICAgICAgICAgICAgICAgICAgICAgY29uZi5pbnQgPSBUUlVFLCBjb25mLmxldmVsID0gMC45LCBjb25mLm1ldGhvZCA9ICJIUERpbnRlcnZhbCIpKQoKcGxvdF9saWtlbHlfY2lmIDwtIGdncGxvdChjb2VmX3N1bW1hcnlfbGlrZWx5X2NpZiwgYWVzKHkgPSBlc3RpbWF0ZSwgeCA9IGNyYWNrZG93bikpICsgCiAgIyBnZW9tX3BvaW50KGRhdGEgPSByZXN1bHRzLCBhZXMoeSA9IGFtb3VudF9kb25hdGUsIHggPSBjcmFja2Rvd24pLAogICMgICAgICAgICAgICBjb2xvciA9ICJncmV5NTAiLCBzaXplID0gMC41LCBhbHBoYSA9IDAuNSkgKwogIGdlb21fcG9pbnRyYW5nZShhZXMoeW1pbiA9IGNvbmYubG93LCB5bWF4ID0gY29uZi5oaWdoKSwgY29sb3IgPSBuZ29fY29scygicmVkIikpICsKICBzY2FsZV95X2NvbnRpbnVvdXMobGFiZWxzID0gcGVyY2VudCkgKwogIGxhYnMoeCA9IE5VTEwsIHkgPSAiUHJvYmFiaWxpdHkgb2YgZG9uYXRpbmciKSArCiAgdGhlbWVfbmdvcygpICsKICB0aGVtZShwYW5lbC5ncmlkLm1ham9yLnggPSBlbGVtZW50X2JsYW5rKCksCiAgICAgICAgc3RyaXAudGV4dCA9IGVsZW1lbnRfdGV4dChtYXJnaW4gPSBtYXJnaW4oNSwgMCwgMiwgMCwgInB0IikpKSArCiAgZmFjZXRfd3JhcCh+IGlzc3VlICsgZnVuZGluZykKYGBgCgpgYGB7ciBwbG90LWFsbC1saWtlbHktbWVkaWFucywgZmlnLndpZHRoPTgsIGZpZy5oZWlnaHQ9Nn0KcGxvdF9saWtlbHlfYWxsIDwtIAogIChwbG90X2xpa2VseV9jIC8gcGxvdF9saWtlbHlfY2kpIHwgCiAgcGxvdF9saWtlbHlfY2lmCgpwbG90X2xpa2VseV9hbGwgKwogIHBsb3RfYW5ub3RhdGlvbih0aXRsZSA9ICJNZWRpYW4gbGlrZWxpaG9vZCBvZiBkb25hdGlvbiBpbiBjb250cm9sIGFuZCBjcmFja2Rvd24gZ3JvdXBzLFxuY29uZGl0aW9uZWQgYnkgb3RoZXIgZXhwZXJpbWVudGFsIGdyb3VwcyIsCiAgICAgICAgICAgICAgICAgIHN1YnRpdGxlID0gIjkwJSBjcmVkaWJsZSBpbnRlcnZhbHMgc2hvd24gYXJvdW5kIGVhY2ggcG9pbnQiLAogICAgICAgICAgICAgICAgICB0YWdfbGV2ZWxzID0gIkEiLCB0aGVtZSA9IHRoZW1lX25nb3MoKSkKCihwbG90X2xpa2VseV9hbGwgKwogIHBsb3RfYW5ub3RhdGlvbihjYXB0aW9uID0gIjkwJSBjcmVkaWJsZSBpbnRlcnZhbHMgc2hvd24gYXJvdW5kIGVhY2ggcG9pbnQiLAogICAgICAgICAgICAgICAgICB0YWdfbGV2ZWxzID0gIkEiLCB0aGVtZSA9IHRoZW1lX25nb3MoKSkpICVUPiUgCiAgZ2dzYXZlKC4sIGZpbGVuYW1lID0gZmlsZS5wYXRoKGhlcmUoKSwgIm91dHB1dCIsICJmaWd1cmVzIiwgImxpa2VsaWhvb2QtbWVkaWFucy5wZGYiKSwKICAgICAgICAgd2lkdGggPSA4LCBoZWlnaHQgPSA0LjI1LCB1bml0cyA9ICJpbiIsIGRldmljZSA9IGNhaXJvX3BkZikgJT4lIAogIGdnc2F2ZSguLCBmaWxlbmFtZSA9IGZpbGUucGF0aChoZXJlKCksICJvdXRwdXQiLCAiZmlndXJlcyIsICJsaWtlbGlob29kLW1lZGlhbnMucG5nIiksCiAgICAgICAgIHdpZHRoID0gOCwgaGVpZ2h0ID0gNC4yNSwgdW5pdHMgPSAiaW4iLCB0eXBlID0gImNhaXJvIiwgZHBpID0gMzAwKQpgYGAKCgojIyBEaWZmZXJlbmNlcyBpbiBtZWRpYW5zCgpgYGB7ciBsaWtlbHktZGlmZnMtY30KZGlmZnNfY29lZl9saWtlbHlfcGFpcnNfYyA8LSBjaGFpbnNfZml0dGVkX2xpa2VseV9jICU+JSAKICBhc19kYXRhX2ZyYW1lKCkgJT4lIAogIG1hZ3JpdHRyOjpzZXRfY29sbmFtZXMobGV2ZWxzKG5ld2RhdGFfY29uZGl0aW9uc19jJGNyYWNrZG93bikpICU+JSAKICBtY21jX3BhaXJ3aXNlX2RpZmZzKCkKCmRpZmZzX2NvZWZfbGlrZWx5X3BhaXJzX2RldGFpbF9jIDwtIHRpZHlfZGlmZnMoZGlmZnNfY29lZl9saWtlbHlfcGFpcnNfYykKCnBhaXJzX2xpa2VseV9wbG90X2RhdGFfYyA8LSBkaWZmc19jb2VmX2xpa2VseV9wYWlyc19jICU+JQogIGdhdGhlcihwYWlyLCB2YWx1ZSkgJT4lCiAgbXV0YXRlKHBhaXIxID0gcGFpcikgJT4lCiAgc2VwYXJhdGUocGFpcjEsIGludG8gPSBjKCJncm91cDEiLCAiZ3JvdXAyIiksIHNlcCA9ICIg4oiSICIpICU+JQogIG11dGF0ZShwYWlyID0gaWZlbHNlKG5jaGFyKHBhaXIpID4gMjUsCiAgICAgICAgICAgICAgICAgICAgICAgc3RyX3JlcGxhY2UocGFpciwgIuKIkiIsICLiiJJcbiIpLAogICAgICAgICAgICAgICAgICAgICAgIHBhaXIpKQogIApwbG90X2RpZmZzX2xpa2VseV9jIDwtIGdncGxvdCgpICsgCiAgZ2VvbV9kZW5zaXR5KGRhdGEgPSBwYWlyc19saWtlbHlfcGxvdF9kYXRhX2MsIGFlcyh4ID0gdmFsdWUpLAogICAgICAgICAgICAgICBmaWxsID0gbmdvX2NvbHMoImdyZWVuIiksIGNvbG91ciA9IE5BLCBhbHBoYSA9IDAuNCkgKyAKICBnZW9tX3NlZ21lbnQoZGF0YSA9IGRpZmZzX2NvZWZfbGlrZWx5X3BhaXJzX2RldGFpbF9jLCAKICAgICAgICAgICAgICAgYWVzKHggPSBxNSwgeGVuZCA9IHE5NSwgeSA9IDAsIHllbmQgPSAwKSwKICAgICAgICAgICAgICAgc2l6ZSA9IDMpICsKICBnZW9tX3ZsaW5lKGRhdGEgPSBkaWZmc19jb2VmX2xpa2VseV9wYWlyc19kZXRhaWxfYywgCiAgICAgICAgICAgICBhZXMoeGludGVyY2VwdCA9IG1lZGlhbiksIHNpemUgPSAwLjI1KSArCiAgZ2VvbV92bGluZSh4aW50ZXJjZXB0ID0gMCwgbGluZXR5cGUgPSAiZG90dGVkIikgKwogIGd1aWRlcyhmaWxsID0gRkFMU0UsIGNvbG9yID0gRkFMU0UpICsKICBzY2FsZV94X2NvbnRpbnVvdXMobGFiZWxzID0gcGVyY2VudCkgKwogIGxhYnMoeCA9ICJEaWZmZXJlbmNlIGluIG1lZGlhbnMiKSArCiAgdGhlbWVfbmdvcyhkZW5zaXR5ID0gVFJVRSkgKwogIGZhY2V0X3dyYXAofiBwYWlyKQpgYGAKCmBgYHtyIGxpa2VseS1kaWZmcy1pfQpkaWZmc19jb2VmX2xpa2VseV9wYWlyc19pIDwtIGNoYWluc19maXR0ZWRfbGlrZWx5X2kgJT4lIAogIGFzX2RhdGFfZnJhbWUoKSAlPiUgCiAgbWFncml0dHI6OnNldF9jb2xuYW1lcyhsZXZlbHMobmV3ZGF0YV9jb25kaXRpb25zX2kkaXNzdWUpKSAlPiUgCiAgbWNtY19wYWlyd2lzZV9kaWZmcygpCgpkaWZmc19jb2VmX2xpa2VseV9wYWlyc19kZXRhaWxfaSA8LSB0aWR5X2RpZmZzKGRpZmZzX2NvZWZfbGlrZWx5X3BhaXJzX2kpCgpwYWlyc19saWtlbHlfcGxvdF9kYXRhX2kgPC0gZGlmZnNfY29lZl9saWtlbHlfcGFpcnNfaSAlPiUKICBnYXRoZXIocGFpciwgdmFsdWUpICU+JQogIG11dGF0ZShwYWlyMSA9IHBhaXIpICU+JQogIHNlcGFyYXRlKHBhaXIxLCBpbnRvID0gYygiZ3JvdXAxIiwgImdyb3VwMiIpLCBzZXAgPSAiIOKIkiAiKSAlPiUKICBtdXRhdGUocGFpciA9IGlmZWxzZShuY2hhcihwYWlyKSA+IDI1LAogICAgICAgICAgICAgICAgICAgICAgIHN0cl9yZXBsYWNlKHBhaXIsICLiiJIiLCAi4oiSXG4iKSwKICAgICAgICAgICAgICAgICAgICAgICBwYWlyKSkKYGBgCgpgYGB7ciBsaWtlbHktZGlmZnMtZn0KZGlmZnNfY29lZl9saWtlbHlfcGFpcnNfZiA8LSBjaGFpbnNfZml0dGVkX2xpa2VseV9mICU+JSAKICBhc19kYXRhX2ZyYW1lKCkgJT4lIAogIG1hZ3JpdHRyOjpzZXRfY29sbmFtZXMobGV2ZWxzKG5ld2RhdGFfY29uZGl0aW9uc19mJGZ1bmRpbmcpKSAlPiUgCiAgbWNtY19wYWlyd2lzZV9kaWZmcygpCgpkaWZmc19jb2VmX2xpa2VseV9wYWlyc19kZXRhaWxfZiA8LSB0aWR5X2RpZmZzKGRpZmZzX2NvZWZfbGlrZWx5X3BhaXJzX2YpCgpwYWlyc19saWtlbHlfcGxvdF9kYXRhX2YgPC0gZGlmZnNfY29lZl9saWtlbHlfcGFpcnNfZiAlPiUKICBnYXRoZXIocGFpciwgdmFsdWUpICU+JQogIG11dGF0ZShwYWlyMSA9IHBhaXIpICU+JQogIHNlcGFyYXRlKHBhaXIxLCBpbnRvID0gYygiZ3JvdXAxIiwgImdyb3VwMiIpLCBzZXAgPSAiIOKIkiAiKSAlPiUKICBtdXRhdGUocGFpciA9IGlmZWxzZShuY2hhcihwYWlyKSA+IDI1LAogICAgICAgICAgICAgICAgICAgICAgIHN0cl9yZXBsYWNlKHBhaXIsICLiiJIiLCAi4oiSXG4iKSwKICAgICAgICAgICAgICAgICAgICAgICBwYWlyKSkKYGBgCgpgYGB7ciBsaWtlbHktZGlmZnMtY2l9CiMgTmVzdCBlYWNoIGZpdHRlZCBjaGFpbiBpbnRvIGEgc2luZ2xlIHJvdyB0aGF0IGNvcnJlc3BvbmRzIHRvIGVhY2ggbmV3ZGF0YV9jb25kaXRpb24KY2hhaW5zX25lc3RlZF9saWtlbHlfY2kgPC0gY2hhaW5zX2ZpdHRlZF9saWtlbHlfY2kgJT4lIAogIGFzX2RhdGFfZnJhbWUoKSAlPiUgCiAgbXV0YXRlKGlkID0gMTpuKCkpICU+JSAKICBnYXRoZXIoY29uZGl0aW9uLCB2YWx1ZSwgLWlkKSAlPiUgCiAgZ3JvdXBfYnkoY29uZGl0aW9uKSAlPiUgCiAgbmVzdCgpCgojIEFkZCB0aGUgZml0dGVkIGNoYWlucyB0byB0aGUgY29uZGl0aW9ucywgc3ByZWFkIHRoZSBtYWluIGNyYWNrZG93biBjb25kaXRpb24KIyBpbnRvIHR3byBjb2x1bW5zLCB0aGVuIG5lc3QgZXZlcnl0aGluZyBieSBpc3N1ZQphbGxfY2hhaW5zX2xpa2VseV9jaSA8LSBiaW5kX2NvbHMobmV3ZGF0YV9jb25kaXRpb25zX2NpLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYWluc19uZXN0ZWRfbGlrZWx5X2NpKSAlPiUgCiAgdW5uZXN0KGRhdGEpICU+JSAKICBzZWxlY3QoLWNvbmRpdGlvbikgJT4lIAogIGdyb3VwX2J5KGlzc3VlKSAlPiUgCiAgc3ByZWFkKGNyYWNrZG93biwgdmFsdWUpICU+JSAKICBzZWxlY3QoLWlkKSAlPiUgCiAgbmVzdCgpCgojIEFsbCB0aGUgcGFpcndpc2UgZGlmZmVyZW5jZXMgaW4gYSBzaW5nbGUgZGF0YSBmcmFtZSwgZ3JvdXBlZCBieSBpc3N1ZQpwYWlyc19saWtlbHlfY29uZGl0aW9uc19jaSA8LSBhbGxfY2hhaW5zX2xpa2VseV9jaSAlPiUgCiAgbXV0YXRlKGRpZmZzX2NvZWZfcGFpcnMgPSBkYXRhICU+JSBtYXAofiBtY21jX3BhaXJ3aXNlX2RpZmZzKC4pKSwKICAgICAgICAgZGlmZnNfY29lZl9wYWlyc19kZXRhaWwgPSBkaWZmc19jb2VmX3BhaXJzICU+JSBtYXAofiB0aWR5X2RpZmZzKC4pKSkKCiMgRXh0cmFjdCBjb2VmZmljaWVudCBkZXRhaWxzIGFuZCBwbG90IGRhdGEKZGlmZnNfY29lZl9saWtlbHlfcGFpcnNfZGV0YWlsX2NpIDwtIHBhaXJzX2xpa2VseV9jb25kaXRpb25zX2NpICU+JSAKICB1bm5lc3QoZGlmZnNfY29lZl9wYWlyc19kZXRhaWwpICU+JSAKICBzZWxlY3QoLWRhdGEsIC1kaWZmc19jb2VmX3BhaXJzKQoKcGFpcnNfbGlrZWx5X3Bsb3RfZGF0YV9jaSA8LSBwYWlyc19saWtlbHlfY29uZGl0aW9uc19jaSAlPiUgCiAgc2VsZWN0KGlzc3VlLCBkaWZmc19jb2VmX3BhaXJzKSAlPiUgCiAgdW5uZXN0KGRpZmZzX2NvZWZfcGFpcnMpICU+JQogIGdhdGhlcihwYWlyLCB2YWx1ZSwgLWlzc3VlKSAlPiUKICBtdXRhdGUocGFpcjEgPSBwYWlyKSAlPiUKICBzZXBhcmF0ZShwYWlyMSwgaW50byA9IGMoImdyb3VwMSIsICJncm91cDIiKSwgc2VwID0gIiDiiJIgIikgJT4lCiAgbXV0YXRlKHBhaXIgPSBpZmVsc2UobmNoYXIocGFpcikgPiAyNSwKICAgICAgICAgICAgICAgICAgICAgICBzdHJfcmVwbGFjZShwYWlyLCAi4oiSIiwgIuKIklxuIiksCiAgICAgICAgICAgICAgICAgICAgICAgcGFpcikpCgpwbG90X2RpZmZzX2xpa2VseV9jaSA8LSBnZ3Bsb3QoKSArIAogIGdlb21fZGVuc2l0eShkYXRhID0gcGFpcnNfbGlrZWx5X3Bsb3RfZGF0YV9jaSwgYWVzKHggPSB2YWx1ZSksCiAgICAgICAgICAgICAgIGZpbGwgPSBuZ29fY29scygiYmx1ZSIpLCBjb2xvdXIgPSBOQSwgYWxwaGEgPSAwLjQpICsgCiAgZ2VvbV9zZWdtZW50KGRhdGEgPSBkaWZmc19jb2VmX2xpa2VseV9wYWlyc19kZXRhaWxfY2ksIAogICAgICAgICAgICAgICBhZXMoeCA9IHE1LCB4ZW5kID0gcTk1LCB5ID0gMCwgeWVuZCA9IDApLAogICAgICAgICAgICAgICBzaXplID0gMykgKwogIGdlb21fdmxpbmUoZGF0YSA9IGRpZmZzX2NvZWZfbGlrZWx5X3BhaXJzX2RldGFpbF9jaSwgCiAgICAgICAgICAgICBhZXMoeGludGVyY2VwdCA9IG1lZGlhbiksIHNpemUgPSAwLjI1KSArCiAgZ2VvbV92bGluZSh4aW50ZXJjZXB0ID0gMCwgbGluZXR5cGUgPSAiZG90dGVkIikgKwogIGd1aWRlcyhmaWxsID0gRkFMU0UsIGNvbG9yID0gRkFMU0UpICsKICBzY2FsZV94X2NvbnRpbnVvdXMobGFiZWxzID0gcGVyY2VudCkgKwogIGxhYnMoeCA9ICJEaWZmZXJlbmNlIGluIG1lZGlhbnMiKSArCiAgdGhlbWVfbmdvcyhkZW5zaXR5ID0gVFJVRSkgKwogIGZhY2V0X3dyYXAofiBpc3N1ZSArIHBhaXIpCmBgYAoKYGBge3IgbGlrZWx5LWRpZmZzLWNpZn0KIyBOZXN0IGVhY2ggZml0dGVkIGNoYWluIGludG8gYSBzaW5nbGUgcm93IHRoYXQgY29ycmVzcG9uZHMgdG8gZWFjaCBuZXdkYXRhX2NvbmRpdGlvbgpjaGFpbnNfbmVzdGVkX2xpa2VseV9jaWYgPC0gY2hhaW5zX2ZpdHRlZF9saWtlbHlfY2lmICU+JSAKICBhc19kYXRhX2ZyYW1lKCkgJT4lIAogIG11dGF0ZShpZCA9IDE6bigpKSAlPiUgCiAgZ2F0aGVyKGNvbmRpdGlvbiwgdmFsdWUsIC1pZCkgJT4lIAogIGdyb3VwX2J5KGNvbmRpdGlvbikgJT4lIAogIG5lc3QoKQoKIyBBZGQgdGhlIGZpdHRlZCBjaGFpbnMgdG8gdGhlIGNvbmRpdGlvbnMsIHNwcmVhZCB0aGUgbWFpbiBjcmFja2Rvd24gY29uZGl0aW9uCiMgaW50byB0d28gY29sdW1ucywgdGhlbiBuZXN0IGV2ZXJ5dGhpbmcgYnkgaXNzdWUKYWxsX2NoYWluc19saWtlbHlfY2lmIDwtIGJpbmRfY29scyhuZXdkYXRhX2NvbmRpdGlvbnNfY2lmLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFpbnNfbmVzdGVkX2xpa2VseV9jaWYpICU+JSAKICB1bm5lc3QoZGF0YSkgJT4lIAogIHNlbGVjdCgtY29uZGl0aW9uKSAlPiUgCiAgZ3JvdXBfYnkoaXNzdWUsIGZ1bmRpbmcpICU+JSAKICBzcHJlYWQoY3JhY2tkb3duLCB2YWx1ZSkgJT4lIAogIHNlbGVjdCgtaWQpICU+JSAKICBuZXN0KCkKCiMgQWxsIHRoZSBwYWlyd2lzZSBkaWZmZXJlbmNlcyBpbiBhIHNpbmdsZSBkYXRhIGZyYW1lLCBncm91cGVkIGJ5IGlzc3VlCnBhaXJzX2xpa2VseV9jb25kaXRpb25zX2NpZiA8LSBhbGxfY2hhaW5zX2xpa2VseV9jaWYgJT4lIAogIG11dGF0ZShkaWZmc19jb2VmX3BhaXJzID0gZGF0YSAlPiUgbWFwKH4gbWNtY19wYWlyd2lzZV9kaWZmcyguKSksCiAgICAgICAgIGRpZmZzX2NvZWZfcGFpcnNfZGV0YWlsID0gZGlmZnNfY29lZl9wYWlycyAlPiUgbWFwKH4gdGlkeV9kaWZmcyguKSkpCgojIEV4dHJhY3QgY29lZmZpY2llbnQgZGV0YWlscyBhbmQgcGxvdCBkYXRhCmRpZmZzX2NvZWZfbGlrZWx5X3BhaXJzX2RldGFpbF9jaWYgPC0gcGFpcnNfbGlrZWx5X2NvbmRpdGlvbnNfY2lmICU+JSAKICB1bm5lc3QoZGlmZnNfY29lZl9wYWlyc19kZXRhaWwpICU+JSAKICBzZWxlY3QoLWRhdGEsIC1kaWZmc19jb2VmX3BhaXJzKQoKcGFpcnNfbGlrZWx5X3Bsb3RfZGF0YV9jaWYgPC0gcGFpcnNfbGlrZWx5X2NvbmRpdGlvbnNfY2lmICU+JSAKICBzZWxlY3QoaXNzdWUsIGZ1bmRpbmcsIGRpZmZzX2NvZWZfcGFpcnMpICU+JSAKICB1bm5lc3QoZGlmZnNfY29lZl9wYWlycykgJT4lCiAgZ2F0aGVyKHBhaXIsIHZhbHVlLCAtaXNzdWUsIC1mdW5kaW5nKSAlPiUKICBtdXRhdGUocGFpcjEgPSBwYWlyKSAlPiUKICBzZXBhcmF0ZShwYWlyMSwgaW50byA9IGMoImdyb3VwMSIsICJncm91cDIiKSwgc2VwID0gIiDiiJIgIikgJT4lCiAgbXV0YXRlKHBhaXIgPSBpZmVsc2UobmNoYXIocGFpcikgPiAyNSwKICAgICAgICAgICAgICAgICAgICAgICBzdHJfcmVwbGFjZShwYWlyLCAi4oiSIiwgIuKIklxuIiksCiAgICAgICAgICAgICAgICAgICAgICAgcGFpcikpCgpwbG90X2RpZmZzX2xpa2VseV9jaWYgPC0gZ2dwbG90KCkgKyAKICBnZW9tX2RlbnNpdHkoZGF0YSA9IHBhaXJzX2xpa2VseV9wbG90X2RhdGFfY2lmLCBhZXMoeCA9IHZhbHVlKSwKICAgICAgICAgICAgICAgZmlsbCA9IG5nb19jb2xzKCJyZWQiKSwgY29sb3VyID0gTkEsIGFscGhhID0gMC40KSArIAogIGdlb21fc2VnbWVudChkYXRhID0gZGlmZnNfY29lZl9saWtlbHlfcGFpcnNfZGV0YWlsX2NpZiwgCiAgICAgICAgICAgICAgIGFlcyh4ID0gcTUsIHhlbmQgPSBxOTUsIHkgPSAwLCB5ZW5kID0gMCksCiAgICAgICAgICAgICAgIHNpemUgPSAzKSArCiAgZ2VvbV92bGluZShkYXRhID0gZGlmZnNfY29lZl9saWtlbHlfcGFpcnNfZGV0YWlsX2NpZiwgCiAgICAgICAgICAgICBhZXMoeGludGVyY2VwdCA9IG1lZGlhbiksIHNpemUgPSAwLjI1KSArCiAgZ2VvbV92bGluZSh4aW50ZXJjZXB0ID0gMCwgbGluZXR5cGUgPSAiZG90dGVkIikgKwogIGd1aWRlcyhmaWxsID0gRkFMU0UsIGNvbG9yID0gRkFMU0UpICsKICBzY2FsZV94X2NvbnRpbnVvdXMobGFiZWxzID0gcGVyY2VudCkgKwogIGxhYnMoeCA9ICJEaWZmZXJlbmNlIGluIG1lZGlhbnMiKSArCiAgdGhlbWVfbmdvcyhkZW5zaXR5ID0gVFJVRSkgKwogIGZhY2V0X3dyYXAofiBpc3N1ZSArIGZ1bmRpbmcgKyBwYWlyKQpgYGAKCioqQ29tcGFyZSBvbmx5IGluZGl2aWR1YWwgY29uZGl0aW9uczoqKgoKYGBge3IgcGxvdC1zaW5nbGUtbGlrZWx5LWRpZmZzLCBmaWcud2lkdGg9NywgZmlnLmhlaWdodD0yLjV9CmRpZmZzX2xpa2VseV9wbG90X2RhdGFfc2luZ2xlcyA8LSBiaW5kX3Jvd3MocGFpcnNfbGlrZWx5X3Bsb3RfZGF0YV9jLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhaXJzX2xpa2VseV9wbG90X2RhdGFfaSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWlyc19saWtlbHlfcGxvdF9kYXRhX2YpICU+JSAKICBtdXRhdGUocGFpciA9IGZjdF9pbm9yZGVyKHBhaXIsIG9yZGVyZWQgPSBUUlVFKSkKCmRpZmZzX2NvZWZfbGlrZWx5X3BhaXJzX2RldGFpbF9zaW5nbGVzIDwtIGJpbmRfcm93cyhkaWZmc19jb2VmX2xpa2VseV9wYWlyc19kZXRhaWxfYywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmZzX2NvZWZfbGlrZWx5X3BhaXJzX2RldGFpbF9pLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZnNfY29lZl9saWtlbHlfcGFpcnNfZGV0YWlsX2YpICU+JQogIG11dGF0ZShwYWlyID0gaWZlbHNlKG5jaGFyKHBhaXIpID4gMjUsCiAgICAgICAgICAgICAgICAgICAgICAgc3RyX3JlcGxhY2UocGFpciwgIuKIkiIsICLiiJJcbiIpLAogICAgICAgICAgICAgICAgICAgICAgIHBhaXIpLAogICAgICAgICBwYWlyID0gZmN0X2lub3JkZXIocGFpciwgb3JkZXJlZCA9IFRSVUUpKQoKcGxvdF9kaWZmc19saWtlbHlfc2luZ2xlcyA8LSBnZ3Bsb3QoKSArCiAgZ2VvbV9kZW5zaXR5KGRhdGEgPSBkaWZmc19saWtlbHlfcGxvdF9kYXRhX3NpbmdsZXMsIAogICAgICAgICAgICAgICBhZXMoeCA9IHZhbHVlLCBmaWxsID0gcGFpciksCiAgICAgICAgICAgICAgIGNvbG91ciA9IE5BLCBhbHBoYSA9IDAuNCkgKwogIGdlb21fc2VnbWVudChkYXRhID0gZGlmZnNfY29lZl9saWtlbHlfcGFpcnNfZGV0YWlsX3NpbmdsZXMsIAogICAgICAgICAgICAgICBhZXMoeCA9IHE1LCB4ZW5kID0gcTk1LCB5ID0gMCwgeWVuZCA9IDAsIGdyb3VwID0gcGFpciksCiAgICAgICAgICAgICAgIHNpemUgPSAzKSArCiAgZ2VvbV92bGluZShkYXRhID0gZGlmZnNfY29lZl9saWtlbHlfcGFpcnNfZGV0YWlsX3NpbmdsZXMsIAogICAgICAgICAgICAgYWVzKHhpbnRlcmNlcHQgPSBtZWRpYW4pLCBzaXplID0gMC4yNSkgKwogIGdlb21fdmxpbmUoeGludGVyY2VwdCA9IDAsIGxpbmV0eXBlID0gImRvdHRlZCIpICsKICBzY2FsZV94X2NvbnRpbnVvdXMobGFiZWxzID0gcGVyY2VudCkgKwogIHNjYWxlX2ZpbGxfbWFudWFsKHZhbHVlcyA9IG5nb19jb2xzKCJncmVlbiIsICJibHVlIiwgInJlZCIsIG5hbWUgPSBGQUxTRSksIGd1aWRlID0gRkFMU0UpICsKICBsYWJzKHggPSAiRGlmZmVyZW5jZSBpbiBtZWRpYW5zIikgKwogIHRoZW1lX25nb3MoZGVuc2l0eSA9IFRSVUUpICsKICBmYWNldF93cmFwKH4gcGFpcikKCnBsb3RfZGlmZnNfbGlrZWx5X3NpbmdsZXMgJVQ+JQogIHByaW50KCkgJVQ+JSAKICBnZ3NhdmUoLiwgZmlsZW5hbWUgPSBmaWxlLnBhdGgoaGVyZSgpLCAib3V0cHV0IiwgImZpZ3VyZXMiLCAibGlrZWxpaG9vZC1zaW5nbGVzLWRpZmZzLnBkZiIpLAogICAgICAgICB3aWR0aCA9IDcsIGhlaWdodCA9IDIuNSwgdW5pdHMgPSAiaW4iLCBkZXZpY2UgPSBjYWlyb19wZGYpICU+JSAKICBnZ3NhdmUoLiwgZmlsZW5hbWUgPSBmaWxlLnBhdGgoaGVyZSgpLCAib3V0cHV0IiwgImZpZ3VyZXMiLCAibGlrZWxpaG9vZC1zaW5nbGVzLWRpZmZzLnBuZyIpLAogICAgICAgICB3aWR0aCA9IDcsIGhlaWdodCA9IDIuNSwgdW5pdHMgPSAiaW4iLCB0eXBlID0gImNhaXJvIiwgZHBpID0gMzAwKQpgYGAKCmBgYHtyIHRibC1zaW5nbGUtbGlrZWx5LWRpZmZzLCByZXN1bHRzPSJhc2lzIn0KYmluZF9yb3dzKGRpZmZzX2NvZWZfbGlrZWx5X3BhaXJzX2RldGFpbF9jLAogICAgICAgICAgZGlmZnNfY29lZl9saWtlbHlfcGFpcnNfZGV0YWlsX2ksCiAgICAgICAgICBkaWZmc19jb2VmX2xpa2VseV9wYWlyc19kZXRhaWxfZikgJT4lIAogIHNlbGVjdChgRnJhbWVgID0gcGFpciwgYOKIhn5tZWRpYW5+YCA9IG1lZGlhbiwgCiAgICAgICAgIGBwKOKIhiA+IDApYCA9IHAuZ3JlYXRlcjAsIGBwKOKIhiA8IDApYCA9IHAubGVzczAsIGBwKOKIhiDiiaAgMClgID0gcC5kaWZmLm5vdDApICU+JSAKICBwYW5kb2MudGFibGUucmV0dXJuKG1pc3NpbmcgPSAi4oCUIiwgCiAgICAgICAgICAgICAgICAgICAgICBjYXB0aW9uID0gIk1lZGlhbiBkaWZmZXJlbmNlIGJldHdlZW4gbGlrZWxpaG9vZCB0byBkb25hdGUgYWNyb3NzIHNpbmdsZSBjb25kaXRpb25zIikgJVQ+JQogIGNhdCgpICU+JSAKICBjYXQoZmlsZSA9IGZpbGUucGF0aChoZXJlKCksICJvdXRwdXQiLCAidGFibGVzIiwgInRibC1saWtlbGlob29kLXNpbmdsZS1kaWZmcy5tZCIpKQpgYGAKClwKCioqQ29tcGFyZSBuZXN0ZWQgY29uZGl0aW9ucyAod2hhdCB3ZSdyZSByZWFsbHkgbW9zdCBjb25jZXJuZWQgYWJvdXQpOioqCgpgYGB7ciBwbG90LWFsbC1saWtlbHktZGlmZnMsIGZpZy53aWR0aD04LCBmaWcuaGVpZ2h0PTZ9CnBsb3RfZGlmZnNfbGlrZWx5X2FsbCA8LSAKICAocGxvdF9kaWZmc19saWtlbHlfYyAvIHBsb3RfZGlmZnNfbGlrZWx5X2NpKSB8IAogIHBsb3RfZGlmZnNfbGlrZWx5X2NpZgoKcGxvdF9kaWZmc19saWtlbHlfYWxsICsKICBwbG90X2Fubm90YXRpb24odGl0bGUgPSAiRGlmZmVyZW5jZXMgaW4gZG9uYXRpb24gbGlrZWxpaG9vZCBpbiBjb250cm9sIGFuZCBjcmFja2Rvd24gZ3JvdXBzLFxuY29uZGl0aW9uZWQgYnkgb3RoZXIgZXhwZXJpbWVudGFsIGdyb3VwcyIsCiAgICAgICAgICAgICAgICAgIHN1YnRpdGxlID0gIjkwJSBjcmVkaWJsZSBpbnRlcnZhbHMgc2hvd24gaW4gYmxhY2suIFNvbGlkIHZlcnRpY2FsIGxpbmUgPSBtZWRpYW47IGRvdHRlZCB2ZXJ0aWNhbCBsaW5lID0gMCIsCiAgICAgICAgICAgICAgICAgIHRhZ19sZXZlbHMgPSAiQSIsIHRoZW1lID0gdGhlbWVfbmdvcygpKQoKKHBsb3RfZGlmZnNfbGlrZWx5X2FsbCArCiAgcGxvdF9hbm5vdGF0aW9uKGNhcHRpb24gPSAiOTAlIGNyZWRpYmxlIGludGVydmFscyBzaG93biBpbiBibGFjay4gU29saWQgdmVydGljYWwgbGluZSA9IG1lZGlhbjsgZG90dGVkIHZlcnRpY2FsIGxpbmUgPSAwIiwKICAgICAgICAgICAgICAgICAgdGFnX2xldmVscyA9ICJBIiwgdGhlbWUgPSB0aGVtZV9uZ29zKCkpKSAlVD4lIAogIGdnc2F2ZSguLCBmaWxlbmFtZSA9IGZpbGUucGF0aChoZXJlKCksICJvdXRwdXQiLCAiZmlndXJlcyIsICJsaWtlbGlob29kLWRpZmZzLnBkZiIpLAogICAgICAgICB3aWR0aCA9IDgsIGhlaWdodCA9IDUsIHVuaXRzID0gImluIiwgZGV2aWNlID0gY2Fpcm9fcGRmKSAlPiUgCiAgZ2dzYXZlKC4sIGZpbGVuYW1lID0gZmlsZS5wYXRoKGhlcmUoKSwgIm91dHB1dCIsICJmaWd1cmVzIiwgImxpa2VsaWhvb2QtZGlmZnMucG5nIiksCiAgICAgICAgIHdpZHRoID0gOCwgaGVpZ2h0ID0gNSwgdW5pdHMgPSAiaW4iLCB0eXBlID0gImNhaXJvIiwgZHBpID0gMzAwKQpgYGAKCmBgYHtyIHRibC1hbGwtbGlrZWx5LWRpZmZzLCByZXN1bHRzPSJhc2lzIn0KYmluZF9yb3dzKGRpZmZzX2NvZWZfbGlrZWx5X3BhaXJzX2RldGFpbF9jLAogICAgICAgICAgZGlmZnNfY29lZl9saWtlbHlfcGFpcnNfZGV0YWlsX2NpLAogICAgICAgICAgZGlmZnNfY29lZl9saWtlbHlfcGFpcnNfZGV0YWlsX2NpZikgJT4lIAogIHNlbGVjdChJc3N1ZSA9IGlzc3VlLCBGdW5kaW5nID0gZnVuZGluZywgCiAgICAgICAgIGBObyBjcmFja2Rvd24g4oiSIGNyYWNrZG93bn5tZWRpYW5+YCA9IG1lZGlhbiwgCiAgICAgICAgIGBwKOKIhiA+IDApYCA9IHAuZ3JlYXRlcjAsIGBwKOKIhiA8IDApYCA9IHAubGVzczAsIGBwKOKIhiDiiaAgMClgID0gcC5kaWZmLm5vdDApICU+JSAKICBwYW5kb2MudGFibGUucmV0dXJuKG1pc3NpbmcgPSAi4oCUIiwgCiAgICAgICAgICAgICAgICAgICAgICBjYXB0aW9uID0gJ01lZGlhbiBkaWZmZXJlbmNlIGJldHdlZW4gbGlrZWxpaG9vZCB0byBkb25hdGUgaW4gIm5vIGNyYWNrZG93biIgKGNvbnRyb2wpIGFuZCAiY3JhY2tkb3duIiBjb25kaXRpb25zJykgJVQ+JQogIGNhdCgpICU+JSAKICBjYXQoZmlsZSA9IGZpbGUucGF0aChoZXJlKCksICJvdXRwdXQiLCAidGFibGVzIiwgInRibC1saWtlbGlob29kLWRpZmZzLm1kIikpCmBgYAo=</div>
<p class="footer">Copyright &copy; 2017&ndash;2018 <a href="http://www.suparnachaudhry.com/">Suparna Chaudhry</a> and <a href="https://www.andrewheiss.com/">Andrew Heiss</a>. Licensed under the <a href="https://github.com/andrewheiss/ngo-crackdowns-philanthropy-pilot/blob/master/LICENSE.md">MIT License</a>. Code available on <a href="https://github.com/andrewheiss/ngo-crackdowns-philanthropy-pilot">GitHub</a>.</p>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
